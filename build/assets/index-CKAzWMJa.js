function A$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $G(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var kb={exports:{}},Oh={},Ab={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l6;function LG(){if(l6)return Wt;l6=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function p(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function v(R,I,V){this.props=R,this.context=I,this.refs=y,this.updater=V||x}v.prototype.isReactComponent={},v.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},v.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=v.prototype;function j(R,I,V){this.props=R,this.context=I,this.refs=y,this.updater=V||x}var E=j.prototype=new N;E.constructor=j,b(E,v.prototype),E.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(R,I,V){var re,ce={},me=null,ae=null;if(I!=null)for(re in I.ref!==void 0&&(ae=I.ref),I.key!==void 0&&(me=""+I.key),I)_.call(I,re)&&!T.hasOwnProperty(re)&&(ce[re]=I[re]);var ue=arguments.length-2;if(ue===1)ce.children=V;else if(1<ue){for(var pe=Array(ue),ee=0;ee<ue;ee++)pe[ee]=arguments[ee+2];ce.children=pe}if(R&&R.defaultProps)for(re in ue=R.defaultProps,ue)ce[re]===void 0&&(ce[re]=ue[re]);return{$$typeof:e,type:R,key:me,ref:ae,props:ce,_owner:A.current}}function q(R,I){return{$$typeof:e,type:R.type,key:I,ref:R.ref,props:R.props,_owner:R._owner}}function K(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function $(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(V){return I[V]})}var H=/\/+/g;function W(R,I){return typeof R=="object"&&R!==null&&R.key!=null?$(""+R.key):I.toString(36)}function B(R,I,V,re,ce){var me=typeof R;(me==="undefined"||me==="boolean")&&(R=null);var ae=!1;if(R===null)ae=!0;else switch(me){case"string":case"number":ae=!0;break;case"object":switch(R.$$typeof){case e:case t:ae=!0}}if(ae)return ae=R,ce=ce(ae),R=re===""?"."+W(ae,0):re,k(ce)?(V="",R!=null&&(V=R.replace(H,"$&/")+"/"),B(ce,I,V,"",function(ee){return ee})):ce!=null&&(K(ce)&&(ce=q(ce,V+(!ce.key||ae&&ae.key===ce.key?"":(""+ce.key).replace(H,"$&/")+"/")+R)),I.push(ce)),1;if(ae=0,re=re===""?".":re+":",k(R))for(var ue=0;ue<R.length;ue++){me=R[ue];var pe=re+W(me,ue);ae+=B(me,I,V,pe,ce)}else if(pe=p(R),typeof pe=="function")for(R=pe.call(R),ue=0;!(me=R.next()).done;)me=me.value,pe=re+W(me,ue++),ae+=B(me,I,V,pe,ce);else if(me==="object")throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ae}function M(R,I,V){if(R==null)return R;var re=[],ce=0;return B(R,re,"","",function(me){return I.call(V,me,ce++)}),re}function z(R){if(R._status===-1){var I=R._result;I=I(),I.then(function(V){(R._status===0||R._status===-1)&&(R._status=1,R._result=V)},function(V){(R._status===0||R._status===-1)&&(R._status=2,R._result=V)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var P={current:null},C={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:C,ReactCurrentOwner:A};function U(){throw Error("act(...) is not supported in production builds of React.")}return Wt.Children={map:M,forEach:function(R,I,V){M(R,function(){I.apply(this,arguments)},V)},count:function(R){var I=0;return M(R,function(){I++}),I},toArray:function(R){return M(R,function(I){return I})||[]},only:function(R){if(!K(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Wt.Component=v,Wt.Fragment=r,Wt.Profiler=i,Wt.PureComponent=j,Wt.StrictMode=n,Wt.Suspense=c,Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,Wt.act=U,Wt.cloneElement=function(R,I,V){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var re=b({},R.props),ce=R.key,me=R.ref,ae=R._owner;if(I!=null){if(I.ref!==void 0&&(me=I.ref,ae=A.current),I.key!==void 0&&(ce=""+I.key),R.type&&R.type.defaultProps)var ue=R.type.defaultProps;for(pe in I)_.call(I,pe)&&!T.hasOwnProperty(pe)&&(re[pe]=I[pe]===void 0&&ue!==void 0?ue[pe]:I[pe])}var pe=arguments.length-2;if(pe===1)re.children=V;else if(1<pe){ue=Array(pe);for(var ee=0;ee<pe;ee++)ue[ee]=arguments[ee+2];re.children=ue}return{$$typeof:e,type:R.type,key:ce,ref:me,props:re,_owner:ae}},Wt.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},Wt.createElement=D,Wt.createFactory=function(R){var I=D.bind(null,R);return I.type=R,I},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(R){return{$$typeof:l,render:R}},Wt.isValidElement=K,Wt.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:z}},Wt.memo=function(R,I){return{$$typeof:d,type:R,compare:I===void 0?null:I}},Wt.startTransition=function(R){var I=C.transition;C.transition={};try{R()}finally{C.transition=I}},Wt.unstable_act=U,Wt.useCallback=function(R,I){return P.current.useCallback(R,I)},Wt.useContext=function(R){return P.current.useContext(R)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(R){return P.current.useDeferredValue(R)},Wt.useEffect=function(R,I){return P.current.useEffect(R,I)},Wt.useId=function(){return P.current.useId()},Wt.useImperativeHandle=function(R,I,V){return P.current.useImperativeHandle(R,I,V)},Wt.useInsertionEffect=function(R,I){return P.current.useInsertionEffect(R,I)},Wt.useLayoutEffect=function(R,I){return P.current.useLayoutEffect(R,I)},Wt.useMemo=function(R,I){return P.current.useMemo(R,I)},Wt.useReducer=function(R,I,V){return P.current.useReducer(R,I,V)},Wt.useRef=function(R){return P.current.useRef(R)},Wt.useState=function(R){return P.current.useState(R)},Wt.useSyncExternalStore=function(R,I,V){return P.current.useSyncExternalStore(R,I,V)},Wt.useTransition=function(){return P.current.useTransition()},Wt.version="18.3.1",Wt}var c6;function Ev(){return c6||(c6=1,Ab.exports=LG()),Ab.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6;function BG(){if(u6)return Oh;u6=1;var e=Ev(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,m={},p=null,x=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:t,type:l,key:p,ref:x,props:m,_owner:i.current}}return Oh.Fragment=r,Oh.jsx=o,Oh.jsxs=o,Oh}var d6;function zG(){return d6||(d6=1,kb.exports=BG()),kb.exports}var s=zG(),Xp={},Pb={exports:{}},vs={},Ob={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h6;function WG(){return h6||(h6=1,(function(e){function t(C,L){var U=C.length;C.push(L);e:for(;0<U;){var R=U-1>>>1,I=C[R];if(0<i(I,L))C[R]=L,C[U]=I,U=R;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var L=C[0],U=C.pop();if(U!==L){C[0]=U;e:for(var R=0,I=C.length,V=I>>>1;R<V;){var re=2*(R+1)-1,ce=C[re],me=re+1,ae=C[me];if(0>i(ce,U))me<I&&0>i(ae,ce)?(C[R]=ae,C[me]=U,R=me):(C[R]=ce,C[re]=U,R=re);else if(me<I&&0>i(ae,U))C[R]=ae,C[me]=U,R=me;else break e}}return L}function i(C,L){var U=C.sortIndex-L.sortIndex;return U!==0?U:C.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,p=3,x=!1,b=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(C){for(var L=r(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=C)n(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function k(C){if(y=!1,E(C),!b)if(r(c)!==null)b=!0,z(_);else{var L=r(d);L!==null&&P(k,L.startTime-C)}}function _(C,L){b=!1,y&&(y=!1,N(D),D=-1),x=!0;var U=p;try{for(E(L),m=r(c);m!==null&&(!(m.expirationTime>L)||C&&!$());){var R=m.callback;if(typeof R=="function"){m.callback=null,p=m.priorityLevel;var I=R(m.expirationTime<=L);L=e.unstable_now(),typeof I=="function"?m.callback=I:m===r(c)&&n(c),E(L)}else n(c);m=r(c)}if(m!==null)var V=!0;else{var re=r(d);re!==null&&P(k,re.startTime-L),V=!1}return V}finally{m=null,p=U,x=!1}}var A=!1,T=null,D=-1,q=5,K=-1;function $(){return!(e.unstable_now()-K<q)}function H(){if(T!==null){var C=e.unstable_now();K=C;var L=!0;try{L=T(!0,C)}finally{L?W():(A=!1,T=null)}}else A=!1}var W;if(typeof j=="function")W=function(){j(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,M=B.port2;B.port1.onmessage=H,W=function(){M.postMessage(null)}}else W=function(){v(H,0)};function z(C){T=C,A||(A=!0,W())}function P(C,L){D=v(function(){C(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,z(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var U=p;p=L;try{return C()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=p;p=C;try{return L()}finally{p=U}},e.unstable_scheduleCallback=function(C,L,U){var R=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?R+U:R):U=R,C){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=U+I,C={id:h++,callback:L,priorityLevel:C,startTime:U,expirationTime:I,sortIndex:-1},U>R?(C.sortIndex=U,t(d,C),r(c)===null&&C===r(d)&&(y?(N(D),D=-1):y=!0,P(k,U-R))):(C.sortIndex=I,t(c,C),b||x||(b=!0,z(_))),C},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(C){var L=p;return function(){var U=p;p=L;try{return C.apply(this,arguments)}finally{p=U}}}})(Tb)),Tb}var f6;function UG(){return f6||(f6=1,Ob.exports=WG()),Ob.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m6;function VG(){if(m6)return vs;m6=1;var e=Ev(),t=UG();function r(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(i[u]=f,u=0;u<f.length;u++)n.add(f[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function p(u){return c.call(m,u)?!0:c.call(h,u)?!1:d.test(u)?m[u]=!0:(h[u]=!0,!1)}function x(u,f,g,S){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return S?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function b(u,f,g,S){if(f===null||typeof f>"u"||x(u,f,g,S))return!0;if(S)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function y(u,f,g,S,O,F,G){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=S,this.attributeNamespace=O,this.mustUseProperty=g,this.propertyName=u,this.type=f,this.sanitizeURL=F,this.removeEmptyString=G}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){v[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];v[f]=new y(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){v[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){v[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){v[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){v[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){v[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){v[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){v[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function j(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(N,j);v[f]=new y(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(N,j);v[f]=new y(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(N,j);v[f]=new y(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){v[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){v[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function E(u,f,g,S){var O=v.hasOwnProperty(f)?v[f]:null;(O!==null?O.type!==0:S||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(b(f,g,O,S)&&(g=null),S||O===null?p(f)&&(g===null?u.removeAttribute(f):u.setAttribute(f,""+g)):O.mustUseProperty?u[O.propertyName]=g===null?O.type===3?!1:"":g:(f=O.attributeName,S=O.attributeNamespace,g===null?u.removeAttribute(f):(O=O.type,g=O===3||O===4&&g===!0?"":""+g,S?u.setAttributeNS(S,f,g):u.setAttribute(f,g))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),C=Symbol.iterator;function L(u){return u===null||typeof u!="object"?null:(u=C&&u[C]||u["@@iterator"],typeof u=="function"?u:null)}var U=Object.assign,R;function I(u){if(R===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);R=f&&f[1]||""}return`
`+R+u}var V=!1;function re(u,f){if(!u||V)return"";V=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(_e){var S=_e}Reflect.construct(u,[],f)}else{try{f.call()}catch(_e){S=_e}u.call(f.prototype)}else{try{throw Error()}catch(_e){S=_e}u()}}catch(_e){if(_e&&S&&typeof _e.stack=="string"){for(var O=_e.stack.split(`
`),F=S.stack.split(`
`),G=O.length-1,oe=F.length-1;1<=G&&0<=oe&&O[G]!==F[oe];)oe--;for(;1<=G&&0<=oe;G--,oe--)if(O[G]!==F[oe]){if(G!==1||oe!==1)do if(G--,oe--,0>oe||O[G]!==F[oe]){var ge=`
`+O[G].replace(" at new "," at ");return u.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",u.displayName)),ge}while(1<=G&&0<=oe);break}}}finally{V=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?I(u):""}function ce(u){switch(u.tag){case 5:return I(u.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return u=re(u.type,!1),u;case 11:return u=re(u.type.render,!1),u;case 1:return u=re(u.type,!0),u;default:return""}}function me(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case T:return"Fragment";case A:return"Portal";case q:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case B:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case $:return(u.displayName||"Context")+".Consumer";case K:return(u._context.displayName||"Context")+".Provider";case H:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case M:return f=u.displayName||null,f!==null?f:me(u.type)||"Memo";case z:f=u._payload,u=u._init;try{return me(u(f))}catch{}}return null}function ae(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(f);case 8:return f===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function ue(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function pe(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ee(u){var f=pe(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),S=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,F=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return O.call(this)},set:function(G){S=""+G,F.call(this,G)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(G){S=""+G},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function xe(u){u._valueTracker||(u._valueTracker=ee(u))}function X(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),S="";return u&&(S=pe(u)?u.checked?"true":"false":u.value),u=S,u!==g?(f.setValue(u),!0):!1}function fe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function de(u,f){var g=f.checked;return U({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function te(u,f){var g=f.defaultValue==null?"":f.defaultValue,S=f.checked!=null?f.checked:f.defaultChecked;g=ue(f.value!=null?f.value:g),u._wrapperState={initialChecked:S,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function he(u,f){f=f.checked,f!=null&&E(u,"checked",f,!1)}function we(u,f){he(u,f);var g=ue(f.value),S=f.type;if(g!=null)S==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?se(u,f.type,g):f.hasOwnProperty("defaultValue")&&se(u,f.type,ue(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function ze(u,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var S=f.type;if(!(S!=="submit"&&S!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,g||f===u.value||(u.value=f),u.defaultValue=f}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function se(u,f,g){(f!=="number"||fe(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var ne=Array.isArray;function ve(u,f,g,S){if(u=u.options,f){f={};for(var O=0;O<g.length;O++)f["$"+g[O]]=!0;for(g=0;g<u.length;g++)O=f.hasOwnProperty("$"+u[g].value),u[g].selected!==O&&(u[g].selected=O),O&&S&&(u[g].defaultSelected=!0)}else{for(g=""+ue(g),f=null,O=0;O<u.length;O++){if(u[O].value===g){u[O].selected=!0,S&&(u[O].defaultSelected=!0);return}f!==null||u[O].disabled||(f=u[O])}f!==null&&(f.selected=!0)}}function J(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function je(u,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(r(92));if(ne(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),g=f}u._wrapperState={initialValue:ue(g)}}function Ae(u,f){var g=ue(f.value),S=ue(f.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),f.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),S!=null&&(u.defaultValue=""+S)}function Te(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function Be(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function De(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?Be(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var et,vt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,S,O){MSApp.execUnsafeLocalFunction(function(){return u(f,g,S,O)})}:u})(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=et.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function Ue(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(u){Ht.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),pt[f]=pt[u]})});function ur(u,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||pt.hasOwnProperty(u)&&pt[u]?(""+f).trim():f+"px"}function Wr(u,f){u=u.style;for(var g in f)if(f.hasOwnProperty(g)){var S=g.indexOf("--")===0,O=ur(g,f[g],S);g==="float"&&(g="cssFloat"),S?u.setProperty(g,O):u[g]=O}}var Jr=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(u,f){if(f){if(Jr[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(r(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(r(61))}if(f.style!=null&&typeof f.style!="object")throw Error(r(62))}}function fo(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=null;function Tn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Xe=null,ds=null,Ms=null;function Ca(u){if(u=gh(u)){if(typeof Xe!="function")throw Error(r(280));var f=u.stateNode;f&&(f=up(f),Xe(u.stateNode,u.type,f))}}function yt(u){ds?Ms?Ms.push(u):Ms=[u]:ds=u}function zt(){if(ds){var u=ds,f=Ms;if(Ms=ds=null,Ca(u),f)for(u=0;u<f.length;u++)Ca(f[u])}}function Xt(u,f){return u(f)}function Vr(){}var Yn=!1;function Kt(u,f,g){if(Yn)return u(f,g);Yn=!0;try{return Xt(u,f,g)}finally{Yn=!1,(ds!==null||Ms!==null)&&(Vr(),zt())}}function Dr(u,f){var g=u.stateNode;if(g===null)return null;var S=up(g);if(S===null)return null;g=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var Xn=!1;if(l)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Xn=!1}function Qt(u,f,g,S,O,F,G,oe,ge){var _e=Array.prototype.slice.call(arguments,3);try{f.apply(g,_e)}catch(Le){this.onError(Le)}}var hs=!1,xn=null,ka=!1,bl=null,Tc={onError:function(u){hs=!0,xn=u}};function Jd(u,f,g,S,O,F,G,oe,ge){hs=!1,xn=null,Qt.apply(Tc,arguments)}function wl(u,f,g,S,O,F,G,oe,ge){if(Jd.apply(this,arguments),hs){if(hs){var _e=xn;hs=!1,xn=null}else throw Error(r(198));ka||(ka=!0,bl=_e)}}function ni(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function le(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function Ze(u){if(ni(u)!==u)throw Error(r(188))}function Ve(u){var f=u.alternate;if(!f){if(f=ni(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,S=f;;){var O=g.return;if(O===null)break;var F=O.alternate;if(F===null){if(S=O.return,S!==null){g=S;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===g)return Ze(O),u;if(F===S)return Ze(O),f;F=F.sibling}throw Error(r(188))}if(g.return!==S.return)g=O,S=F;else{for(var G=!1,oe=O.child;oe;){if(oe===g){G=!0,g=O,S=F;break}if(oe===S){G=!0,S=O,g=F;break}oe=oe.sibling}if(!G){for(oe=F.child;oe;){if(oe===g){G=!0,g=F,S=O;break}if(oe===S){G=!0,S=F,g=O;break}oe=oe.sibling}if(!G)throw Error(r(189))}}if(g.alternate!==S)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function Ye(u){return u=Ve(u),u!==null?rt(u):null}function rt(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=rt(u);if(f!==null)return f;u=u.sibling}return null}var wt=t.unstable_scheduleCallback,Pt=t.unstable_cancelCallback,Y=t.unstable_shouldYield,ke=t.unstable_requestPaint,Ce=t.unstable_now,Pe=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,bt=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,jt=t.unstable_LowPriority,dr=t.unstable_IdlePriority,Zr=null,fr=null;function ta(u){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Zr,u,void 0,(u.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Rc,Gm=Math.log,Aa=Math.LN2;function Rc(u){return u>>>=0,u===0?32:31-(Gm(u)/Aa|0)|0}var Mc=64,jl=4194304;function Jt(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function en(u,f){var g=u.pendingLanes;if(g===0)return 0;var S=0,O=u.suspendedLanes,F=u.pingedLanes,G=g&268435455;if(G!==0){var oe=G&~O;oe!==0?S=Jt(oe):(F&=G,F!==0&&(S=Jt(F)))}else G=g&~O,G!==0?S=Jt(G):F!==0&&(S=Jt(F));if(S===0)return 0;if(f!==0&&f!==S&&(f&O)===0&&(O=S&-S,F=f&-f,O>=F||O===16&&(F&4194240)!==0))return f;if((S&4)!==0&&(S|=g&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=S;0<f;)g=31-vn(f),O=1<<g,S|=u[g],f&=~O;return S}function Ic(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(u,f){for(var g=u.suspendedLanes,S=u.pingedLanes,O=u.expirationTimes,F=u.pendingLanes;0<F;){var G=31-vn(F),oe=1<<G,ge=O[G];ge===-1?((oe&g)===0||(oe&S)!==0)&&(O[G]=Ic(oe,f)):ge<=f&&(u.expiredLanes|=oe),F&=~oe}}function Y0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function LA(){var u=Mc;return Mc<<=1,(Mc&4194240)===0&&(Mc=64),u}function X0(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function Zd(u,f,g){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-vn(f),u[f]=g}function iK(u,f){var g=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<g;){var O=31-vn(g),F=1<<O;f[O]=0,S[O]=-1,u[O]=-1,g&=~F}}function Q0(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var S=31-vn(g),O=1<<S;O&f|u[S]&f&&(u[S]|=f),g&=~O}}var ar=0;function BA(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var zA,J0,WA,UA,VA,Z0=!1,Ym=[],mo=null,po=null,go=null,eh=new Map,th=new Map,xo=[],aK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qA(u,f){switch(u){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":eh.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(f.pointerId)}}function rh(u,f,g,S,O,F){return u===null||u.nativeEvent!==F?(u={blockedOn:f,domEventName:g,eventSystemFlags:S,nativeEvent:F,targetContainers:[O]},f!==null&&(f=gh(f),f!==null&&J0(f)),u):(u.eventSystemFlags|=S,f=u.targetContainers,O!==null&&f.indexOf(O)===-1&&f.push(O),u)}function oK(u,f,g,S,O){switch(f){case"focusin":return mo=rh(mo,u,f,g,S,O),!0;case"dragenter":return po=rh(po,u,f,g,S,O),!0;case"mouseover":return go=rh(go,u,f,g,S,O),!0;case"pointerover":var F=O.pointerId;return eh.set(F,rh(eh.get(F)||null,u,f,g,S,O)),!0;case"gotpointercapture":return F=O.pointerId,th.set(F,rh(th.get(F)||null,u,f,g,S,O)),!0}return!1}function HA(u){var f=Nl(u.target);if(f!==null){var g=ni(f);if(g!==null){if(f=g.tag,f===13){if(f=le(g),f!==null){u.blockedOn=f,VA(u.priority,function(){WA(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Xm(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=ty(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var S=new g.constructor(g.type,g);Rs=S,g.target.dispatchEvent(S),Rs=null}else return f=gh(g),f!==null&&J0(f),u.blockedOn=g,!1;f.shift()}return!0}function KA(u,f,g){Xm(u)&&g.delete(f)}function lK(){Z0=!1,mo!==null&&Xm(mo)&&(mo=null),po!==null&&Xm(po)&&(po=null),go!==null&&Xm(go)&&(go=null),eh.forEach(KA),th.forEach(KA)}function nh(u,f){u.blockedOn===f&&(u.blockedOn=null,Z0||(Z0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,lK)))}function sh(u){function f(O){return nh(O,u)}if(0<Ym.length){nh(Ym[0],u);for(var g=1;g<Ym.length;g++){var S=Ym[g];S.blockedOn===u&&(S.blockedOn=null)}}for(mo!==null&&nh(mo,u),po!==null&&nh(po,u),go!==null&&nh(go,u),eh.forEach(f),th.forEach(f),g=0;g<xo.length;g++)S=xo[g],S.blockedOn===u&&(S.blockedOn=null);for(;0<xo.length&&(g=xo[0],g.blockedOn===null);)HA(g),g.blockedOn===null&&xo.shift()}var Dc=k.ReactCurrentBatchConfig,Qm=!0;function cK(u,f,g,S){var O=ar,F=Dc.transition;Dc.transition=null;try{ar=1,ey(u,f,g,S)}finally{ar=O,Dc.transition=F}}function uK(u,f,g,S){var O=ar,F=Dc.transition;Dc.transition=null;try{ar=4,ey(u,f,g,S)}finally{ar=O,Dc.transition=F}}function ey(u,f,g,S){if(Qm){var O=ty(u,f,g,S);if(O===null)vy(u,f,S,Jm,g),qA(u,S);else if(oK(O,u,f,g,S))S.stopPropagation();else if(qA(u,S),f&4&&-1<aK.indexOf(u)){for(;O!==null;){var F=gh(O);if(F!==null&&zA(F),F=ty(u,f,g,S),F===null&&vy(u,f,S,Jm,g),F===O)break;O=F}O!==null&&S.stopPropagation()}else vy(u,f,S,null,g)}}var Jm=null;function ty(u,f,g,S){if(Jm=null,u=Tn(S),u=Nl(u),u!==null)if(f=ni(u),f===null)u=null;else if(g=f.tag,g===13){if(u=le(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return Jm=u,null}function GA(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pe()){case Fe:return 1;case bt:return 4;case at:case jt:return 16;case dr:return 536870912;default:return 16}default:return 16}}var vo=null,ry=null,Zm=null;function YA(){if(Zm)return Zm;var u,f=ry,g=f.length,S,O="value"in vo?vo.value:vo.textContent,F=O.length;for(u=0;u<g&&f[u]===O[u];u++);var G=g-u;for(S=1;S<=G&&f[g-S]===O[F-S];S++);return Zm=O.slice(u,1<S?1-S:void 0)}function ep(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function tp(){return!0}function XA(){return!1}function Is(u){function f(g,S,O,F,G){this._reactName=g,this._targetInst=O,this.type=S,this.nativeEvent=F,this.target=G,this.currentTarget=null;for(var oe in u)u.hasOwnProperty(oe)&&(g=u[oe],this[oe]=g?g(F):F[oe]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?tp:XA,this.isPropagationStopped=XA,this}return U(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=tp)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=tp)},persist:function(){},isPersistent:tp}),f}var Fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=Is(Fc),ih=U({},Fc,{view:0,detail:0}),dK=Is(ih),sy,iy,ah,rp=U({},ih,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ah&&(ah&&u.type==="mousemove"?(sy=u.screenX-ah.screenX,iy=u.screenY-ah.screenY):iy=sy=0,ah=u),sy)},movementY:function(u){return"movementY"in u?u.movementY:iy}}),QA=Is(rp),hK=U({},rp,{dataTransfer:0}),fK=Is(hK),mK=U({},ih,{relatedTarget:0}),ay=Is(mK),pK=U({},Fc,{animationName:0,elapsedTime:0,pseudoElement:0}),gK=Is(pK),xK=U({},Fc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),vK=Is(xK),yK=U({},Fc,{data:0}),JA=Is(yK),bK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NK(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=jK[u])?!!f[u]:!1}function oy(){return NK}var SK=U({},ih,{key:function(u){if(u.key){var f=bK[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=ep(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?wK[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(u){return u.type==="keypress"?ep(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ep(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),EK=Is(SK),_K=U({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZA=Is(_K),CK=U({},ih,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),kK=Is(CK),AK=U({},Fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),PK=Is(AK),OK=U({},rp,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),TK=Is(OK),RK=[9,13,27,32],ly=l&&"CompositionEvent"in window,oh=null;l&&"documentMode"in document&&(oh=document.documentMode);var MK=l&&"TextEvent"in window&&!oh,eP=l&&(!ly||oh&&8<oh&&11>=oh),tP=" ",rP=!1;function nP(u,f){switch(u){case"keyup":return RK.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sP(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var $c=!1;function IK(u,f){switch(u){case"compositionend":return sP(f);case"keypress":return f.which!==32?null:(rP=!0,tP);case"textInput":return u=f.data,u===tP&&rP?null:u;default:return null}}function DK(u,f){if($c)return u==="compositionend"||!ly&&nP(u,f)?(u=YA(),Zm=ry=vo=null,$c=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return eP&&f.locale!=="ko"?null:f.data;default:return null}}var FK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iP(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!FK[u.type]:f==="textarea"}function aP(u,f,g,S){yt(S),f=op(f,"onChange"),0<f.length&&(g=new ny("onChange","change",null,g,S),u.push({event:g,listeners:f}))}var lh=null,ch=null;function $K(u){SP(u,0)}function np(u){var f=Uc(u);if(X(f))return u}function LK(u,f){if(u==="change")return f}var oP=!1;if(l){var cy;if(l){var uy="oninput"in document;if(!uy){var lP=document.createElement("div");lP.setAttribute("oninput","return;"),uy=typeof lP.oninput=="function"}cy=uy}else cy=!1;oP=cy&&(!document.documentMode||9<document.documentMode)}function cP(){lh&&(lh.detachEvent("onpropertychange",uP),ch=lh=null)}function uP(u){if(u.propertyName==="value"&&np(ch)){var f=[];aP(f,ch,u,Tn(u)),Kt($K,f)}}function BK(u,f,g){u==="focusin"?(cP(),lh=f,ch=g,lh.attachEvent("onpropertychange",uP)):u==="focusout"&&cP()}function zK(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return np(ch)}function WK(u,f){if(u==="click")return np(f)}function UK(u,f){if(u==="input"||u==="change")return np(f)}function VK(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ki=typeof Object.is=="function"?Object.is:VK;function uh(u,f){if(ki(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),S=Object.keys(f);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var O=g[S];if(!c.call(f,O)||!ki(u[O],f[O]))return!1}return!0}function dP(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function hP(u,f){var g=dP(u);u=0;for(var S;g;){if(g.nodeType===3){if(S=u+g.textContent.length,u<=f&&S>=f)return{node:g,offset:f-u};u=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=dP(g)}}function fP(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?fP(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function mP(){for(var u=window,f=fe();f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=fe(u.document)}return f}function dy(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function qK(u){var f=mP(),g=u.focusedElem,S=u.selectionRange;if(f!==g&&g&&g.ownerDocument&&fP(g.ownerDocument.documentElement,g)){if(S!==null&&dy(g)){if(f=S.start,u=S.end,u===void 0&&(u=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(u,g.value.length);else if(u=(f=g.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var O=g.textContent.length,F=Math.min(S.start,O);S=S.end===void 0?F:Math.min(S.end,O),!u.extend&&F>S&&(O=S,S=F,F=O),O=hP(g,F);var G=hP(g,S);O&&G&&(u.rangeCount!==1||u.anchorNode!==O.node||u.anchorOffset!==O.offset||u.focusNode!==G.node||u.focusOffset!==G.offset)&&(f=f.createRange(),f.setStart(O.node,O.offset),u.removeAllRanges(),F>S?(u.addRange(f),u.extend(G.node,G.offset)):(f.setEnd(G.node,G.offset),u.addRange(f)))}}for(f=[],u=g;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)u=f[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var HK=l&&"documentMode"in document&&11>=document.documentMode,Lc=null,hy=null,dh=null,fy=!1;function pP(u,f,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;fy||Lc==null||Lc!==fe(S)||(S=Lc,"selectionStart"in S&&dy(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),dh&&uh(dh,S)||(dh=S,S=op(hy,"onSelect"),0<S.length&&(f=new ny("onSelect","select",null,f,g),u.push({event:f,listeners:S}),f.target=Lc)))}function sp(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var Bc={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},my={},gP={};l&&(gP=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function ip(u){if(my[u])return my[u];if(!Bc[u])return u;var f=Bc[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in gP)return my[u]=f[g];return u}var xP=ip("animationend"),vP=ip("animationiteration"),yP=ip("animationstart"),bP=ip("transitionend"),wP=new Map,jP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(u,f){wP.set(u,f),a(f,[u])}for(var py=0;py<jP.length;py++){var gy=jP[py],KK=gy.toLowerCase(),GK=gy[0].toUpperCase()+gy.slice(1);yo(KK,"on"+GK)}yo(xP,"onAnimationEnd"),yo(vP,"onAnimationIteration"),yo(yP,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(bP,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YK=new Set("cancel close invalid load scroll toggle".split(" ").concat(hh));function NP(u,f,g){var S=u.type||"unknown-event";u.currentTarget=g,wl(S,f,void 0,u),u.currentTarget=null}function SP(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var S=u[g],O=S.event;S=S.listeners;e:{var F=void 0;if(f)for(var G=S.length-1;0<=G;G--){var oe=S[G],ge=oe.instance,_e=oe.currentTarget;if(oe=oe.listener,ge!==F&&O.isPropagationStopped())break e;NP(O,oe,_e),F=ge}else for(G=0;G<S.length;G++){if(oe=S[G],ge=oe.instance,_e=oe.currentTarget,oe=oe.listener,ge!==F&&O.isPropagationStopped())break e;NP(O,oe,_e),F=ge}}}if(ka)throw u=bl,ka=!1,bl=null,u}function wr(u,f){var g=f[Sy];g===void 0&&(g=f[Sy]=new Set);var S=u+"__bubble";g.has(S)||(EP(f,u,2,!1),g.add(S))}function xy(u,f,g){var S=0;f&&(S|=4),EP(g,u,S,f)}var ap="_reactListening"+Math.random().toString(36).slice(2);function fh(u){if(!u[ap]){u[ap]=!0,n.forEach(function(g){g!=="selectionchange"&&(YK.has(g)||xy(g,!1,u),xy(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[ap]||(f[ap]=!0,xy("selectionchange",!1,f))}}function EP(u,f,g,S){switch(GA(f)){case 1:var O=cK;break;case 4:O=uK;break;default:O=ey}g=O.bind(null,f,g,u),O=void 0,!Xn||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(O=!0),S?O!==void 0?u.addEventListener(f,g,{capture:!0,passive:O}):u.addEventListener(f,g,!0):O!==void 0?u.addEventListener(f,g,{passive:O}):u.addEventListener(f,g,!1)}function vy(u,f,g,S,O){var F=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var G=S.tag;if(G===3||G===4){var oe=S.stateNode.containerInfo;if(oe===O||oe.nodeType===8&&oe.parentNode===O)break;if(G===4)for(G=S.return;G!==null;){var ge=G.tag;if((ge===3||ge===4)&&(ge=G.stateNode.containerInfo,ge===O||ge.nodeType===8&&ge.parentNode===O))return;G=G.return}for(;oe!==null;){if(G=Nl(oe),G===null)return;if(ge=G.tag,ge===5||ge===6){S=F=G;continue e}oe=oe.parentNode}}S=S.return}Kt(function(){var _e=F,Le=Tn(g),We=[];e:{var $e=wP.get(u);if($e!==void 0){var tt=ny,ot=u;switch(u){case"keypress":if(ep(g)===0)break e;case"keydown":case"keyup":tt=EK;break;case"focusin":ot="focus",tt=ay;break;case"focusout":ot="blur",tt=ay;break;case"beforeblur":case"afterblur":tt=ay;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=QA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=fK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=kK;break;case xP:case vP:case yP:tt=gK;break;case bP:tt=PK;break;case"scroll":tt=dK;break;case"wheel":tt=TK;break;case"copy":case"cut":case"paste":tt=vK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=ZA}var dt=(f&4)!==0,Ur=!dt&&u==="scroll",be=dt?$e!==null?$e+"Capture":null:$e;dt=[];for(var ye=_e,Ne;ye!==null;){Ne=ye;var qe=Ne.stateNode;if(Ne.tag===5&&qe!==null&&(Ne=qe,be!==null&&(qe=Dr(ye,be),qe!=null&&dt.push(mh(ye,qe,Ne)))),Ur)break;ye=ye.return}0<dt.length&&($e=new tt($e,ot,null,g,Le),We.push({event:$e,listeners:dt}))}}if((f&7)===0){e:{if($e=u==="mouseover"||u==="pointerover",tt=u==="mouseout"||u==="pointerout",$e&&g!==Rs&&(ot=g.relatedTarget||g.fromElement)&&(Nl(ot)||ot[Pa]))break e;if((tt||$e)&&($e=Le.window===Le?Le:($e=Le.ownerDocument)?$e.defaultView||$e.parentWindow:window,tt?(ot=g.relatedTarget||g.toElement,tt=_e,ot=ot?Nl(ot):null,ot!==null&&(Ur=ni(ot),ot!==Ur||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(tt=null,ot=_e),tt!==ot)){if(dt=QA,qe="onMouseLeave",be="onMouseEnter",ye="mouse",(u==="pointerout"||u==="pointerover")&&(dt=ZA,qe="onPointerLeave",be="onPointerEnter",ye="pointer"),Ur=tt==null?$e:Uc(tt),Ne=ot==null?$e:Uc(ot),$e=new dt(qe,ye+"leave",tt,g,Le),$e.target=Ur,$e.relatedTarget=Ne,qe=null,Nl(Le)===_e&&(dt=new dt(be,ye+"enter",ot,g,Le),dt.target=Ne,dt.relatedTarget=Ur,qe=dt),Ur=qe,tt&&ot)t:{for(dt=tt,be=ot,ye=0,Ne=dt;Ne;Ne=zc(Ne))ye++;for(Ne=0,qe=be;qe;qe=zc(qe))Ne++;for(;0<ye-Ne;)dt=zc(dt),ye--;for(;0<Ne-ye;)be=zc(be),Ne--;for(;ye--;){if(dt===be||be!==null&&dt===be.alternate)break t;dt=zc(dt),be=zc(be)}dt=null}else dt=null;tt!==null&&_P(We,$e,tt,dt,!1),ot!==null&&Ur!==null&&_P(We,Ur,ot,dt,!0)}}e:{if($e=_e?Uc(_e):window,tt=$e.nodeName&&$e.nodeName.toLowerCase(),tt==="select"||tt==="input"&&$e.type==="file")var ht=LK;else if(iP($e))if(oP)ht=UK;else{ht=zK;var Nt=BK}else(tt=$e.nodeName)&&tt.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(ht=WK);if(ht&&(ht=ht(u,_e))){aP(We,ht,g,Le);break e}Nt&&Nt(u,$e,_e),u==="focusout"&&(Nt=$e._wrapperState)&&Nt.controlled&&$e.type==="number"&&se($e,"number",$e.value)}switch(Nt=_e?Uc(_e):window,u){case"focusin":(iP(Nt)||Nt.contentEditable==="true")&&(Lc=Nt,hy=_e,dh=null);break;case"focusout":dh=hy=Lc=null;break;case"mousedown":fy=!0;break;case"contextmenu":case"mouseup":case"dragend":fy=!1,pP(We,g,Le);break;case"selectionchange":if(HK)break;case"keydown":case"keyup":pP(We,g,Le)}var St;if(ly)e:{switch(u){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else $c?nP(u,g)&&(At="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(At="onCompositionStart");At&&(eP&&g.locale!=="ko"&&($c||At!=="onCompositionStart"?At==="onCompositionEnd"&&$c&&(St=YA()):(vo=Le,ry="value"in vo?vo.value:vo.textContent,$c=!0)),Nt=op(_e,At),0<Nt.length&&(At=new JA(At,u,null,g,Le),We.push({event:At,listeners:Nt}),St?At.data=St:(St=sP(g),St!==null&&(At.data=St)))),(St=MK?IK(u,g):DK(u,g))&&(_e=op(_e,"onBeforeInput"),0<_e.length&&(Le=new JA("onBeforeInput","beforeinput",null,g,Le),We.push({event:Le,listeners:_e}),Le.data=St))}SP(We,f)})}function mh(u,f,g){return{instance:u,listener:f,currentTarget:g}}function op(u,f){for(var g=f+"Capture",S=[];u!==null;){var O=u,F=O.stateNode;O.tag===5&&F!==null&&(O=F,F=Dr(u,g),F!=null&&S.unshift(mh(u,F,O)),F=Dr(u,f),F!=null&&S.push(mh(u,F,O))),u=u.return}return S}function zc(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function _P(u,f,g,S,O){for(var F=f._reactName,G=[];g!==null&&g!==S;){var oe=g,ge=oe.alternate,_e=oe.stateNode;if(ge!==null&&ge===S)break;oe.tag===5&&_e!==null&&(oe=_e,O?(ge=Dr(g,F),ge!=null&&G.unshift(mh(g,ge,oe))):O||(ge=Dr(g,F),ge!=null&&G.push(mh(g,ge,oe)))),g=g.return}G.length!==0&&u.push({event:f,listeners:G})}var XK=/\r\n?/g,QK=/\u0000|\uFFFD/g;function CP(u){return(typeof u=="string"?u:""+u).replace(XK,`
`).replace(QK,"")}function lp(u,f,g){if(f=CP(f),CP(u)!==f&&g)throw Error(r(425))}function cp(){}var yy=null,by=null;function wy(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var jy=typeof setTimeout=="function"?setTimeout:void 0,JK=typeof clearTimeout=="function"?clearTimeout:void 0,kP=typeof Promise=="function"?Promise:void 0,ZK=typeof queueMicrotask=="function"?queueMicrotask:typeof kP<"u"?function(u){return kP.resolve(null).then(u).catch(eG)}:jy;function eG(u){setTimeout(function(){throw u})}function Ny(u,f){var g=f,S=0;do{var O=g.nextSibling;if(u.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(S===0){u.removeChild(O),sh(f);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=O}while(g);sh(f)}function bo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function AP(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}var Wc=Math.random().toString(36).slice(2),ra="__reactFiber$"+Wc,ph="__reactProps$"+Wc,Pa="__reactContainer$"+Wc,Sy="__reactEvents$"+Wc,tG="__reactListeners$"+Wc,rG="__reactHandles$"+Wc;function Nl(u){var f=u[ra];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Pa]||g[ra]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=AP(u);u!==null;){if(g=u[ra])return g;u=AP(u)}return f}u=g,g=u.parentNode}return null}function gh(u){return u=u[ra]||u[Pa],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Uc(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function up(u){return u[ph]||null}var Ey=[],Vc=-1;function wo(u){return{current:u}}function jr(u){0>Vc||(u.current=Ey[Vc],Ey[Vc]=null,Vc--)}function mr(u,f){Vc++,Ey[Vc]=u.current,u.current=f}var jo={},Rn=wo(jo),fs=wo(!1),Sl=jo;function qc(u,f){var g=u.type.contextTypes;if(!g)return jo;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var O={},F;for(F in g)O[F]=f[F];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=O),O}function ms(u){return u=u.childContextTypes,u!=null}function dp(){jr(fs),jr(Rn)}function PP(u,f,g){if(Rn.current!==jo)throw Error(r(168));mr(Rn,f),mr(fs,g)}function OP(u,f,g){var S=u.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var O in S)if(!(O in f))throw Error(r(108,ae(u)||"Unknown",O));return U({},g,S)}function hp(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||jo,Sl=Rn.current,mr(Rn,u),mr(fs,fs.current),!0}function TP(u,f,g){var S=u.stateNode;if(!S)throw Error(r(169));g?(u=OP(u,f,Sl),S.__reactInternalMemoizedMergedChildContext=u,jr(fs),jr(Rn),mr(Rn,u)):jr(fs),mr(fs,g)}var Oa=null,fp=!1,_y=!1;function RP(u){Oa===null?Oa=[u]:Oa.push(u)}function nG(u){fp=!0,RP(u)}function No(){if(!_y&&Oa!==null){_y=!0;var u=0,f=ar;try{var g=Oa;for(ar=1;u<g.length;u++){var S=g[u];do S=S(!0);while(S!==null)}Oa=null,fp=!1}catch(O){throw Oa!==null&&(Oa=Oa.slice(u+1)),wt(Fe,No),O}finally{ar=f,_y=!1}}return null}var Hc=[],Kc=0,mp=null,pp=0,si=[],ii=0,El=null,Ta=1,Ra="";function _l(u,f){Hc[Kc++]=pp,Hc[Kc++]=mp,mp=u,pp=f}function MP(u,f,g){si[ii++]=Ta,si[ii++]=Ra,si[ii++]=El,El=u;var S=Ta;u=Ra;var O=32-vn(S)-1;S&=~(1<<O),g+=1;var F=32-vn(f)+O;if(30<F){var G=O-O%5;F=(S&(1<<G)-1).toString(32),S>>=G,O-=G,Ta=1<<32-vn(f)+O|g<<O|S,Ra=F+u}else Ta=1<<F|g<<O|S,Ra=u}function Cy(u){u.return!==null&&(_l(u,1),MP(u,1,0))}function ky(u){for(;u===mp;)mp=Hc[--Kc],Hc[Kc]=null,pp=Hc[--Kc],Hc[Kc]=null;for(;u===El;)El=si[--ii],si[ii]=null,Ra=si[--ii],si[ii]=null,Ta=si[--ii],si[ii]=null}var Ds=null,Fs=null,Cr=!1,Ai=null;function IP(u,f){var g=ci(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=u,f=u.deletions,f===null?(u.deletions=[g],u.flags|=16):f.push(g)}function DP(u,f){switch(u.tag){case 5:var g=u.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,Ds=u,Fs=bo(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,Ds=u,Fs=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=El!==null?{id:Ta,overflow:Ra}:null,u.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=ci(18,null,null,0),g.stateNode=f,g.return=u,u.child=g,Ds=u,Fs=null,!0):!1;default:return!1}}function Ay(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Py(u){if(Cr){var f=Fs;if(f){var g=f;if(!DP(u,f)){if(Ay(u))throw Error(r(418));f=bo(g.nextSibling);var S=Ds;f&&DP(u,f)?IP(S,g):(u.flags=u.flags&-4097|2,Cr=!1,Ds=u)}}else{if(Ay(u))throw Error(r(418));u.flags=u.flags&-4097|2,Cr=!1,Ds=u}}}function FP(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ds=u}function gp(u){if(u!==Ds)return!1;if(!Cr)return FP(u),Cr=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!wy(u.type,u.memoizedProps)),f&&(f=Fs)){if(Ay(u))throw $P(),Error(r(418));for(;f;)IP(u,f),f=bo(f.nextSibling)}if(FP(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(f===0){Fs=bo(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}u=u.nextSibling}Fs=null}}else Fs=Ds?bo(u.stateNode.nextSibling):null;return!0}function $P(){for(var u=Fs;u;)u=bo(u.nextSibling)}function Gc(){Fs=Ds=null,Cr=!1}function Oy(u){Ai===null?Ai=[u]:Ai.push(u)}var sG=k.ReactCurrentBatchConfig;function xh(u,f,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var S=g.stateNode}if(!S)throw Error(r(147,u));var O=S,F=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===F?f.ref:(f=function(G){var oe=O.refs;G===null?delete oe[F]:oe[F]=G},f._stringRef=F,f)}if(typeof u!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,u))}return u}function xp(u,f){throw u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function LP(u){var f=u._init;return f(u._payload)}function BP(u){function f(be,ye){if(u){var Ne=be.deletions;Ne===null?(be.deletions=[ye],be.flags|=16):Ne.push(ye)}}function g(be,ye){if(!u)return null;for(;ye!==null;)f(be,ye),ye=ye.sibling;return null}function S(be,ye){for(be=new Map;ye!==null;)ye.key!==null?be.set(ye.key,ye):be.set(ye.index,ye),ye=ye.sibling;return be}function O(be,ye){return be=Oo(be,ye),be.index=0,be.sibling=null,be}function F(be,ye,Ne){return be.index=Ne,u?(Ne=be.alternate,Ne!==null?(Ne=Ne.index,Ne<ye?(be.flags|=2,ye):Ne):(be.flags|=2,ye)):(be.flags|=1048576,ye)}function G(be){return u&&be.alternate===null&&(be.flags|=2),be}function oe(be,ye,Ne,qe){return ye===null||ye.tag!==6?(ye=jb(Ne,be.mode,qe),ye.return=be,ye):(ye=O(ye,Ne),ye.return=be,ye)}function ge(be,ye,Ne,qe){var ht=Ne.type;return ht===T?Le(be,ye,Ne.props.children,qe,Ne.key):ye!==null&&(ye.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===z&&LP(ht)===ye.type)?(qe=O(ye,Ne.props),qe.ref=xh(be,ye,Ne),qe.return=be,qe):(qe=zp(Ne.type,Ne.key,Ne.props,null,be.mode,qe),qe.ref=xh(be,ye,Ne),qe.return=be,qe)}function _e(be,ye,Ne,qe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ne.containerInfo||ye.stateNode.implementation!==Ne.implementation?(ye=Nb(Ne,be.mode,qe),ye.return=be,ye):(ye=O(ye,Ne.children||[]),ye.return=be,ye)}function Le(be,ye,Ne,qe,ht){return ye===null||ye.tag!==7?(ye=Ml(Ne,be.mode,qe,ht),ye.return=be,ye):(ye=O(ye,Ne),ye.return=be,ye)}function We(be,ye,Ne){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=jb(""+ye,be.mode,Ne),ye.return=be,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return Ne=zp(ye.type,ye.key,ye.props,null,be.mode,Ne),Ne.ref=xh(be,null,ye),Ne.return=be,Ne;case A:return ye=Nb(ye,be.mode,Ne),ye.return=be,ye;case z:var qe=ye._init;return We(be,qe(ye._payload),Ne)}if(ne(ye)||L(ye))return ye=Ml(ye,be.mode,Ne,null),ye.return=be,ye;xp(be,ye)}return null}function $e(be,ye,Ne,qe){var ht=ye!==null?ye.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ht!==null?null:oe(be,ye,""+Ne,qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case _:return Ne.key===ht?ge(be,ye,Ne,qe):null;case A:return Ne.key===ht?_e(be,ye,Ne,qe):null;case z:return ht=Ne._init,$e(be,ye,ht(Ne._payload),qe)}if(ne(Ne)||L(Ne))return ht!==null?null:Le(be,ye,Ne,qe,null);xp(be,Ne)}return null}function tt(be,ye,Ne,qe,ht){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return be=be.get(Ne)||null,oe(ye,be,""+qe,ht);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case _:return be=be.get(qe.key===null?Ne:qe.key)||null,ge(ye,be,qe,ht);case A:return be=be.get(qe.key===null?Ne:qe.key)||null,_e(ye,be,qe,ht);case z:var Nt=qe._init;return tt(be,ye,Ne,Nt(qe._payload),ht)}if(ne(qe)||L(qe))return be=be.get(Ne)||null,Le(ye,be,qe,ht,null);xp(ye,qe)}return null}function ot(be,ye,Ne,qe){for(var ht=null,Nt=null,St=ye,At=ye=0,mn=null;St!==null&&At<Ne.length;At++){St.index>At?(mn=St,St=null):mn=St.sibling;var Zt=$e(be,St,Ne[At],qe);if(Zt===null){St===null&&(St=mn);break}u&&St&&Zt.alternate===null&&f(be,St),ye=F(Zt,ye,At),Nt===null?ht=Zt:Nt.sibling=Zt,Nt=Zt,St=mn}if(At===Ne.length)return g(be,St),Cr&&_l(be,At),ht;if(St===null){for(;At<Ne.length;At++)St=We(be,Ne[At],qe),St!==null&&(ye=F(St,ye,At),Nt===null?ht=St:Nt.sibling=St,Nt=St);return Cr&&_l(be,At),ht}for(St=S(be,St);At<Ne.length;At++)mn=tt(St,be,At,Ne[At],qe),mn!==null&&(u&&mn.alternate!==null&&St.delete(mn.key===null?At:mn.key),ye=F(mn,ye,At),Nt===null?ht=mn:Nt.sibling=mn,Nt=mn);return u&&St.forEach(function(To){return f(be,To)}),Cr&&_l(be,At),ht}function dt(be,ye,Ne,qe){var ht=L(Ne);if(typeof ht!="function")throw Error(r(150));if(Ne=ht.call(Ne),Ne==null)throw Error(r(151));for(var Nt=ht=null,St=ye,At=ye=0,mn=null,Zt=Ne.next();St!==null&&!Zt.done;At++,Zt=Ne.next()){St.index>At?(mn=St,St=null):mn=St.sibling;var To=$e(be,St,Zt.value,qe);if(To===null){St===null&&(St=mn);break}u&&St&&To.alternate===null&&f(be,St),ye=F(To,ye,At),Nt===null?ht=To:Nt.sibling=To,Nt=To,St=mn}if(Zt.done)return g(be,St),Cr&&_l(be,At),ht;if(St===null){for(;!Zt.done;At++,Zt=Ne.next())Zt=We(be,Zt.value,qe),Zt!==null&&(ye=F(Zt,ye,At),Nt===null?ht=Zt:Nt.sibling=Zt,Nt=Zt);return Cr&&_l(be,At),ht}for(St=S(be,St);!Zt.done;At++,Zt=Ne.next())Zt=tt(St,be,At,Zt.value,qe),Zt!==null&&(u&&Zt.alternate!==null&&St.delete(Zt.key===null?At:Zt.key),ye=F(Zt,ye,At),Nt===null?ht=Zt:Nt.sibling=Zt,Nt=Zt);return u&&St.forEach(function(FG){return f(be,FG)}),Cr&&_l(be,At),ht}function Ur(be,ye,Ne,qe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===T&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case _:e:{for(var ht=Ne.key,Nt=ye;Nt!==null;){if(Nt.key===ht){if(ht=Ne.type,ht===T){if(Nt.tag===7){g(be,Nt.sibling),ye=O(Nt,Ne.props.children),ye.return=be,be=ye;break e}}else if(Nt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===z&&LP(ht)===Nt.type){g(be,Nt.sibling),ye=O(Nt,Ne.props),ye.ref=xh(be,Nt,Ne),ye.return=be,be=ye;break e}g(be,Nt);break}else f(be,Nt);Nt=Nt.sibling}Ne.type===T?(ye=Ml(Ne.props.children,be.mode,qe,Ne.key),ye.return=be,be=ye):(qe=zp(Ne.type,Ne.key,Ne.props,null,be.mode,qe),qe.ref=xh(be,ye,Ne),qe.return=be,be=qe)}return G(be);case A:e:{for(Nt=Ne.key;ye!==null;){if(ye.key===Nt)if(ye.tag===4&&ye.stateNode.containerInfo===Ne.containerInfo&&ye.stateNode.implementation===Ne.implementation){g(be,ye.sibling),ye=O(ye,Ne.children||[]),ye.return=be,be=ye;break e}else{g(be,ye);break}else f(be,ye);ye=ye.sibling}ye=Nb(Ne,be.mode,qe),ye.return=be,be=ye}return G(be);case z:return Nt=Ne._init,Ur(be,ye,Nt(Ne._payload),qe)}if(ne(Ne))return ot(be,ye,Ne,qe);if(L(Ne))return dt(be,ye,Ne,qe);xp(be,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"?(Ne=""+Ne,ye!==null&&ye.tag===6?(g(be,ye.sibling),ye=O(ye,Ne),ye.return=be,be=ye):(g(be,ye),ye=jb(Ne,be.mode,qe),ye.return=be,be=ye),G(be)):g(be,ye)}return Ur}var Yc=BP(!0),zP=BP(!1),vp=wo(null),yp=null,Xc=null,Ty=null;function Ry(){Ty=Xc=yp=null}function My(u){var f=vp.current;jr(vp),u._currentValue=f}function Iy(u,f,g){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===g)break;u=u.return}}function Qc(u,f){yp=u,Ty=Xc=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(ps=!0),u.firstContext=null)}function ai(u){var f=u._currentValue;if(Ty!==u)if(u={context:u,memoizedValue:f,next:null},Xc===null){if(yp===null)throw Error(r(308));Xc=u,yp.dependencies={lanes:0,firstContext:u}}else Xc=Xc.next=u;return f}var Cl=null;function Dy(u){Cl===null?Cl=[u]:Cl.push(u)}function WP(u,f,g,S){var O=f.interleaved;return O===null?(g.next=g,Dy(f)):(g.next=O.next,O.next=g),f.interleaved=g,Ma(u,S)}function Ma(u,f){u.lanes|=f;var g=u.alternate;for(g!==null&&(g.lanes|=f),g=u,u=u.return;u!==null;)u.childLanes|=f,g=u.alternate,g!==null&&(g.childLanes|=f),g=u,u=u.return;return g.tag===3?g.stateNode:null}var So=!1;function Fy(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UP(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ia(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Eo(u,f,g){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(Gt&2)!==0){var O=S.pending;return O===null?f.next=f:(f.next=O.next,O.next=f),S.pending=f,Ma(u,g)}return O=S.interleaved,O===null?(f.next=f,Dy(S)):(f.next=O.next,O.next=f),S.interleaved=f,Ma(u,g)}function bp(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,Q0(u,g)}}function VP(u,f){var g=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var O=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var G={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};F===null?O=F=G:F=F.next=G,g=g.next}while(g!==null);F===null?O=F=f:F=F.next=f}else O=F=f;g={baseState:S.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:S.shared,effects:S.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}function wp(u,f,g,S){var O=u.updateQueue;So=!1;var F=O.firstBaseUpdate,G=O.lastBaseUpdate,oe=O.shared.pending;if(oe!==null){O.shared.pending=null;var ge=oe,_e=ge.next;ge.next=null,G===null?F=_e:G.next=_e,G=ge;var Le=u.alternate;Le!==null&&(Le=Le.updateQueue,oe=Le.lastBaseUpdate,oe!==G&&(oe===null?Le.firstBaseUpdate=_e:oe.next=_e,Le.lastBaseUpdate=ge))}if(F!==null){var We=O.baseState;G=0,Le=_e=ge=null,oe=F;do{var $e=oe.lane,tt=oe.eventTime;if((S&$e)===$e){Le!==null&&(Le=Le.next={eventTime:tt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var ot=u,dt=oe;switch($e=f,tt=g,dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){We=ot.call(tt,We,$e);break e}We=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,$e=typeof ot=="function"?ot.call(tt,We,$e):ot,$e==null)break e;We=U({},We,$e);break e;case 2:So=!0}}oe.callback!==null&&oe.lane!==0&&(u.flags|=64,$e=O.effects,$e===null?O.effects=[oe]:$e.push(oe))}else tt={eventTime:tt,lane:$e,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Le===null?(_e=Le=tt,ge=We):Le=Le.next=tt,G|=$e;if(oe=oe.next,oe===null){if(oe=O.shared.pending,oe===null)break;$e=oe,oe=$e.next,$e.next=null,O.lastBaseUpdate=$e,O.shared.pending=null}}while(!0);if(Le===null&&(ge=We),O.baseState=ge,O.firstBaseUpdate=_e,O.lastBaseUpdate=Le,f=O.shared.interleaved,f!==null){O=f;do G|=O.lane,O=O.next;while(O!==f)}else F===null&&(O.shared.lanes=0);Pl|=G,u.lanes=G,u.memoizedState=We}}function qP(u,f,g){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var S=u[f],O=S.callback;if(O!==null){if(S.callback=null,S=g,typeof O!="function")throw Error(r(191,O));O.call(S)}}}var vh={},na=wo(vh),yh=wo(vh),bh=wo(vh);function kl(u){if(u===vh)throw Error(r(174));return u}function $y(u,f){switch(mr(bh,f),mr(yh,u),mr(na,vh),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:De(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=De(f,u)}jr(na),mr(na,f)}function Jc(){jr(na),jr(yh),jr(bh)}function HP(u){kl(bh.current);var f=kl(na.current),g=De(f,u.type);f!==g&&(mr(yh,u),mr(na,g))}function Ly(u){yh.current===u&&(jr(na),jr(yh))}var Or=wo(0);function jp(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var By=[];function zy(){for(var u=0;u<By.length;u++)By[u]._workInProgressVersionPrimary=null;By.length=0}var Np=k.ReactCurrentDispatcher,Wy=k.ReactCurrentBatchConfig,Al=0,Tr=null,tn=null,hn=null,Sp=!1,wh=!1,jh=0,iG=0;function Mn(){throw Error(r(321))}function Uy(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!ki(u[g],f[g]))return!1;return!0}function Vy(u,f,g,S,O,F){if(Al=F,Tr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Np.current=u===null||u.memoizedState===null?cG:uG,u=g(S,O),wh){F=0;do{if(wh=!1,jh=0,25<=F)throw Error(r(301));F+=1,hn=tn=null,f.updateQueue=null,Np.current=dG,u=g(S,O)}while(wh)}if(Np.current=Cp,f=tn!==null&&tn.next!==null,Al=0,hn=tn=Tr=null,Sp=!1,f)throw Error(r(300));return u}function qy(){var u=jh!==0;return jh=0,u}function sa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Tr.memoizedState=hn=u:hn=hn.next=u,hn}function oi(){if(tn===null){var u=Tr.alternate;u=u!==null?u.memoizedState:null}else u=tn.next;var f=hn===null?Tr.memoizedState:hn.next;if(f!==null)hn=f,tn=u;else{if(u===null)throw Error(r(310));tn=u,u={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},hn===null?Tr.memoizedState=hn=u:hn=hn.next=u}return hn}function Nh(u,f){return typeof f=="function"?f(u):f}function Hy(u){var f=oi(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var S=tn,O=S.baseQueue,F=g.pending;if(F!==null){if(O!==null){var G=O.next;O.next=F.next,F.next=G}S.baseQueue=O=F,g.pending=null}if(O!==null){F=O.next,S=S.baseState;var oe=G=null,ge=null,_e=F;do{var Le=_e.lane;if((Al&Le)===Le)ge!==null&&(ge=ge.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),S=_e.hasEagerState?_e.eagerState:u(S,_e.action);else{var We={lane:Le,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};ge===null?(oe=ge=We,G=S):ge=ge.next=We,Tr.lanes|=Le,Pl|=Le}_e=_e.next}while(_e!==null&&_e!==F);ge===null?G=S:ge.next=oe,ki(S,f.memoizedState)||(ps=!0),f.memoizedState=S,f.baseState=G,f.baseQueue=ge,g.lastRenderedState=S}if(u=g.interleaved,u!==null){O=u;do F=O.lane,Tr.lanes|=F,Pl|=F,O=O.next;while(O!==u)}else O===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function Ky(u){var f=oi(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var S=g.dispatch,O=g.pending,F=f.memoizedState;if(O!==null){g.pending=null;var G=O=O.next;do F=u(F,G.action),G=G.next;while(G!==O);ki(F,f.memoizedState)||(ps=!0),f.memoizedState=F,f.baseQueue===null&&(f.baseState=F),g.lastRenderedState=F}return[F,S]}function KP(){}function GP(u,f){var g=Tr,S=oi(),O=f(),F=!ki(S.memoizedState,O);if(F&&(S.memoizedState=O,ps=!0),S=S.queue,Gy(QP.bind(null,g,S,u),[u]),S.getSnapshot!==f||F||hn!==null&&hn.memoizedState.tag&1){if(g.flags|=2048,Sh(9,XP.bind(null,g,S,O,f),void 0,null),fn===null)throw Error(r(349));(Al&30)!==0||YP(g,f,O)}return O}function YP(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Tr.updateQueue,f===null?(f={lastEffect:null,stores:null},Tr.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function XP(u,f,g,S){f.value=g,f.getSnapshot=S,JP(f)&&ZP(u)}function QP(u,f,g){return g(function(){JP(f)&&ZP(u)})}function JP(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!ki(u,g)}catch{return!0}}function ZP(u){var f=Ma(u,1);f!==null&&Ri(f,u,1,-1)}function eO(u){var f=sa();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:u},f.queue=u,u=u.dispatch=lG.bind(null,Tr,u),[f.memoizedState,u]}function Sh(u,f,g,S){return u={tag:u,create:f,destroy:g,deps:S,next:null},f=Tr.updateQueue,f===null?(f={lastEffect:null,stores:null},Tr.updateQueue=f,f.lastEffect=u.next=u):(g=f.lastEffect,g===null?f.lastEffect=u.next=u:(S=g.next,g.next=u,u.next=S,f.lastEffect=u)),u}function tO(){return oi().memoizedState}function Ep(u,f,g,S){var O=sa();Tr.flags|=u,O.memoizedState=Sh(1|f,g,void 0,S===void 0?null:S)}function _p(u,f,g,S){var O=oi();S=S===void 0?null:S;var F=void 0;if(tn!==null){var G=tn.memoizedState;if(F=G.destroy,S!==null&&Uy(S,G.deps)){O.memoizedState=Sh(f,g,F,S);return}}Tr.flags|=u,O.memoizedState=Sh(1|f,g,F,S)}function rO(u,f){return Ep(8390656,8,u,f)}function Gy(u,f){return _p(2048,8,u,f)}function nO(u,f){return _p(4,2,u,f)}function sO(u,f){return _p(4,4,u,f)}function iO(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function aO(u,f,g){return g=g!=null?g.concat([u]):null,_p(4,4,iO.bind(null,f,u),g)}function Yy(){}function oO(u,f){var g=oi();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&Uy(f,S[1])?S[0]:(g.memoizedState=[u,f],u)}function lO(u,f){var g=oi();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&Uy(f,S[1])?S[0]:(u=u(),g.memoizedState=[u,f],u)}function cO(u,f,g){return(Al&21)===0?(u.baseState&&(u.baseState=!1,ps=!0),u.memoizedState=g):(ki(g,f)||(g=LA(),Tr.lanes|=g,Pl|=g,u.baseState=!0),f)}function aG(u,f){var g=ar;ar=g!==0&&4>g?g:4,u(!0);var S=Wy.transition;Wy.transition={};try{u(!1),f()}finally{ar=g,Wy.transition=S}}function uO(){return oi().memoizedState}function oG(u,f,g){var S=Ao(u);if(g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},dO(u))hO(f,g);else if(g=WP(u,f,g,S),g!==null){var O=Jn();Ri(g,u,S,O),fO(g,f,S)}}function lG(u,f,g){var S=Ao(u),O={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(dO(u))hO(f,O);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=f.lastRenderedReducer,F!==null))try{var G=f.lastRenderedState,oe=F(G,g);if(O.hasEagerState=!0,O.eagerState=oe,ki(oe,G)){var ge=f.interleaved;ge===null?(O.next=O,Dy(f)):(O.next=ge.next,ge.next=O),f.interleaved=O;return}}catch{}finally{}g=WP(u,f,O,S),g!==null&&(O=Jn(),Ri(g,u,S,O),fO(g,f,S))}}function dO(u){var f=u.alternate;return u===Tr||f!==null&&f===Tr}function hO(u,f){wh=Sp=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function fO(u,f,g){if((g&4194240)!==0){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,Q0(u,g)}}var Cp={readContext:ai,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},cG={readContext:ai,useCallback:function(u,f){return sa().memoizedState=[u,f===void 0?null:f],u},useContext:ai,useEffect:rO,useImperativeHandle:function(u,f,g){return g=g!=null?g.concat([u]):null,Ep(4194308,4,iO.bind(null,f,u),g)},useLayoutEffect:function(u,f){return Ep(4194308,4,u,f)},useInsertionEffect:function(u,f){return Ep(4,2,u,f)},useMemo:function(u,f){var g=sa();return f=f===void 0?null:f,u=u(),g.memoizedState=[u,f],u},useReducer:function(u,f,g){var S=sa();return f=g!==void 0?g(f):f,S.memoizedState=S.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},S.queue=u,u=u.dispatch=oG.bind(null,Tr,u),[S.memoizedState,u]},useRef:function(u){var f=sa();return u={current:u},f.memoizedState=u},useState:eO,useDebugValue:Yy,useDeferredValue:function(u){return sa().memoizedState=u},useTransition:function(){var u=eO(!1),f=u[0];return u=aG.bind(null,u[1]),sa().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,g){var S=Tr,O=sa();if(Cr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),fn===null)throw Error(r(349));(Al&30)!==0||YP(S,f,g)}O.memoizedState=g;var F={value:g,getSnapshot:f};return O.queue=F,rO(QP.bind(null,S,F,u),[u]),S.flags|=2048,Sh(9,XP.bind(null,S,F,g,f),void 0,null),g},useId:function(){var u=sa(),f=fn.identifierPrefix;if(Cr){var g=Ra,S=Ta;g=(S&~(1<<32-vn(S)-1)).toString(32)+g,f=":"+f+"R"+g,g=jh++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=iG++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},uG={readContext:ai,useCallback:oO,useContext:ai,useEffect:Gy,useImperativeHandle:aO,useInsertionEffect:nO,useLayoutEffect:sO,useMemo:lO,useReducer:Hy,useRef:tO,useState:function(){return Hy(Nh)},useDebugValue:Yy,useDeferredValue:function(u){var f=oi();return cO(f,tn.memoizedState,u)},useTransition:function(){var u=Hy(Nh)[0],f=oi().memoizedState;return[u,f]},useMutableSource:KP,useSyncExternalStore:GP,useId:uO,unstable_isNewReconciler:!1},dG={readContext:ai,useCallback:oO,useContext:ai,useEffect:Gy,useImperativeHandle:aO,useInsertionEffect:nO,useLayoutEffect:sO,useMemo:lO,useReducer:Ky,useRef:tO,useState:function(){return Ky(Nh)},useDebugValue:Yy,useDeferredValue:function(u){var f=oi();return tn===null?f.memoizedState=u:cO(f,tn.memoizedState,u)},useTransition:function(){var u=Ky(Nh)[0],f=oi().memoizedState;return[u,f]},useMutableSource:KP,useSyncExternalStore:GP,useId:uO,unstable_isNewReconciler:!1};function Pi(u,f){if(u&&u.defaultProps){f=U({},f),u=u.defaultProps;for(var g in u)f[g]===void 0&&(f[g]=u[g]);return f}return f}function Xy(u,f,g,S){f=u.memoizedState,g=g(S,f),g=g==null?f:U({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var kp={isMounted:function(u){return(u=u._reactInternals)?ni(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var S=Jn(),O=Ao(u),F=Ia(S,O);F.payload=f,g!=null&&(F.callback=g),f=Eo(u,F,O),f!==null&&(Ri(f,u,O,S),bp(f,u,O))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var S=Jn(),O=Ao(u),F=Ia(S,O);F.tag=1,F.payload=f,g!=null&&(F.callback=g),f=Eo(u,F,O),f!==null&&(Ri(f,u,O,S),bp(f,u,O))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=Jn(),S=Ao(u),O=Ia(g,S);O.tag=2,f!=null&&(O.callback=f),f=Eo(u,O,S),f!==null&&(Ri(f,u,S,g),bp(f,u,S))}};function mO(u,f,g,S,O,F,G){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,F,G):f.prototype&&f.prototype.isPureReactComponent?!uh(g,S)||!uh(O,F):!0}function pO(u,f,g){var S=!1,O=jo,F=f.contextType;return typeof F=="object"&&F!==null?F=ai(F):(O=ms(f)?Sl:Rn.current,S=f.contextTypes,F=(S=S!=null)?qc(u,O):jo),f=new f(g,F),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kp,u.stateNode=f,f._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=O,u.__reactInternalMemoizedMaskedChildContext=F),f}function gO(u,f,g,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,S),f.state!==u&&kp.enqueueReplaceState(f,f.state,null)}function Qy(u,f,g,S){var O=u.stateNode;O.props=g,O.state=u.memoizedState,O.refs={},Fy(u);var F=f.contextType;typeof F=="object"&&F!==null?O.context=ai(F):(F=ms(f)?Sl:Rn.current,O.context=qc(u,F)),O.state=u.memoizedState,F=f.getDerivedStateFromProps,typeof F=="function"&&(Xy(u,f,F,g),O.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(f=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),f!==O.state&&kp.enqueueReplaceState(O,O.state,null),wp(u,g,O,S),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308)}function Zc(u,f){try{var g="",S=f;do g+=ce(S),S=S.return;while(S);var O=g}catch(F){O=`
Error generating stack: `+F.message+`
`+F.stack}return{value:u,source:f,stack:O,digest:null}}function Jy(u,f,g){return{value:u,source:null,stack:g??null,digest:f??null}}function Zy(u,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var hG=typeof WeakMap=="function"?WeakMap:Map;function xO(u,f,g){g=Ia(-1,g),g.tag=3,g.payload={element:null};var S=f.value;return g.callback=function(){Ip||(Ip=!0,mb=S),Zy(u,f)},g}function vO(u,f,g){g=Ia(-1,g),g.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var O=f.value;g.payload=function(){return S(O)},g.callback=function(){Zy(u,f)}}var F=u.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(g.callback=function(){Zy(u,f),typeof S!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),g}function yO(u,f,g){var S=u.pingCache;if(S===null){S=u.pingCache=new hG;var O=new Set;S.set(f,O)}else O=S.get(f),O===void 0&&(O=new Set,S.set(f,O));O.has(g)||(O.add(g),u=_G.bind(null,u,f,g),f.then(u,u))}function bO(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function wO(u,f,g,S,O){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=Ia(-1,1),f.tag=2,Eo(g,f,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=O,u)}var fG=k.ReactCurrentOwner,ps=!1;function Qn(u,f,g,S){f.child=u===null?zP(f,null,g,S):Yc(f,u.child,g,S)}function jO(u,f,g,S,O){g=g.render;var F=f.ref;return Qc(f,O),S=Vy(u,f,g,S,F,O),g=qy(),u!==null&&!ps?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~O,Da(u,f,O)):(Cr&&g&&Cy(f),f.flags|=1,Qn(u,f,S,O),f.child)}function NO(u,f,g,S,O){if(u===null){var F=g.type;return typeof F=="function"&&!wb(F)&&F.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=F,SO(u,f,F,S,O)):(u=zp(g.type,null,S,f,f.mode,O),u.ref=f.ref,u.return=f,f.child=u)}if(F=u.child,(u.lanes&O)===0){var G=F.memoizedProps;if(g=g.compare,g=g!==null?g:uh,g(G,S)&&u.ref===f.ref)return Da(u,f,O)}return f.flags|=1,u=Oo(F,S),u.ref=f.ref,u.return=f,f.child=u}function SO(u,f,g,S,O){if(u!==null){var F=u.memoizedProps;if(uh(F,S)&&u.ref===f.ref)if(ps=!1,f.pendingProps=S=F,(u.lanes&O)!==0)(u.flags&131072)!==0&&(ps=!0);else return f.lanes=u.lanes,Da(u,f,O)}return eb(u,f,g,S,O)}function EO(u,f,g){var S=f.pendingProps,O=S.children,F=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(tu,$s),$s|=g;else{if((g&1073741824)===0)return u=F!==null?F.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,mr(tu,$s),$s|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=F!==null?F.baseLanes:g,mr(tu,$s),$s|=S}else F!==null?(S=F.baseLanes|g,f.memoizedState=null):S=g,mr(tu,$s),$s|=S;return Qn(u,f,O,g),f.child}function _O(u,f){var g=f.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function eb(u,f,g,S,O){var F=ms(g)?Sl:Rn.current;return F=qc(f,F),Qc(f,O),g=Vy(u,f,g,S,F,O),S=qy(),u!==null&&!ps?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~O,Da(u,f,O)):(Cr&&S&&Cy(f),f.flags|=1,Qn(u,f,g,O),f.child)}function CO(u,f,g,S,O){if(ms(g)){var F=!0;hp(f)}else F=!1;if(Qc(f,O),f.stateNode===null)Pp(u,f),pO(f,g,S),Qy(f,g,S,O),S=!0;else if(u===null){var G=f.stateNode,oe=f.memoizedProps;G.props=oe;var ge=G.context,_e=g.contextType;typeof _e=="object"&&_e!==null?_e=ai(_e):(_e=ms(g)?Sl:Rn.current,_e=qc(f,_e));var Le=g.getDerivedStateFromProps,We=typeof Le=="function"||typeof G.getSnapshotBeforeUpdate=="function";We||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(oe!==S||ge!==_e)&&gO(f,G,S,_e),So=!1;var $e=f.memoizedState;G.state=$e,wp(f,S,G,O),ge=f.memoizedState,oe!==S||$e!==ge||fs.current||So?(typeof Le=="function"&&(Xy(f,g,Le,S),ge=f.memoizedState),(oe=So||mO(f,g,oe,S,$e,ge,_e))?(We||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=ge),G.props=S,G.state=ge,G.context=_e,S=oe):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{G=f.stateNode,UP(u,f),oe=f.memoizedProps,_e=f.type===f.elementType?oe:Pi(f.type,oe),G.props=_e,We=f.pendingProps,$e=G.context,ge=g.contextType,typeof ge=="object"&&ge!==null?ge=ai(ge):(ge=ms(g)?Sl:Rn.current,ge=qc(f,ge));var tt=g.getDerivedStateFromProps;(Le=typeof tt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(oe!==We||$e!==ge)&&gO(f,G,S,ge),So=!1,$e=f.memoizedState,G.state=$e,wp(f,S,G,O);var ot=f.memoizedState;oe!==We||$e!==ot||fs.current||So?(typeof tt=="function"&&(Xy(f,g,tt,S),ot=f.memoizedState),(_e=So||mO(f,g,_e,S,$e,ot,ge)||!1)?(Le||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(S,ot,ge),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(S,ot,ge)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||oe===u.memoizedProps&&$e===u.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===u.memoizedProps&&$e===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=ot),G.props=S,G.state=ot,G.context=ge,S=_e):(typeof G.componentDidUpdate!="function"||oe===u.memoizedProps&&$e===u.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===u.memoizedProps&&$e===u.memoizedState||(f.flags|=1024),S=!1)}return tb(u,f,g,S,F,O)}function tb(u,f,g,S,O,F){_O(u,f);var G=(f.flags&128)!==0;if(!S&&!G)return O&&TP(f,g,!1),Da(u,f,F);S=f.stateNode,fG.current=f;var oe=G&&typeof g.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,u!==null&&G?(f.child=Yc(f,u.child,null,F),f.child=Yc(f,null,oe,F)):Qn(u,f,oe,F),f.memoizedState=S.state,O&&TP(f,g,!0),f.child}function kO(u){var f=u.stateNode;f.pendingContext?PP(u,f.pendingContext,f.pendingContext!==f.context):f.context&&PP(u,f.context,!1),$y(u,f.containerInfo)}function AO(u,f,g,S,O){return Gc(),Oy(O),f.flags|=256,Qn(u,f,g,S),f.child}var rb={dehydrated:null,treeContext:null,retryLane:0};function nb(u){return{baseLanes:u,cachePool:null,transitions:null}}function PO(u,f,g){var S=f.pendingProps,O=Or.current,F=!1,G=(f.flags&128)!==0,oe;if((oe=G)||(oe=u!==null&&u.memoizedState===null?!1:(O&2)!==0),oe?(F=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(O|=1),mr(Or,O&1),u===null)return Py(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(G=S.children,u=S.fallback,F?(S=f.mode,F=f.child,G={mode:"hidden",children:G},(S&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=G):F=Wp(G,S,0,null),u=Ml(u,S,g,null),F.return=f,u.return=f,F.sibling=u,f.child=F,f.child.memoizedState=nb(g),f.memoizedState=rb,u):sb(f,G));if(O=u.memoizedState,O!==null&&(oe=O.dehydrated,oe!==null))return mG(u,f,G,S,oe,O,g);if(F){F=S.fallback,G=f.mode,O=u.child,oe=O.sibling;var ge={mode:"hidden",children:S.children};return(G&1)===0&&f.child!==O?(S=f.child,S.childLanes=0,S.pendingProps=ge,f.deletions=null):(S=Oo(O,ge),S.subtreeFlags=O.subtreeFlags&14680064),oe!==null?F=Oo(oe,F):(F=Ml(F,G,g,null),F.flags|=2),F.return=f,S.return=f,S.sibling=F,f.child=S,S=F,F=f.child,G=u.child.memoizedState,G=G===null?nb(g):{baseLanes:G.baseLanes|g,cachePool:null,transitions:G.transitions},F.memoizedState=G,F.childLanes=u.childLanes&~g,f.memoizedState=rb,S}return F=u.child,u=F.sibling,S=Oo(F,{mode:"visible",children:S.children}),(f.mode&1)===0&&(S.lanes=g),S.return=f,S.sibling=null,u!==null&&(g=f.deletions,g===null?(f.deletions=[u],f.flags|=16):g.push(u)),f.child=S,f.memoizedState=null,S}function sb(u,f){return f=Wp({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function Ap(u,f,g,S){return S!==null&&Oy(S),Yc(f,u.child,null,g),u=sb(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function mG(u,f,g,S,O,F,G){if(g)return f.flags&256?(f.flags&=-257,S=Jy(Error(r(422))),Ap(u,f,G,S)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(F=S.fallback,O=f.mode,S=Wp({mode:"visible",children:S.children},O,0,null),F=Ml(F,O,G,null),F.flags|=2,S.return=f,F.return=f,S.sibling=F,f.child=S,(f.mode&1)!==0&&Yc(f,u.child,null,G),f.child.memoizedState=nb(G),f.memoizedState=rb,F);if((f.mode&1)===0)return Ap(u,f,G,null);if(O.data==="$!"){if(S=O.nextSibling&&O.nextSibling.dataset,S)var oe=S.dgst;return S=oe,F=Error(r(419)),S=Jy(F,S,void 0),Ap(u,f,G,S)}if(oe=(G&u.childLanes)!==0,ps||oe){if(S=fn,S!==null){switch(G&-G){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(S.suspendedLanes|G))!==0?0:O,O!==0&&O!==F.retryLane&&(F.retryLane=O,Ma(u,O),Ri(S,u,O,-1))}return bb(),S=Jy(Error(r(421))),Ap(u,f,G,S)}return O.data==="$?"?(f.flags|=128,f.child=u.child,f=CG.bind(null,u),O._reactRetry=f,null):(u=F.treeContext,Fs=bo(O.nextSibling),Ds=f,Cr=!0,Ai=null,u!==null&&(si[ii++]=Ta,si[ii++]=Ra,si[ii++]=El,Ta=u.id,Ra=u.overflow,El=f),f=sb(f,S.children),f.flags|=4096,f)}function OO(u,f,g){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),Iy(u.return,f,g)}function ib(u,f,g,S,O){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:O}:(F.isBackwards=f,F.rendering=null,F.renderingStartTime=0,F.last=S,F.tail=g,F.tailMode=O)}function TO(u,f,g){var S=f.pendingProps,O=S.revealOrder,F=S.tail;if(Qn(u,f,S.children,g),S=Or.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&OO(u,g,f);else if(u.tag===19)OO(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(mr(Or,S),(f.mode&1)===0)f.memoizedState=null;else switch(O){case"forwards":for(g=f.child,O=null;g!==null;)u=g.alternate,u!==null&&jp(u)===null&&(O=g),g=g.sibling;g=O,g===null?(O=f.child,f.child=null):(O=g.sibling,g.sibling=null),ib(f,!1,O,g,F);break;case"backwards":for(g=null,O=f.child,f.child=null;O!==null;){if(u=O.alternate,u!==null&&jp(u)===null){f.child=O;break}u=O.sibling,O.sibling=g,g=O,O=u}ib(f,!0,g,null,F);break;case"together":ib(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Pp(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Da(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Pl|=f.lanes,(g&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=Oo(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=Oo(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function pG(u,f,g){switch(f.tag){case 3:kO(f),Gc();break;case 5:HP(f);break;case 1:ms(f.type)&&hp(f);break;case 4:$y(f,f.stateNode.containerInfo);break;case 10:var S=f.type._context,O=f.memoizedProps.value;mr(vp,S._currentValue),S._currentValue=O;break;case 13:if(S=f.memoizedState,S!==null)return S.dehydrated!==null?(mr(Or,Or.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?PO(u,f,g):(mr(Or,Or.current&1),u=Da(u,f,g),u!==null?u.sibling:null);mr(Or,Or.current&1);break;case 19:if(S=(g&f.childLanes)!==0,(u.flags&128)!==0){if(S)return TO(u,f,g);f.flags|=128}if(O=f.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),mr(Or,Or.current),S)break;return null;case 22:case 23:return f.lanes=0,EO(u,f,g)}return Da(u,f,g)}var RO,ab,MO,IO;RO=function(u,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},ab=function(){},MO=function(u,f,g,S){var O=u.memoizedProps;if(O!==S){u=f.stateNode,kl(na.current);var F=null;switch(g){case"input":O=de(u,O),S=de(u,S),F=[];break;case"select":O=U({},O,{value:void 0}),S=U({},S,{value:void 0}),F=[];break;case"textarea":O=J(u,O),S=J(u,S),F=[];break;default:typeof O.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=cp)}ir(g,S);var G;g=null;for(_e in O)if(!S.hasOwnProperty(_e)&&O.hasOwnProperty(_e)&&O[_e]!=null)if(_e==="style"){var oe=O[_e];for(G in oe)oe.hasOwnProperty(G)&&(g||(g={}),g[G]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?F||(F=[]):(F=F||[]).push(_e,null));for(_e in S){var ge=S[_e];if(oe=O?.[_e],S.hasOwnProperty(_e)&&ge!==oe&&(ge!=null||oe!=null))if(_e==="style")if(oe){for(G in oe)!oe.hasOwnProperty(G)||ge&&ge.hasOwnProperty(G)||(g||(g={}),g[G]="");for(G in ge)ge.hasOwnProperty(G)&&oe[G]!==ge[G]&&(g||(g={}),g[G]=ge[G])}else g||(F||(F=[]),F.push(_e,g)),g=ge;else _e==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,oe=oe?oe.__html:void 0,ge!=null&&oe!==ge&&(F=F||[]).push(_e,ge)):_e==="children"?typeof ge!="string"&&typeof ge!="number"||(F=F||[]).push(_e,""+ge):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(ge!=null&&_e==="onScroll"&&wr("scroll",u),F||oe===ge||(F=[])):(F=F||[]).push(_e,ge))}g&&(F=F||[]).push("style",g);var _e=F;(f.updateQueue=_e)&&(f.flags|=4)}},IO=function(u,f,g,S){g!==S&&(f.flags|=4)};function Eh(u,f){if(!Cr)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function In(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,S=0;if(f)for(var O=u.child;O!==null;)g|=O.lanes|O.childLanes,S|=O.subtreeFlags&14680064,S|=O.flags&14680064,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)g|=O.lanes|O.childLanes,S|=O.subtreeFlags,S|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=S,u.childLanes=g,f}function gG(u,f,g){var S=f.pendingProps;switch(ky(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(f),null;case 1:return ms(f.type)&&dp(),In(f),null;case 3:return S=f.stateNode,Jc(),jr(fs),jr(Rn),zy(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(gp(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ai!==null&&(xb(Ai),Ai=null))),ab(u,f),In(f),null;case 5:Ly(f);var O=kl(bh.current);if(g=f.type,u!==null&&f.stateNode!=null)MO(u,f,g,S,O),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(r(166));return In(f),null}if(u=kl(na.current),gp(f)){S=f.stateNode,g=f.type;var F=f.memoizedProps;switch(S[ra]=f,S[ph]=F,u=(f.mode&1)!==0,g){case"dialog":wr("cancel",S),wr("close",S);break;case"iframe":case"object":case"embed":wr("load",S);break;case"video":case"audio":for(O=0;O<hh.length;O++)wr(hh[O],S);break;case"source":wr("error",S);break;case"img":case"image":case"link":wr("error",S),wr("load",S);break;case"details":wr("toggle",S);break;case"input":te(S,F),wr("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!F.multiple},wr("invalid",S);break;case"textarea":je(S,F),wr("invalid",S)}ir(g,F),O=null;for(var G in F)if(F.hasOwnProperty(G)){var oe=F[G];G==="children"?typeof oe=="string"?S.textContent!==oe&&(F.suppressHydrationWarning!==!0&&lp(S.textContent,oe,u),O=["children",oe]):typeof oe=="number"&&S.textContent!==""+oe&&(F.suppressHydrationWarning!==!0&&lp(S.textContent,oe,u),O=["children",""+oe]):i.hasOwnProperty(G)&&oe!=null&&G==="onScroll"&&wr("scroll",S)}switch(g){case"input":xe(S),ze(S,F,!0);break;case"textarea":xe(S),Te(S);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(S.onclick=cp)}S=O,f.updateQueue=S,S!==null&&(f.flags|=4)}else{G=O.nodeType===9?O:O.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Be(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=G.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=G.createElement(g,{is:S.is}):(u=G.createElement(g),g==="select"&&(G=u,S.multiple?G.multiple=!0:S.size&&(G.size=S.size))):u=G.createElementNS(u,g),u[ra]=f,u[ph]=S,RO(u,f,!1,!1),f.stateNode=u;e:{switch(G=fo(g,S),g){case"dialog":wr("cancel",u),wr("close",u),O=S;break;case"iframe":case"object":case"embed":wr("load",u),O=S;break;case"video":case"audio":for(O=0;O<hh.length;O++)wr(hh[O],u);O=S;break;case"source":wr("error",u),O=S;break;case"img":case"image":case"link":wr("error",u),wr("load",u),O=S;break;case"details":wr("toggle",u),O=S;break;case"input":te(u,S),O=de(u,S),wr("invalid",u);break;case"option":O=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},O=U({},S,{value:void 0}),wr("invalid",u);break;case"textarea":je(u,S),O=J(u,S),wr("invalid",u);break;default:O=S}ir(g,O),oe=O;for(F in oe)if(oe.hasOwnProperty(F)){var ge=oe[F];F==="style"?Wr(u,ge):F==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&vt(u,ge)):F==="children"?typeof ge=="string"?(g!=="textarea"||ge!=="")&&Ue(u,ge):typeof ge=="number"&&Ue(u,""+ge):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ge!=null&&F==="onScroll"&&wr("scroll",u):ge!=null&&E(u,F,ge,G))}switch(g){case"input":xe(u),ze(u,S,!1);break;case"textarea":xe(u),Te(u);break;case"option":S.value!=null&&u.setAttribute("value",""+ue(S.value));break;case"select":u.multiple=!!S.multiple,F=S.value,F!=null?ve(u,!!S.multiple,F,!1):S.defaultValue!=null&&ve(u,!!S.multiple,S.defaultValue,!0);break;default:typeof O.onClick=="function"&&(u.onclick=cp)}switch(g){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return In(f),null;case 6:if(u&&f.stateNode!=null)IO(u,f,u.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(g=kl(bh.current),kl(na.current),gp(f)){if(S=f.stateNode,g=f.memoizedProps,S[ra]=f,(F=S.nodeValue!==g)&&(u=Ds,u!==null))switch(u.tag){case 3:lp(S.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&lp(S.nodeValue,g,(u.mode&1)!==0)}F&&(f.flags|=4)}else S=(g.nodeType===9?g:g.ownerDocument).createTextNode(S),S[ra]=f,f.stateNode=S}return In(f),null;case 13:if(jr(Or),S=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Cr&&Fs!==null&&(f.mode&1)!==0&&(f.flags&128)===0)$P(),Gc(),f.flags|=98560,F=!1;else if(F=gp(f),S!==null&&S.dehydrated!==null){if(u===null){if(!F)throw Error(r(318));if(F=f.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(r(317));F[ra]=f}else Gc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;In(f),F=!1}else Ai!==null&&(xb(Ai),Ai=null),F=!0;if(!F)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=g,f):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(Or.current&1)!==0?rn===0&&(rn=3):bb())),f.updateQueue!==null&&(f.flags|=4),In(f),null);case 4:return Jc(),ab(u,f),u===null&&fh(f.stateNode.containerInfo),In(f),null;case 10:return My(f.type._context),In(f),null;case 17:return ms(f.type)&&dp(),In(f),null;case 19:if(jr(Or),F=f.memoizedState,F===null)return In(f),null;if(S=(f.flags&128)!==0,G=F.rendering,G===null)if(S)Eh(F,!1);else{if(rn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(G=jp(u),G!==null){for(f.flags|=128,Eh(F,!1),S=G.updateQueue,S!==null&&(f.updateQueue=S,f.flags|=4),f.subtreeFlags=0,S=g,g=f.child;g!==null;)F=g,u=S,F.flags&=14680066,G=F.alternate,G===null?(F.childLanes=0,F.lanes=u,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=G.childLanes,F.lanes=G.lanes,F.child=G.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=G.memoizedProps,F.memoizedState=G.memoizedState,F.updateQueue=G.updateQueue,F.type=G.type,u=G.dependencies,F.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return mr(Or,Or.current&1|2),f.child}u=u.sibling}F.tail!==null&&Ce()>ru&&(f.flags|=128,S=!0,Eh(F,!1),f.lanes=4194304)}else{if(!S)if(u=jp(G),u!==null){if(f.flags|=128,S=!0,g=u.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),Eh(F,!0),F.tail===null&&F.tailMode==="hidden"&&!G.alternate&&!Cr)return In(f),null}else 2*Ce()-F.renderingStartTime>ru&&g!==1073741824&&(f.flags|=128,S=!0,Eh(F,!1),f.lanes=4194304);F.isBackwards?(G.sibling=f.child,f.child=G):(g=F.last,g!==null?g.sibling=G:f.child=G,F.last=G)}return F.tail!==null?(f=F.tail,F.rendering=f,F.tail=f.sibling,F.renderingStartTime=Ce(),f.sibling=null,g=Or.current,mr(Or,S?g&1|2:g&1),f):(In(f),null);case 22:case 23:return yb(),S=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(f.flags|=8192),S&&(f.mode&1)!==0?($s&1073741824)!==0&&(In(f),f.subtreeFlags&6&&(f.flags|=8192)):In(f),null;case 24:return null;case 25:return null}throw Error(r(156,f.tag))}function xG(u,f){switch(ky(f),f.tag){case 1:return ms(f.type)&&dp(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Jc(),jr(fs),jr(Rn),zy(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return Ly(f),null;case 13:if(jr(Or),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Gc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return jr(Or),null;case 4:return Jc(),null;case 10:return My(f.type._context),null;case 22:case 23:return yb(),null;case 24:return null;default:return null}}var Op=!1,Dn=!1,vG=typeof WeakSet=="function"?WeakSet:Set,nt=null;function eu(u,f){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){$r(u,f,S)}else g.current=null}function ob(u,f,g){try{g()}catch(S){$r(u,f,S)}}var DO=!1;function yG(u,f){if(yy=Qm,u=mP(),dy(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var O=S.anchorOffset,F=S.focusNode;S=S.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var G=0,oe=-1,ge=-1,_e=0,Le=0,We=u,$e=null;t:for(;;){for(var tt;We!==g||O!==0&&We.nodeType!==3||(oe=G+O),We!==F||S!==0&&We.nodeType!==3||(ge=G+S),We.nodeType===3&&(G+=We.nodeValue.length),(tt=We.firstChild)!==null;)$e=We,We=tt;for(;;){if(We===u)break t;if($e===g&&++_e===O&&(oe=G),$e===F&&++Le===S&&(ge=G),(tt=We.nextSibling)!==null)break;We=$e,$e=We.parentNode}We=tt}g=oe===-1||ge===-1?null:{start:oe,end:ge}}else g=null}g=g||{start:0,end:0}}else g=null;for(by={focusedElem:u,selectionRange:g},Qm=!1,nt=f;nt!==null;)if(f=nt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,nt=u;else for(;nt!==null;){f=nt;try{var ot=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var dt=ot.memoizedProps,Ur=ot.memoizedState,be=f.stateNode,ye=be.getSnapshotBeforeUpdate(f.elementType===f.type?dt:Pi(f.type,dt),Ur);be.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Ne=f.stateNode.containerInfo;Ne.nodeType===1?Ne.textContent="":Ne.nodeType===9&&Ne.documentElement&&Ne.removeChild(Ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(qe){$r(f,f.return,qe)}if(u=f.sibling,u!==null){u.return=f.return,nt=u;break}nt=f.return}return ot=DO,DO=!1,ot}function _h(u,f,g){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var O=S=S.next;do{if((O.tag&u)===u){var F=O.destroy;O.destroy=void 0,F!==void 0&&ob(f,g,F)}O=O.next}while(O!==S)}}function Tp(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&u)===u){var S=g.create;g.destroy=S()}g=g.next}while(g!==f)}}function lb(u){var f=u.ref;if(f!==null){var g=u.stateNode;switch(u.tag){case 5:u=g;break;default:u=g}typeof f=="function"?f(u):f.current=u}}function FO(u){var f=u.alternate;f!==null&&(u.alternate=null,FO(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[ra],delete f[ph],delete f[Sy],delete f[tG],delete f[rG])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function $O(u){return u.tag===5||u.tag===3||u.tag===4}function LO(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||$O(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function cb(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=cp));else if(S!==4&&(u=u.child,u!==null))for(cb(u,f,g),u=u.sibling;u!==null;)cb(u,f,g),u=u.sibling}function ub(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(ub(u,f,g),u=u.sibling;u!==null;)ub(u,f,g),u=u.sibling}var yn=null,Oi=!1;function _o(u,f,g){for(g=g.child;g!==null;)BO(u,f,g),g=g.sibling}function BO(u,f,g){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Zr,g)}catch{}switch(g.tag){case 5:Dn||eu(g,f);case 6:var S=yn,O=Oi;yn=null,_o(u,f,g),yn=S,Oi=O,yn!==null&&(Oi?(u=yn,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):yn.removeChild(g.stateNode));break;case 18:yn!==null&&(Oi?(u=yn,g=g.stateNode,u.nodeType===8?Ny(u.parentNode,g):u.nodeType===1&&Ny(u,g),sh(u)):Ny(yn,g.stateNode));break;case 4:S=yn,O=Oi,yn=g.stateNode.containerInfo,Oi=!0,_o(u,f,g),yn=S,Oi=O;break;case 0:case 11:case 14:case 15:if(!Dn&&(S=g.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){O=S=S.next;do{var F=O,G=F.destroy;F=F.tag,G!==void 0&&((F&2)!==0||(F&4)!==0)&&ob(g,f,G),O=O.next}while(O!==S)}_o(u,f,g);break;case 1:if(!Dn&&(eu(g,f),S=g.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=g.memoizedProps,S.state=g.memoizedState,S.componentWillUnmount()}catch(oe){$r(g,f,oe)}_o(u,f,g);break;case 21:_o(u,f,g);break;case 22:g.mode&1?(Dn=(S=Dn)||g.memoizedState!==null,_o(u,f,g),Dn=S):_o(u,f,g);break;default:_o(u,f,g)}}function zO(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new vG),f.forEach(function(S){var O=kG.bind(null,u,S);g.has(S)||(g.add(S),S.then(O,O))})}}function Ti(u,f){var g=f.deletions;if(g!==null)for(var S=0;S<g.length;S++){var O=g[S];try{var F=u,G=f,oe=G;e:for(;oe!==null;){switch(oe.tag){case 5:yn=oe.stateNode,Oi=!1;break e;case 3:yn=oe.stateNode.containerInfo,Oi=!0;break e;case 4:yn=oe.stateNode.containerInfo,Oi=!0;break e}oe=oe.return}if(yn===null)throw Error(r(160));BO(F,G,O),yn=null,Oi=!1;var ge=O.alternate;ge!==null&&(ge.return=null),O.return=null}catch(_e){$r(O,f,_e)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)WO(f,u),f=f.sibling}function WO(u,f){var g=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ti(f,u),ia(u),S&4){try{_h(3,u,u.return),Tp(3,u)}catch(dt){$r(u,u.return,dt)}try{_h(5,u,u.return)}catch(dt){$r(u,u.return,dt)}}break;case 1:Ti(f,u),ia(u),S&512&&g!==null&&eu(g,g.return);break;case 5:if(Ti(f,u),ia(u),S&512&&g!==null&&eu(g,g.return),u.flags&32){var O=u.stateNode;try{Ue(O,"")}catch(dt){$r(u,u.return,dt)}}if(S&4&&(O=u.stateNode,O!=null)){var F=u.memoizedProps,G=g!==null?g.memoizedProps:F,oe=u.type,ge=u.updateQueue;if(u.updateQueue=null,ge!==null)try{oe==="input"&&F.type==="radio"&&F.name!=null&&he(O,F),fo(oe,G);var _e=fo(oe,F);for(G=0;G<ge.length;G+=2){var Le=ge[G],We=ge[G+1];Le==="style"?Wr(O,We):Le==="dangerouslySetInnerHTML"?vt(O,We):Le==="children"?Ue(O,We):E(O,Le,We,_e)}switch(oe){case"input":we(O,F);break;case"textarea":Ae(O,F);break;case"select":var $e=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!F.multiple;var tt=F.value;tt!=null?ve(O,!!F.multiple,tt,!1):$e!==!!F.multiple&&(F.defaultValue!=null?ve(O,!!F.multiple,F.defaultValue,!0):ve(O,!!F.multiple,F.multiple?[]:"",!1))}O[ph]=F}catch(dt){$r(u,u.return,dt)}}break;case 6:if(Ti(f,u),ia(u),S&4){if(u.stateNode===null)throw Error(r(162));O=u.stateNode,F=u.memoizedProps;try{O.nodeValue=F}catch(dt){$r(u,u.return,dt)}}break;case 3:if(Ti(f,u),ia(u),S&4&&g!==null&&g.memoizedState.isDehydrated)try{sh(f.containerInfo)}catch(dt){$r(u,u.return,dt)}break;case 4:Ti(f,u),ia(u);break;case 13:Ti(f,u),ia(u),O=u.child,O.flags&8192&&(F=O.memoizedState!==null,O.stateNode.isHidden=F,!F||O.alternate!==null&&O.alternate.memoizedState!==null||(fb=Ce())),S&4&&zO(u);break;case 22:if(Le=g!==null&&g.memoizedState!==null,u.mode&1?(Dn=(_e=Dn)||Le,Ti(f,u),Dn=_e):Ti(f,u),ia(u),S&8192){if(_e=u.memoizedState!==null,(u.stateNode.isHidden=_e)&&!Le&&(u.mode&1)!==0)for(nt=u,Le=u.child;Le!==null;){for(We=nt=Le;nt!==null;){switch($e=nt,tt=$e.child,$e.tag){case 0:case 11:case 14:case 15:_h(4,$e,$e.return);break;case 1:eu($e,$e.return);var ot=$e.stateNode;if(typeof ot.componentWillUnmount=="function"){S=$e,g=$e.return;try{f=S,ot.props=f.memoizedProps,ot.state=f.memoizedState,ot.componentWillUnmount()}catch(dt){$r(S,g,dt)}}break;case 5:eu($e,$e.return);break;case 22:if($e.memoizedState!==null){qO(We);continue}}tt!==null?(tt.return=$e,nt=tt):qO(We)}Le=Le.sibling}e:for(Le=null,We=u;;){if(We.tag===5){if(Le===null){Le=We;try{O=We.stateNode,_e?(F=O.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(oe=We.stateNode,ge=We.memoizedProps.style,G=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,oe.style.display=ur("display",G))}catch(dt){$r(u,u.return,dt)}}}else if(We.tag===6){if(Le===null)try{We.stateNode.nodeValue=_e?"":We.memoizedProps}catch(dt){$r(u,u.return,dt)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===u)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===u)break e;for(;We.sibling===null;){if(We.return===null||We.return===u)break e;Le===We&&(Le=null),We=We.return}Le===We&&(Le=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Ti(f,u),ia(u),S&4&&zO(u);break;case 21:break;default:Ti(f,u),ia(u)}}function ia(u){var f=u.flags;if(f&2){try{e:{for(var g=u.return;g!==null;){if($O(g)){var S=g;break e}g=g.return}throw Error(r(160))}switch(S.tag){case 5:var O=S.stateNode;S.flags&32&&(Ue(O,""),S.flags&=-33);var F=LO(u);ub(u,F,O);break;case 3:case 4:var G=S.stateNode.containerInfo,oe=LO(u);cb(u,oe,G);break;default:throw Error(r(161))}}catch(ge){$r(u,u.return,ge)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function bG(u,f,g){nt=u,UO(u)}function UO(u,f,g){for(var S=(u.mode&1)!==0;nt!==null;){var O=nt,F=O.child;if(O.tag===22&&S){var G=O.memoizedState!==null||Op;if(!G){var oe=O.alternate,ge=oe!==null&&oe.memoizedState!==null||Dn;oe=Op;var _e=Dn;if(Op=G,(Dn=ge)&&!_e)for(nt=O;nt!==null;)G=nt,ge=G.child,G.tag===22&&G.memoizedState!==null?HO(O):ge!==null?(ge.return=G,nt=ge):HO(O);for(;F!==null;)nt=F,UO(F),F=F.sibling;nt=O,Op=oe,Dn=_e}VO(u)}else(O.subtreeFlags&8772)!==0&&F!==null?(F.return=O,nt=F):VO(u)}}function VO(u){for(;nt!==null;){var f=nt;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Dn||Tp(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!Dn)if(g===null)S.componentDidMount();else{var O=f.elementType===f.type?g.memoizedProps:Pi(f.type,g.memoizedProps);S.componentDidUpdate(O,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var F=f.updateQueue;F!==null&&qP(f,F,S);break;case 3:var G=f.updateQueue;if(G!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}qP(f,G,g)}break;case 5:var oe=f.stateNode;if(g===null&&f.flags&4){g=oe;var ge=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&g.focus();break;case"img":ge.src&&(g.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var _e=f.alternate;if(_e!==null){var Le=_e.memoizedState;if(Le!==null){var We=Le.dehydrated;We!==null&&sh(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Dn||f.flags&512&&lb(f)}catch($e){$r(f,f.return,$e)}}if(f===u){nt=null;break}if(g=f.sibling,g!==null){g.return=f.return,nt=g;break}nt=f.return}}function qO(u){for(;nt!==null;){var f=nt;if(f===u){nt=null;break}var g=f.sibling;if(g!==null){g.return=f.return,nt=g;break}nt=f.return}}function HO(u){for(;nt!==null;){var f=nt;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Tp(4,f)}catch(ge){$r(f,g,ge)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var O=f.return;try{S.componentDidMount()}catch(ge){$r(f,O,ge)}}var F=f.return;try{lb(f)}catch(ge){$r(f,F,ge)}break;case 5:var G=f.return;try{lb(f)}catch(ge){$r(f,G,ge)}}}catch(ge){$r(f,f.return,ge)}if(f===u){nt=null;break}var oe=f.sibling;if(oe!==null){oe.return=f.return,nt=oe;break}nt=f.return}}var wG=Math.ceil,Rp=k.ReactCurrentDispatcher,db=k.ReactCurrentOwner,li=k.ReactCurrentBatchConfig,Gt=0,fn=null,qr=null,bn=0,$s=0,tu=wo(0),rn=0,Ch=null,Pl=0,Mp=0,hb=0,kh=null,gs=null,fb=0,ru=1/0,Fa=null,Ip=!1,mb=null,Co=null,Dp=!1,ko=null,Fp=0,Ah=0,pb=null,$p=-1,Lp=0;function Jn(){return(Gt&6)!==0?Ce():$p!==-1?$p:$p=Ce()}function Ao(u){return(u.mode&1)===0?1:(Gt&2)!==0&&bn!==0?bn&-bn:sG.transition!==null?(Lp===0&&(Lp=LA()),Lp):(u=ar,u!==0||(u=window.event,u=u===void 0?16:GA(u.type)),u)}function Ri(u,f,g,S){if(50<Ah)throw Ah=0,pb=null,Error(r(185));Zd(u,g,S),((Gt&2)===0||u!==fn)&&(u===fn&&((Gt&2)===0&&(Mp|=g),rn===4&&Po(u,bn)),xs(u,S),g===1&&Gt===0&&(f.mode&1)===0&&(ru=Ce()+500,fp&&No()))}function xs(u,f){var g=u.callbackNode;G0(u,f);var S=en(u,u===fn?bn:0);if(S===0)g!==null&&Pt(g),u.callbackNode=null,u.callbackPriority=0;else if(f=S&-S,u.callbackPriority!==f){if(g!=null&&Pt(g),f===1)u.tag===0?nG(GO.bind(null,u)):RP(GO.bind(null,u)),ZK(function(){(Gt&6)===0&&No()}),g=null;else{switch(BA(S)){case 1:g=Fe;break;case 4:g=bt;break;case 16:g=at;break;case 536870912:g=dr;break;default:g=at}g=r6(g,KO.bind(null,u))}u.callbackPriority=f,u.callbackNode=g}}function KO(u,f){if($p=-1,Lp=0,(Gt&6)!==0)throw Error(r(327));var g=u.callbackNode;if(nu()&&u.callbackNode!==g)return null;var S=en(u,u===fn?bn:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||f)f=Bp(u,S);else{f=S;var O=Gt;Gt|=2;var F=XO();(fn!==u||bn!==f)&&(Fa=null,ru=Ce()+500,Tl(u,f));do try{SG();break}catch(oe){YO(u,oe)}while(!0);Ry(),Rp.current=F,Gt=O,qr!==null?f=0:(fn=null,bn=0,f=rn)}if(f!==0){if(f===2&&(O=Y0(u),O!==0&&(S=O,f=gb(u,O))),f===1)throw g=Ch,Tl(u,0),Po(u,S),xs(u,Ce()),g;if(f===6)Po(u,S);else{if(O=u.current.alternate,(S&30)===0&&!jG(O)&&(f=Bp(u,S),f===2&&(F=Y0(u),F!==0&&(S=F,f=gb(u,F))),f===1))throw g=Ch,Tl(u,0),Po(u,S),xs(u,Ce()),g;switch(u.finishedWork=O,u.finishedLanes=S,f){case 0:case 1:throw Error(r(345));case 2:Rl(u,gs,Fa);break;case 3:if(Po(u,S),(S&130023424)===S&&(f=fb+500-Ce(),10<f)){if(en(u,0)!==0)break;if(O=u.suspendedLanes,(O&S)!==S){Jn(),u.pingedLanes|=u.suspendedLanes&O;break}u.timeoutHandle=jy(Rl.bind(null,u,gs,Fa),f);break}Rl(u,gs,Fa);break;case 4:if(Po(u,S),(S&4194240)===S)break;for(f=u.eventTimes,O=-1;0<S;){var G=31-vn(S);F=1<<G,G=f[G],G>O&&(O=G),S&=~F}if(S=O,S=Ce()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*wG(S/1960))-S,10<S){u.timeoutHandle=jy(Rl.bind(null,u,gs,Fa),S);break}Rl(u,gs,Fa);break;case 5:Rl(u,gs,Fa);break;default:throw Error(r(329))}}}return xs(u,Ce()),u.callbackNode===g?KO.bind(null,u):null}function gb(u,f){var g=kh;return u.current.memoizedState.isDehydrated&&(Tl(u,f).flags|=256),u=Bp(u,f),u!==2&&(f=gs,gs=g,f!==null&&xb(f)),u}function xb(u){gs===null?gs=u:gs.push.apply(gs,u)}function jG(u){for(var f=u;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var O=g[S],F=O.getSnapshot;O=O.value;try{if(!ki(F(),O))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Po(u,f){for(f&=~hb,f&=~Mp,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var g=31-vn(f),S=1<<g;u[g]=-1,f&=~S}}function GO(u){if((Gt&6)!==0)throw Error(r(327));nu();var f=en(u,0);if((f&1)===0)return xs(u,Ce()),null;var g=Bp(u,f);if(u.tag!==0&&g===2){var S=Y0(u);S!==0&&(f=S,g=gb(u,S))}if(g===1)throw g=Ch,Tl(u,0),Po(u,f),xs(u,Ce()),g;if(g===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Rl(u,gs,Fa),xs(u,Ce()),null}function vb(u,f){var g=Gt;Gt|=1;try{return u(f)}finally{Gt=g,Gt===0&&(ru=Ce()+500,fp&&No())}}function Ol(u){ko!==null&&ko.tag===0&&(Gt&6)===0&&nu();var f=Gt;Gt|=1;var g=li.transition,S=ar;try{if(li.transition=null,ar=1,u)return u()}finally{ar=S,li.transition=g,Gt=f,(Gt&6)===0&&No()}}function yb(){$s=tu.current,jr(tu)}function Tl(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,JK(g)),qr!==null)for(g=qr.return;g!==null;){var S=g;switch(ky(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&dp();break;case 3:Jc(),jr(fs),jr(Rn),zy();break;case 5:Ly(S);break;case 4:Jc();break;case 13:jr(Or);break;case 19:jr(Or);break;case 10:My(S.type._context);break;case 22:case 23:yb()}g=g.return}if(fn=u,qr=u=Oo(u.current,null),bn=$s=f,rn=0,Ch=null,hb=Mp=Pl=0,gs=kh=null,Cl!==null){for(f=0;f<Cl.length;f++)if(g=Cl[f],S=g.interleaved,S!==null){g.interleaved=null;var O=S.next,F=g.pending;if(F!==null){var G=F.next;F.next=O,S.next=G}g.pending=S}Cl=null}return u}function YO(u,f){do{var g=qr;try{if(Ry(),Np.current=Cp,Sp){for(var S=Tr.memoizedState;S!==null;){var O=S.queue;O!==null&&(O.pending=null),S=S.next}Sp=!1}if(Al=0,hn=tn=Tr=null,wh=!1,jh=0,db.current=null,g===null||g.return===null){rn=1,Ch=f,qr=null;break}e:{var F=u,G=g.return,oe=g,ge=f;if(f=bn,oe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var _e=ge,Le=oe,We=Le.tag;if((Le.mode&1)===0&&(We===0||We===11||We===15)){var $e=Le.alternate;$e?(Le.updateQueue=$e.updateQueue,Le.memoizedState=$e.memoizedState,Le.lanes=$e.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var tt=bO(G);if(tt!==null){tt.flags&=-257,wO(tt,G,oe,F,f),tt.mode&1&&yO(F,_e,f),f=tt,ge=_e;var ot=f.updateQueue;if(ot===null){var dt=new Set;dt.add(ge),f.updateQueue=dt}else ot.add(ge);break e}else{if((f&1)===0){yO(F,_e,f),bb();break e}ge=Error(r(426))}}else if(Cr&&oe.mode&1){var Ur=bO(G);if(Ur!==null){(Ur.flags&65536)===0&&(Ur.flags|=256),wO(Ur,G,oe,F,f),Oy(Zc(ge,oe));break e}}F=ge=Zc(ge,oe),rn!==4&&(rn=2),kh===null?kh=[F]:kh.push(F),F=G;do{switch(F.tag){case 3:F.flags|=65536,f&=-f,F.lanes|=f;var be=xO(F,ge,f);VP(F,be);break e;case 1:oe=ge;var ye=F.type,Ne=F.stateNode;if((F.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Co===null||!Co.has(Ne)))){F.flags|=65536,f&=-f,F.lanes|=f;var qe=vO(F,oe,f);VP(F,qe);break e}}F=F.return}while(F!==null)}JO(g)}catch(ht){f=ht,qr===g&&g!==null&&(qr=g=g.return);continue}break}while(!0)}function XO(){var u=Rp.current;return Rp.current=Cp,u===null?Cp:u}function bb(){(rn===0||rn===3||rn===2)&&(rn=4),fn===null||(Pl&268435455)===0&&(Mp&268435455)===0||Po(fn,bn)}function Bp(u,f){var g=Gt;Gt|=2;var S=XO();(fn!==u||bn!==f)&&(Fa=null,Tl(u,f));do try{NG();break}catch(O){YO(u,O)}while(!0);if(Ry(),Gt=g,Rp.current=S,qr!==null)throw Error(r(261));return fn=null,bn=0,rn}function NG(){for(;qr!==null;)QO(qr)}function SG(){for(;qr!==null&&!Y();)QO(qr)}function QO(u){var f=t6(u.alternate,u,$s);u.memoizedProps=u.pendingProps,f===null?JO(u):qr=f,db.current=null}function JO(u){var f=u;do{var g=f.alternate;if(u=f.return,(f.flags&32768)===0){if(g=gG(g,f,$s),g!==null){qr=g;return}}else{if(g=xG(g,f),g!==null){g.flags&=32767,qr=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{rn=6,qr=null;return}}if(f=f.sibling,f!==null){qr=f;return}qr=f=u}while(f!==null);rn===0&&(rn=5)}function Rl(u,f,g){var S=ar,O=li.transition;try{li.transition=null,ar=1,EG(u,f,g,S)}finally{li.transition=O,ar=S}return null}function EG(u,f,g,S){do nu();while(ko!==null);if((Gt&6)!==0)throw Error(r(327));g=u.finishedWork;var O=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var F=g.lanes|g.childLanes;if(iK(u,F),u===fn&&(qr=fn=null,bn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Dp||(Dp=!0,r6(at,function(){return nu(),null})),F=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||F){F=li.transition,li.transition=null;var G=ar;ar=1;var oe=Gt;Gt|=4,db.current=null,yG(u,g),WO(g,u),qK(by),Qm=!!yy,by=yy=null,u.current=g,bG(g),ke(),Gt=oe,ar=G,li.transition=F}else u.current=g;if(Dp&&(Dp=!1,ko=u,Fp=O),F=u.pendingLanes,F===0&&(Co=null),ta(g.stateNode),xs(u,Ce()),f!==null)for(S=u.onRecoverableError,g=0;g<f.length;g++)O=f[g],S(O.value,{componentStack:O.stack,digest:O.digest});if(Ip)throw Ip=!1,u=mb,mb=null,u;return(Fp&1)!==0&&u.tag!==0&&nu(),F=u.pendingLanes,(F&1)!==0?u===pb?Ah++:(Ah=0,pb=u):Ah=0,No(),null}function nu(){if(ko!==null){var u=BA(Fp),f=li.transition,g=ar;try{if(li.transition=null,ar=16>u?16:u,ko===null)var S=!1;else{if(u=ko,ko=null,Fp=0,(Gt&6)!==0)throw Error(r(331));var O=Gt;for(Gt|=4,nt=u.current;nt!==null;){var F=nt,G=F.child;if((nt.flags&16)!==0){var oe=F.deletions;if(oe!==null){for(var ge=0;ge<oe.length;ge++){var _e=oe[ge];for(nt=_e;nt!==null;){var Le=nt;switch(Le.tag){case 0:case 11:case 15:_h(8,Le,F)}var We=Le.child;if(We!==null)We.return=Le,nt=We;else for(;nt!==null;){Le=nt;var $e=Le.sibling,tt=Le.return;if(FO(Le),Le===_e){nt=null;break}if($e!==null){$e.return=tt,nt=$e;break}nt=tt}}}var ot=F.alternate;if(ot!==null){var dt=ot.child;if(dt!==null){ot.child=null;do{var Ur=dt.sibling;dt.sibling=null,dt=Ur}while(dt!==null)}}nt=F}}if((F.subtreeFlags&2064)!==0&&G!==null)G.return=F,nt=G;else e:for(;nt!==null;){if(F=nt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:_h(9,F,F.return)}var be=F.sibling;if(be!==null){be.return=F.return,nt=be;break e}nt=F.return}}var ye=u.current;for(nt=ye;nt!==null;){G=nt;var Ne=G.child;if((G.subtreeFlags&2064)!==0&&Ne!==null)Ne.return=G,nt=Ne;else e:for(G=ye;nt!==null;){if(oe=nt,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Tp(9,oe)}}catch(ht){$r(oe,oe.return,ht)}if(oe===G){nt=null;break e}var qe=oe.sibling;if(qe!==null){qe.return=oe.return,nt=qe;break e}nt=oe.return}}if(Gt=O,No(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Zr,u)}catch{}S=!0}return S}finally{ar=g,li.transition=f}}return!1}function ZO(u,f,g){f=Zc(g,f),f=xO(u,f,1),u=Eo(u,f,1),f=Jn(),u!==null&&(Zd(u,1,f),xs(u,f))}function $r(u,f,g){if(u.tag===3)ZO(u,u,g);else for(;f!==null;){if(f.tag===3){ZO(f,u,g);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Co===null||!Co.has(S))){u=Zc(g,u),u=vO(f,u,1),f=Eo(f,u,1),u=Jn(),f!==null&&(Zd(f,1,u),xs(f,u));break}}f=f.return}}function _G(u,f,g){var S=u.pingCache;S!==null&&S.delete(f),f=Jn(),u.pingedLanes|=u.suspendedLanes&g,fn===u&&(bn&g)===g&&(rn===4||rn===3&&(bn&130023424)===bn&&500>Ce()-fb?Tl(u,0):hb|=g),xs(u,f)}function e6(u,f){f===0&&((u.mode&1)===0?f=1:(f=jl,jl<<=1,(jl&130023424)===0&&(jl=4194304)));var g=Jn();u=Ma(u,f),u!==null&&(Zd(u,f,g),xs(u,g))}function CG(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),e6(u,g)}function kG(u,f){var g=0;switch(u.tag){case 13:var S=u.stateNode,O=u.memoizedState;O!==null&&(g=O.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(f),e6(u,g)}var t6;t6=function(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps||fs.current)ps=!0;else{if((u.lanes&g)===0&&(f.flags&128)===0)return ps=!1,pG(u,f,g);ps=(u.flags&131072)!==0}else ps=!1,Cr&&(f.flags&1048576)!==0&&MP(f,pp,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;Pp(u,f),u=f.pendingProps;var O=qc(f,Rn.current);Qc(f,g),O=Vy(null,f,S,u,O,g);var F=qy();return f.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,ms(S)?(F=!0,hp(f)):F=!1,f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Fy(f),O.updater=kp,f.stateNode=O,O._reactInternals=f,Qy(f,S,u,g),f=tb(null,f,S,!0,F,g)):(f.tag=0,Cr&&F&&Cy(f),Qn(null,f,O,g),f=f.child),f;case 16:S=f.elementType;e:{switch(Pp(u,f),u=f.pendingProps,O=S._init,S=O(S._payload),f.type=S,O=f.tag=PG(S),u=Pi(S,u),O){case 0:f=eb(null,f,S,u,g);break e;case 1:f=CO(null,f,S,u,g);break e;case 11:f=jO(null,f,S,u,g);break e;case 14:f=NO(null,f,S,Pi(S.type,u),g);break e}throw Error(r(306,S,""))}return f;case 0:return S=f.type,O=f.pendingProps,O=f.elementType===S?O:Pi(S,O),eb(u,f,S,O,g);case 1:return S=f.type,O=f.pendingProps,O=f.elementType===S?O:Pi(S,O),CO(u,f,S,O,g);case 3:e:{if(kO(f),u===null)throw Error(r(387));S=f.pendingProps,F=f.memoizedState,O=F.element,UP(u,f),wp(f,S,null,g);var G=f.memoizedState;if(S=G.element,F.isDehydrated)if(F={element:S,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},f.updateQueue.baseState=F,f.memoizedState=F,f.flags&256){O=Zc(Error(r(423)),f),f=AO(u,f,S,g,O);break e}else if(S!==O){O=Zc(Error(r(424)),f),f=AO(u,f,S,g,O);break e}else for(Fs=bo(f.stateNode.containerInfo.firstChild),Ds=f,Cr=!0,Ai=null,g=zP(f,null,S,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Gc(),S===O){f=Da(u,f,g);break e}Qn(u,f,S,g)}f=f.child}return f;case 5:return HP(f),u===null&&Py(f),S=f.type,O=f.pendingProps,F=u!==null?u.memoizedProps:null,G=O.children,wy(S,O)?G=null:F!==null&&wy(S,F)&&(f.flags|=32),_O(u,f),Qn(u,f,G,g),f.child;case 6:return u===null&&Py(f),null;case 13:return PO(u,f,g);case 4:return $y(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=Yc(f,null,S,g):Qn(u,f,S,g),f.child;case 11:return S=f.type,O=f.pendingProps,O=f.elementType===S?O:Pi(S,O),jO(u,f,S,O,g);case 7:return Qn(u,f,f.pendingProps,g),f.child;case 8:return Qn(u,f,f.pendingProps.children,g),f.child;case 12:return Qn(u,f,f.pendingProps.children,g),f.child;case 10:e:{if(S=f.type._context,O=f.pendingProps,F=f.memoizedProps,G=O.value,mr(vp,S._currentValue),S._currentValue=G,F!==null)if(ki(F.value,G)){if(F.children===O.children&&!fs.current){f=Da(u,f,g);break e}}else for(F=f.child,F!==null&&(F.return=f);F!==null;){var oe=F.dependencies;if(oe!==null){G=F.child;for(var ge=oe.firstContext;ge!==null;){if(ge.context===S){if(F.tag===1){ge=Ia(-1,g&-g),ge.tag=2;var _e=F.updateQueue;if(_e!==null){_e=_e.shared;var Le=_e.pending;Le===null?ge.next=ge:(ge.next=Le.next,Le.next=ge),_e.pending=ge}}F.lanes|=g,ge=F.alternate,ge!==null&&(ge.lanes|=g),Iy(F.return,g,f),oe.lanes|=g;break}ge=ge.next}}else if(F.tag===10)G=F.type===f.type?null:F.child;else if(F.tag===18){if(G=F.return,G===null)throw Error(r(341));G.lanes|=g,oe=G.alternate,oe!==null&&(oe.lanes|=g),Iy(G,g,f),G=F.sibling}else G=F.child;if(G!==null)G.return=F;else for(G=F;G!==null;){if(G===f){G=null;break}if(F=G.sibling,F!==null){F.return=G.return,G=F;break}G=G.return}F=G}Qn(u,f,O.children,g),f=f.child}return f;case 9:return O=f.type,S=f.pendingProps.children,Qc(f,g),O=ai(O),S=S(O),f.flags|=1,Qn(u,f,S,g),f.child;case 14:return S=f.type,O=Pi(S,f.pendingProps),O=Pi(S.type,O),NO(u,f,S,O,g);case 15:return SO(u,f,f.type,f.pendingProps,g);case 17:return S=f.type,O=f.pendingProps,O=f.elementType===S?O:Pi(S,O),Pp(u,f),f.tag=1,ms(S)?(u=!0,hp(f)):u=!1,Qc(f,g),pO(f,S,O),Qy(f,S,O,g),tb(null,f,S,!0,u,g);case 19:return TO(u,f,g);case 22:return EO(u,f,g)}throw Error(r(156,f.tag))};function r6(u,f){return wt(u,f)}function AG(u,f,g,S){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(u,f,g,S){return new AG(u,f,g,S)}function wb(u){return u=u.prototype,!(!u||!u.isReactComponent)}function PG(u){if(typeof u=="function")return wb(u)?1:0;if(u!=null){if(u=u.$$typeof,u===H)return 11;if(u===M)return 14}return 2}function Oo(u,f){var g=u.alternate;return g===null?(g=ci(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function zp(u,f,g,S,O,F){var G=2;if(S=u,typeof u=="function")wb(u)&&(G=1);else if(typeof u=="string")G=5;else e:switch(u){case T:return Ml(g.children,O,F,f);case D:G=8,O|=8;break;case q:return u=ci(12,g,f,O|2),u.elementType=q,u.lanes=F,u;case W:return u=ci(13,g,f,O),u.elementType=W,u.lanes=F,u;case B:return u=ci(19,g,f,O),u.elementType=B,u.lanes=F,u;case P:return Wp(g,O,F,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case K:G=10;break e;case $:G=9;break e;case H:G=11;break e;case M:G=14;break e;case z:G=16,S=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return f=ci(G,g,f,O),f.elementType=u,f.type=S,f.lanes=F,f}function Ml(u,f,g,S){return u=ci(7,u,S,f),u.lanes=g,u}function Wp(u,f,g,S){return u=ci(22,u,S,f),u.elementType=P,u.lanes=g,u.stateNode={isHidden:!1},u}function jb(u,f,g){return u=ci(6,u,null,f),u.lanes=g,u}function Nb(u,f,g){return f=ci(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function OG(u,f,g,S,O){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=X0(0),this.expirationTimes=X0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X0(0),this.identifierPrefix=S,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function Sb(u,f,g,S,O,F,G,oe,ge){return u=new OG(u,f,g,oe,ge),f===1?(f=1,F===!0&&(f|=8)):f=0,F=ci(3,null,null,f),u.current=F,F.stateNode=u,F.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fy(F),u}function TG(u,f,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:S==null?null:""+S,children:u,containerInfo:f,implementation:g}}function n6(u){if(!u)return jo;u=u._reactInternals;e:{if(ni(u)!==u||u.tag!==1)throw Error(r(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(ms(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(r(171))}if(u.tag===1){var g=u.type;if(ms(g))return OP(u,g,f)}return f}function s6(u,f,g,S,O,F,G,oe,ge){return u=Sb(g,S,!0,u,O,F,G,oe,ge),u.context=n6(null),g=u.current,S=Jn(),O=Ao(g),F=Ia(S,O),F.callback=f??null,Eo(g,F,O),u.current.lanes=O,Zd(u,O,S),xs(u,S),u}function Up(u,f,g,S){var O=f.current,F=Jn(),G=Ao(O);return g=n6(g),f.context===null?f.context=g:f.pendingContext=g,f=Ia(F,G),f.payload={element:u},S=S===void 0?null:S,S!==null&&(f.callback=S),u=Eo(O,f,G),u!==null&&(Ri(u,O,G,F),bp(u,O,G)),G}function Vp(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function i6(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function Eb(u,f){i6(u,f),(u=u.alternate)&&i6(u,f)}function RG(){return null}var a6=typeof reportError=="function"?reportError:function(u){console.error(u)};function _b(u){this._internalRoot=u}qp.prototype.render=_b.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));Up(u,f,null,null)},qp.prototype.unmount=_b.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;Ol(function(){Up(null,u,null,null)}),f[Pa]=null}};function qp(u){this._internalRoot=u}qp.prototype.unstable_scheduleHydration=function(u){if(u){var f=UA();u={blockedOn:null,target:u,priority:f};for(var g=0;g<xo.length&&f!==0&&f<xo[g].priority;g++);xo.splice(g,0,u),g===0&&HA(u)}};function Cb(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Hp(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function o6(){}function MG(u,f,g,S,O){if(O){if(typeof S=="function"){var F=S;S=function(){var _e=Vp(G);F.call(_e)}}var G=s6(f,S,u,0,null,!1,!1,"",o6);return u._reactRootContainer=G,u[Pa]=G.current,fh(u.nodeType===8?u.parentNode:u),Ol(),G}for(;O=u.lastChild;)u.removeChild(O);if(typeof S=="function"){var oe=S;S=function(){var _e=Vp(ge);oe.call(_e)}}var ge=Sb(u,0,!1,null,null,!1,!1,"",o6);return u._reactRootContainer=ge,u[Pa]=ge.current,fh(u.nodeType===8?u.parentNode:u),Ol(function(){Up(f,ge,g,S)}),ge}function Kp(u,f,g,S,O){var F=g._reactRootContainer;if(F){var G=F;if(typeof O=="function"){var oe=O;O=function(){var ge=Vp(G);oe.call(ge)}}Up(f,G,u,O)}else G=MG(g,f,u,O,S);return Vp(G)}zA=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var g=Jt(f.pendingLanes);g!==0&&(Q0(f,g|1),xs(f,Ce()),(Gt&6)===0&&(ru=Ce()+500,No()))}break;case 13:Ol(function(){var S=Ma(u,1);if(S!==null){var O=Jn();Ri(S,u,1,O)}}),Eb(u,1)}},J0=function(u){if(u.tag===13){var f=Ma(u,134217728);if(f!==null){var g=Jn();Ri(f,u,134217728,g)}Eb(u,134217728)}},WA=function(u){if(u.tag===13){var f=Ao(u),g=Ma(u,f);if(g!==null){var S=Jn();Ri(g,u,f,S)}Eb(u,f)}},UA=function(){return ar},VA=function(u,f){var g=ar;try{return ar=u,f()}finally{ar=g}},Xe=function(u,f,g){switch(f){case"input":if(we(u,g),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var S=g[f];if(S!==u&&S.form===u.form){var O=up(S);if(!O)throw Error(r(90));X(S),we(S,O)}}}break;case"textarea":Ae(u,g);break;case"select":f=g.value,f!=null&&ve(u,!!g.multiple,f,!1)}},Xt=vb,Vr=Ol;var IG={usingClientEntryPoint:!1,Events:[gh,Uc,up,yt,zt,vb]},Ph={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DG={bundleType:Ph.bundleType,version:Ph.version,rendererPackageName:Ph.rendererPackageName,rendererConfig:Ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ye(u),u===null?null:u.stateNode},findFiberByHostInstance:Ph.findFiberByHostInstance||RG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gp.isDisabled&&Gp.supportsFiber)try{Zr=Gp.inject(DG),fr=Gp}catch{}}return vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IG,vs.createPortal=function(u,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cb(f))throw Error(r(200));return TG(u,f,null,g)},vs.createRoot=function(u,f){if(!Cb(u))throw Error(r(299));var g=!1,S="",O=a6;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),f=Sb(u,1,!1,null,null,g,!1,S,O),u[Pa]=f.current,fh(u.nodeType===8?u.parentNode:u),new _b(f)},vs.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=Ye(f),u=u===null?null:u.stateNode,u},vs.flushSync=function(u){return Ol(u)},vs.hydrate=function(u,f,g){if(!Hp(f))throw Error(r(200));return Kp(null,u,f,!0,g)},vs.hydrateRoot=function(u,f,g){if(!Cb(u))throw Error(r(405));var S=g!=null&&g.hydratedSources||null,O=!1,F="",G=a6;if(g!=null&&(g.unstable_strictMode===!0&&(O=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(G=g.onRecoverableError)),f=s6(f,null,u,1,g??null,O,!1,F,G),u[Pa]=f.current,fh(u),S)for(u=0;u<S.length;u++)g=S[u],O=g._getVersion,O=O(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,O]:f.mutableSourceEagerHydrationData.push(g,O);return new qp(f)},vs.render=function(u,f,g){if(!Hp(f))throw Error(r(200));return Kp(null,u,f,!1,g)},vs.unmountComponentAtNode=function(u){if(!Hp(u))throw Error(r(40));return u._reactRootContainer?(Ol(function(){Kp(null,null,u,!1,function(){u._reactRootContainer=null,u[Pa]=null})}),!0):!1},vs.unstable_batchedUpdates=vb,vs.unstable_renderSubtreeIntoContainer=function(u,f,g,S){if(!Hp(g))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return Kp(u,f,g,!1,S)},vs.version="18.3.1-next-f1338f8080-20240426",vs}var p6;function P$(){if(p6)return Pb.exports;p6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pb.exports=VG(),Pb.exports}var g6;function qG(){if(g6)return Xp;g6=1;var e=P$();return Xp.createRoot=e.createRoot,Xp.hydrateRoot=e.hydrateRoot,Xp}var HG=qG(),w=Ev();const Z=rr(w),v_=A$({__proto__:null,default:Z},[w]);function O$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=O$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=O$(e))&&(n&&(n+=" "),n+=t);return n}const KG=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},GG=(e,t)=>({classGroupId:e,validator:t}),T$=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Yg="-",x6=[],YG="arbitrary..",XG=e=>{const t=JG(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return QG(o);const l=o.split(Yg),c=l[0]===""&&l.length>1?1:0;return R$(l,c,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=n[o],d=r[o];return c?d?KG(d,c):c:d||x6}return r[o]||x6}}},R$=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],a=r.nextPart.get(i);if(a){const d=R$(e,t+1,a);if(d)return d}const o=r.validators;if(o===null)return;const l=t===0?e.join(Yg):e.slice(t).join(Yg),c=o.length;for(let d=0;d<c;d++){const h=o[d];if(h.validator(l))return h.classGroupId}},QG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?YG+n:void 0})(),JG=e=>{const{theme:t,classGroups:r}=e;return ZG(r,t)},ZG=(e,t)=>{const r=T$();for(const n in e){const i=e[n];y_(i,r,n,t)}return r},y_=(e,t,r,n)=>{const i=e.length;for(let a=0;a<i;a++){const o=e[a];eY(o,t,r,n)}},eY=(e,t,r,n)=>{if(typeof e=="string"){tY(e,t,r);return}if(typeof e=="function"){rY(e,t,r,n);return}nY(e,t,r,n)},tY=(e,t,r)=>{const n=e===""?t:M$(t,e);n.classGroupId=r},rY=(e,t,r,n)=>{if(sY(e)){y_(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(GG(r,e))},nY=(e,t,r,n)=>{const i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){const[l,c]=i[o];y_(c,M$(t,l),r,n)}},M$=(e,t)=>{let r=e;const n=t.split(Yg),i=n.length;for(let a=0;a<i;a++){const o=n[a];let l=r.nextPart.get(o);l||(l=T$(),r.nextPart.set(o,l)),r=l}return r},sY=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,iY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(a,o)=>{r[a]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let o=r[a];if(o!==void 0)return o;if((o=n[a])!==void 0)return i(a,o),o},set(a,o){a in r?r[a]=o:i(a,o)}}},$S="!",v6=":",aY=[],y6=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),oY=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let o=0,l=0,c=0,d;const h=i.length;for(let y=0;y<h;y++){const v=i[y];if(o===0&&l===0){if(v===v6){a.push(i.slice(c,y)),c=y+1;continue}if(v==="/"){d=y;continue}}v==="["?o++:v==="]"?o--:v==="("?l++:v===")"&&l--}const m=a.length===0?i:i.slice(c);let p=m,x=!1;m.endsWith($S)?(p=m.slice(0,-1),x=!0):m.startsWith($S)&&(p=m.slice(1),x=!0);const b=d&&d>c?d-c:void 0;return y6(a,x,p,b)};if(t){const i=t+v6,a=n;n=o=>o.startsWith(i)?a(o.slice(i.length)):y6(aY,!1,o,void 0,!0)}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},lY=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let a=0;a<r.length;a++){const o=r[a],l=o[0]==="[",c=t.has(o);l||c?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(o)):i.push(o)}return i.length>0&&(i.sort(),n.push(...i)),n}},cY=e=>({cache:iY(e.cacheSize),parseClassName:oY(e),sortModifiers:lY(e),...XG(e)}),uY=/\s+/,dY=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],l=e.trim().split(uY);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:m,modifiers:p,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}=r(h);if(m){c=h+(c.length>0?" "+c:c);continue}let v=!!y,N=n(v?b.substring(0,y):b);if(!N){if(!v){c=h+(c.length>0?" "+c:c);continue}if(N=n(b),!N){c=h+(c.length>0?" "+c:c);continue}v=!1}const j=p.length===0?"":p.length===1?p[0]:a(p).join(":"),E=x?j+$S:j,k=E+N;if(o.indexOf(k)>-1)continue;o.push(k);const _=i(N,v);for(let A=0;A<_.length;++A){const T=_[A];o.push(E+T)}c=h+(c.length>0?" "+c:c)}return c},hY=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=I$(r))&&(i&&(i+=" "),i+=n);return i},I$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=I$(e[n]))&&(r&&(r+=" "),r+=t);return r},fY=(e,...t)=>{let r,n,i,a;const o=c=>{const d=t.reduce((h,m)=>m(h),e());return r=cY(d),n=r.cache.get,i=r.cache.set,a=l,l(c)},l=c=>{const d=n(c);if(d)return d;const h=dY(c,r);return i(c,h),h};return a=o,(...c)=>a(hY(...c))},mY=[],nn=e=>{const t=r=>r[e]||mY;return t.isThemeGetter=!0,t},D$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pY=/^\d+\/\d+$/,gY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,su=e=>pY.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),Ro=e=>!!e&&Number.isInteger(Number(e)),Rb=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),$a=e=>gY.test(e),wY=()=>!0,jY=e=>xY.test(e)&&!vY.test(e),$$=()=>!1,NY=e=>yY.test(e),SY=e=>bY.test(e),EY=e=>!lt(e)&&!ct(e),_Y=e=>_d(e,z$,$$),lt=e=>D$.test(e),Il=e=>_d(e,W$,jY),Mb=e=>_d(e,OY,Lt),b6=e=>_d(e,L$,$$),CY=e=>_d(e,B$,SY),Qp=e=>_d(e,U$,NY),ct=e=>F$.test(e),Th=e=>Cd(e,W$),kY=e=>Cd(e,TY),w6=e=>Cd(e,L$),AY=e=>Cd(e,z$),PY=e=>Cd(e,B$),Jp=e=>Cd(e,U$,!0),_d=(e,t,r)=>{const n=D$.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Cd=(e,t,r=!1)=>{const n=F$.exec(e);return n?n[1]?t(n[1]):r:!1},L$=e=>e==="position"||e==="percentage",B$=e=>e==="image"||e==="url",z$=e=>e==="length"||e==="size"||e==="bg-size",W$=e=>e==="length",OY=e=>e==="number",TY=e=>e==="family-name",U$=e=>e==="shadow",RY=()=>{const e=nn("color"),t=nn("font"),r=nn("text"),n=nn("font-weight"),i=nn("tracking"),a=nn("leading"),o=nn("breakpoint"),l=nn("container"),c=nn("spacing"),d=nn("radius"),h=nn("shadow"),m=nn("inset-shadow"),p=nn("text-shadow"),x=nn("drop-shadow"),b=nn("blur"),y=nn("perspective"),v=nn("aspect"),N=nn("ease"),j=nn("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...k(),ct,lt],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],D=()=>[ct,lt,c],q=()=>[su,"full","auto",...D()],K=()=>[Ro,"none","subgrid",ct,lt],$=()=>["auto",{span:["full",Ro,ct,lt]},Ro,ct,lt],H=()=>[Ro,"auto",ct,lt],W=()=>["auto","min","max","fr",ct,lt],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...D()],P=()=>[su,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],C=()=>[e,ct,lt],L=()=>[...k(),w6,b6,{position:[ct,lt]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",AY,_Y,{size:[ct,lt]}],I=()=>[Rb,Th,Il],V=()=>["","none","full",d,ct,lt],re=()=>["",Lt,Th,Il],ce=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Lt,Rb,w6,b6],ue=()=>["","none",b,ct,lt],pe=()=>["none",Lt,ct,lt],ee=()=>["none",Lt,ct,lt],xe=()=>[Lt,ct,lt],X=()=>[su,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$a],breakpoint:[$a],color:[wY],container:[$a],"drop-shadow":[$a],ease:["in","out","in-out"],font:[EY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$a],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$a],shadow:[$a],spacing:["px",Lt],text:[$a],"text-shadow":[$a],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",su,lt,ct,v]}],container:["container"],columns:[{columns:[Lt,lt,ct,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ro,"auto",ct,lt]}],basis:[{basis:[su,"full","auto",l,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,su,"auto","initial","none",lt]}],grow:[{grow:["",Lt,ct,lt]}],shrink:[{shrink:["",Lt,ct,lt]}],order:[{order:[Ro,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[l,"screen",...P()]}],"min-w":[{"min-w":[l,"screen","none",...P()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,Th,Il]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ct,Mb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rb,lt]}],"font-family":[{font:[kY,lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ct,lt]}],"line-clamp":[{"line-clamp":[Lt,"none",ct,Mb]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",ct,Il]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[Lt,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ro,ct,lt],radial:["",ct,lt],conic:[Ro,ct,lt]},PY,CY]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,ct,lt]}],"outline-w":[{outline:["",Lt,Th,Il]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",h,Jp,Qp]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",m,Jp,Qp]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[Lt,Il]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",p,Jp,Qp]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[Lt,ct,lt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[ct,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,lt]}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:ue()}],brightness:[{brightness:[Lt,ct,lt]}],contrast:[{contrast:[Lt,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",x,Jp,Qp]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",Lt,ct,lt]}],"hue-rotate":[{"hue-rotate":[Lt,ct,lt]}],invert:[{invert:["",Lt,ct,lt]}],saturate:[{saturate:[Lt,ct,lt]}],sepia:[{sepia:["",Lt,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",Lt,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",ct,lt]}],ease:[{ease:["linear","initial",N,ct,lt]}],delay:[{delay:[Lt,ct,lt]}],animate:[{animate:["none",j,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ct,lt]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:xe()}],"skew-x":[{"skew-x":xe()}],"skew-y":[{"skew-y":xe()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:X()}],"translate-x":[{"translate-x":X()}],"translate-y":[{"translate-y":X()}],"translate-z":[{"translate-z":X()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[Lt,Th,Il,Mb]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},MY=fY(RY);function ut(...e){return MY(qt(e))}function Se({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:ut("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function He({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:ut("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ge({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:ut("leading-none",e),...t})}function cn({className:e,...t}){return s.jsx("p",{"data-slot":"card-description",className:ut("text-muted-foreground",e),...t})}function Ee({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:ut("px-6 [&:last-child]:pb-6",e),...t})}function j6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Na(...e){return t=>{let r=!1;const n=e.map(i=>{const a=j6(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():j6(e[i],null)}}}}function Mt(...e){return w.useCallback(Na(...e),e)}var IY=Symbol.for("react.lazy"),Xg=v_[" use ".trim().toString()];function DY(e){return typeof e=="object"&&e!==null&&"then"in e}function V$(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===IY&&"_payload"in e&&DY(e._payload)}function _v(e){const t=FY(e),r=w.forwardRef((n,i)=>{let{children:a,...o}=n;V$(a)&&typeof Xg=="function"&&(a=Xg(a._payload));const l=w.Children.toArray(a),c=l.find(LY);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var q$=_v("Slot");function FY(e){const t=w.forwardRef((r,n)=>{let{children:i,...a}=r;if(V$(i)&&typeof Xg=="function"&&(i=Xg(i._payload)),w.isValidElement(i)){const o=zY(i),l=BY(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Y=Symbol("radix.slottable");function LY(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Y}function BY(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function zY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const N6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,S6=qt,b_=(e,t)=>r=>{var n;if(t?.variants==null)return S6(e,r?.class,r?.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const h=r?.[d],m=a?.[d];if(h===null)return null;const p=N6(h)||N6(m);return i[d][p]}),l=r&&Object.entries(r).reduce((d,h)=>{let[m,p]=h;return p===void 0||(d[m]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:m,className:p,...x}=h;return Object.entries(x).every(b=>{let[y,v]=b;return Array.isArray(v)?v.includes({...a,...l}[y]):{...a,...l}[y]===v})?[...d,m,p]:d},[]);return S6(e,o,c,r?.class,r?.className)},WY=b_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:e,variant:t,asChild:r=!1,...n}){const i=r?q$:"span";return s.jsx(i,{"data-slot":"badge",className:ut(WY({variant:t}),e),...n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),E6=e=>{const t=VY(e);return t.charAt(0).toUpperCase()+t.slice(1)},H$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...qY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:H$("lucide",i),...l},[...o.map(([d,h])=>w.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const r=w.forwardRef(({className:n,...i},a)=>w.createElement(HY,{ref:a,iconNode:t,className:H$(`lucide-${UY(E6(e))}`,`lucide-${e}`,n),...i}));return r.displayName=E6(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wo=Me("activity",KY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],YY=Me("archive-restore",GY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Rh=Me("archive",XY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],JY=Me("arrow-down-right",QY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],Zh=Me("arrow-down-to-line",ZY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],tX=Me("arrow-down",eX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],K$=Me("arrow-left",rX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mf=Me("arrow-right",nX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],iX=Me("arrow-up-down",sX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Us=Me("arrow-up-right",aX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lX=Me("arrow-up",oX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Pn=Me("award",cX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Xs=Me("bell",uX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Fg=Me("book-open",dX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],fX=Me("bug",hX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ga=Me("calendar",mX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LS=Me("chart-column",pX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],xX=Me("check-check",gX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hi=Me("check",vX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ns=Me("chevron-down",yX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w_=Me("chevron-left",bX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dc=Me("chevron-right",wX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ic=Me("chevron-up",jX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],G$=Me("chevrons-down",NX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],Y$=Me("chevrons-up",SX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ks=Me("circle-alert",EX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Br=Me("circle-check-big",_X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yr=Me("circle-check",CX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],AX=Me("circle-user",kX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wa=Me("circle-x",PX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],tl=Me("clock",OX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xi=Me("copy",TX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_6=Me("credit-card",RX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],X$=Me("crown",MX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Tu=Me("database",IX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wn=Me("dollar-sign",DX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],as=Me("download",FX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],Qg=Me("droplet",$X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],BX=Me("ellipsis-vertical",LX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q$=Me("external-link",zX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qu=Me("eye",WX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Yl=Me("facebook",UX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BS=Me("file-text",VX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],HX=Me("file",qX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],GX=Me("flame",KX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Zp=Me("folder-open",YX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kd=Me("funnel",XX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],JX=Me("gift",QX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eQ=Me("globe",ZX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],rQ=Me("graduation-cap",tQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],C6=Me("hash",nQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],iQ=Me("image",sQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Jg=Me("info",aQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],js=Me("instagram",oQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cQ=Me("layers",lQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],dQ=Me("layout-dashboard",uQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],zS=Me("lightbulb",hQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],j_=Me("link-2",fQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],N_=Me("link",mQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],WS=Me("list",pQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ut=Me("loader-circle",gQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],vQ=Me("loader",xQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$g=Me("lock",yQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],wQ=Me("log-in",bQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],NQ=Me("log-out",jQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Hs=Me("mail",SQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],k6=Me("maximize-2",EQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],A6=Me("medal",_Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],kQ=Me("menu",CQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Sr=Me("message-circle",AQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],P6=Me("minimize-2",PQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],ef=Me("network",OQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xo=Me("package",TQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],O6=Me("panels-top-left",RQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],IQ=Me("pen-line",MQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hc=Me("pen",DQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]],J$=Me("phone-call",FQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Sn=Me("phone",$Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Ib=Me("play",LQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ua=Me("plus",BQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Db=Me("qr-code",zQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hu=Me("refresh-cw",WQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],VQ=Me("rocket",UQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],HQ=Me("rotate-cw",qQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ku=Me("save",KQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Qs=Me("search",GQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vs=Me("send",YQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zg=Me("settings",XQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rl=Me("share-2",QQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kn=Me("shield",JQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Ns=Me("shopping-bag",ZQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pf=Me("shopping-cart",eJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Z$=Me("sparkles",tJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nJ=Me("square-check-big",rJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ru=Me("square-pen",sJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],aJ=Me("square",iJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gf=Me("star",oJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cJ=Me("tag",lJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Js=Me("target",uJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Un=Me("trash-2",dJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Fb=Me("trending-down",hJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],$t=Me("trending-up",fJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rs=Me("triangle-alert",mJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],fa=Me("trophy",pJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],e9=Me("upload",gJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ex=Me("user-check",xJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],t9=Me("user-cog",vJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bJ=Me("user-minus",yJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ac=Me("user-plus",wJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],to=Me("user-x",jJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],US=Me("user",NJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ot=Me("users",SJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],VS=Me("video",EJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],On=Me("wallet",_J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],tx=Me("wrench",CJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mr=Me("x",kJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Mu=Me("zap",AJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],OJ=Me("zoom-in",PJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],RJ=Me("zoom-out",TJ);function MJ(){return s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",children:"  "}),s.jsx("p",{className:"text-[#666]",children:"   -    "})]}),s.jsxs(Se,{children:[s.jsxs(He,{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"w-5 h-5 text-green-600"})," "]}),s.jsx(cn,{children:"   "})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:" "}),s.jsx("code",{className:"text-sm bg-white px-2 py-1 rounded block",children:': "000001"'}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:" ID "})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-sm font-semibold text-green-800 mb-2",children:" "}),s.jsx("code",{className:"text-sm bg-white px-2 py-1 rounded block",children:': "IVAN-2847"'}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"    "})]})]}),s.jsxs("div",{className:"bg-[#39B7FF]/10 p-4 rounded-lg border border-[#39B7FF]/20",children:[s.jsx("p",{className:"text-sm font-semibold text-[#1E1E1E] mb-2",children:"  -:"}),s.jsxs("ul",{className:"text-sm text-[#666] space-y-1 ml-4 list-disc",children:[s.jsx("li",{children:" 4-5   ()"}),s.jsx("li",{children:"   ( )"}),s.jsx("li",{children:"   (4 )"})]})]})]})]}),s.jsxs(Se,{children:[s.jsxs(He,{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5 text-[#39B7FF]"})," -"]}),s.jsx(cn,{children:"     "})]}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-3",children:[{name:"",surname:"",code:"IVANP-1234"},{name:"",surname:"",code:"MARIS-5678"},{name:"",surname:"",code:"ALEKS-9012"},{name:"",surname:"",code:"ELEN-3456"},{name:"",surname:"",code:"DMITR-7890"}].map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#39B7FF]/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[#39B7FF] font-semibold",children:e.name[0]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-[#1E1E1E]",children:[e.name," ",e.surname]}),s.jsxs("p",{className:"text-xs text-[#666]",children:[" #",t+1]})]})]}),s.jsx(Qe,{variant:"outline",className:"bg-[#12C9B6]/10 border-[#12C9B6]/20 text-[#12C9B6]",children:e.code})]},t))})})]}),s.jsxs(Se,{children:[s.jsxs(He,{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(j_,{className:"w-5 h-5 text-[#12C9B6]"})," "]}),s.jsx(cn,{children:" -  "})]}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-2",children:"    "}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 ml-4 list-disc",children:[s.jsx("li",{children:"   (000001, 000002) "}),s.jsx("li",{children:"   (IVAN-1234)  "}),s.jsx("li",{children:"   ID,    refcode"})]})]}),s.jsxs("div",{className:"bg-[#F7FAFC] p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm font-semibold text-[#1E1E1E] mb-2",children:" :"}),s.jsxs("div",{className:"text-xs text-[#666] space-y-1 font-mono",children:[s.jsx("p",{children:"    :"}),s.jsxs("p",{className:"ml-4 bg-white px-2 py-1 rounded",children:["user:refcode:","{","code","}","  ","{",'id: "1"',"}"]}),s.jsx("p",{className:"mt-2",children:"  :"}),s.jsxs("p",{className:"ml-4 bg-white px-2 py-1 rounded",children:["1.    user:id:","{","code","}"]}),s.jsxs("p",{className:"ml-4 bg-white px-2 py-1 rounded",children:["2.       user:refcode:","{","code","}"]})]})]})]})]}),s.jsxs(Se,{className:"border-[#12C9B6]/50",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#12C9B6]",children:"   "})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-2 text-sm text-[#666]",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:" generateReadableRefCode() "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:" /register : firstName + lastName"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:" /auth/signup :   "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:" user:refcode   "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"     "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"RegistrationRu.tsx :    "})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:" refCode  response   "})]})]})})]})]})})}const IJ="modulepreload",DJ=function(e){return"/"+e},T6={},vi=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=o(r.map(d=>{if(d=DJ(d),d in T6)return;T6[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":IJ,h||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),h)return new Promise((x,b)=>{p.addEventListener("load",x),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},qS=b_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ie=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?q$:"button";return s.jsx(o,{ref:a,"data-slot":"button",className:ut(qS({variant:t,size:r,className:e})),...i})});ie.displayName="Button";function FJ(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(null),c=async()=>{a(!0),l(null);const m={step1_import:{status:"pending",data:null},step2_url:{status:"pending",data:null},step3_request:{status:"pending",data:null},step4_response:{status:"pending",data:null},step5_parse:{status:"pending",data:null},step6_validate:{status:"pending",data:null}};try{m.step1_import.status="running",l({...m});const{projectId:p,publicAnonKey:x}=await vi(async()=>{const{projectId:A,publicAnonKey:T}=await Promise.resolve().then(()=>xm);return{projectId:A,publicAnonKey:T}},void 0);m.step1_import={status:"success",data:{projectId:p,hasKey:!!x}},l({...m}),m.step2_url.status="running",l({...m});const b=`https://${p}.supabase.co/functions/v1/make-server-05aa3c8a/auth/login`;m.step2_url={status:"success",data:{url:b}},l({...m}),m.step3_request.status="running",l({...m});const y={login:e.trim(),password:r},v=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify(y)});m.step3_request={status:"success",data:{body:y,headers:{"Content-Type":"application/json",Authorization:`Bearer ${x?.substring(0,20)}...`}}},l({...m}),m.step4_response.status="running",l({...m});const N=Object.fromEntries(v.headers.entries());m.step4_response={status:v.ok?"success":"error",data:{status:v.status,statusText:v.statusText,ok:v.ok,headers:N}},l({...m}),m.step5_parse.status="running",l({...m});let j;try{const A=await v.text();j=JSON.parse(A),m.step5_parse={status:"success",data:{raw:A.substring(0,500),parsed:j}}}catch(A){m.step5_parse={status:"error",data:{error:String(A)}},l({...m});return}l({...m}),m.step6_validate.status="running",l({...m});const E=!!j.user,k=!!j.access_token,_=!!j.error;m.step6_validate={status:E&&k?"success":"error",data:{hasUser:E,hasAccessToken:k,hasError:_,error:j.error,user:j.user?{id:j.user.id,:j.user.,email:j.user.email}:null}},l({...m})}catch(p){const x={...m};for(const b in x)x[b].status==="running"&&(x[b]={status:"error",data:{error:String(p)}});l(x)}finally{a(!1)}},d=m=>m==="success"?s.jsx(Br,{className:"w-5 h-5 text-green-600"}):m==="error"?s.jsx(ks,{className:"w-5 h-5 text-red-600"}):m==="running"?s.jsx(Ut,{className:"w-5 h-5 text-blue-600 animate-spin"}):s.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-300"}),h=m=>m==="success"?"bg-green-50 border-green-200":m==="error"?"bg-red-50 border-red-200":m==="running"?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200";return s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[s.jsx(K$,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E]",children:" "}),s.jsx("p",{className:"text-[#666]",children:"   "})]})]}),s.jsxs(Se,{children:[s.jsxs(He,{children:[s.jsx(Ge,{children:"   "}),s.jsx(cn,{children:"    "})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1E1E1E] mb-2",children:"Email  ID"}),s.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),placeholder:"example@email.com  000001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39B7FF]",disabled:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-[#1E1E1E] mb-2",children:""}),s.jsx("input",{type:"password",value:r,onChange:m=>n(m.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39B7FF]",disabled:i})]}),s.jsx(ie,{onClick:c,disabled:i||!e||!r,className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):" "})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Se,{className:`border-2 ${h(o.step1_import.status)}`,children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[d(o.step1_import.status),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-base",children:" 1:  "}),s.jsx(cn,{children:"   Supabase"})]})]})}),o.step1_import.data&&s.jsx(Ee,{children:s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-3 rounded overflow-auto",children:JSON.stringify(o.step1_import.data,null,2)})})]}),s.jsxs(Se,{className:`border-2 ${h(o.step2_url.status)}`,children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[d(o.step2_url.status),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-base",children:" 2:  URL"}),s.jsx(cn,{children:"   Edge Function"})]})]})}),o.step2_url.data&&s.jsx(Ee,{children:s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-3 rounded overflow-auto",children:JSON.stringify(o.step2_url.data,null,2)})})]}),s.jsxs(Se,{className:`border-2 ${h(o.step3_request.status)}`,children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[d(o.step3_request.status),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-base",children:" 3:  "}),s.jsx(cn,{children:"POST   "})]})]})}),o.step3_request.data&&s.jsx(Ee,{children:s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-3 rounded overflow-auto",children:JSON.stringify(o.step3_request.data,null,2)})})]}),s.jsxs(Se,{className:`border-2 ${h(o.step4_response.status)}`,children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[d(o.step4_response.status),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-base",children:" 4:  "}),s.jsx(cn,{children:"HTTP   "})]})]})}),o.step4_response.data&&s.jsx(Ee,{children:s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-3 rounded overflow-auto",children:JSON.stringify(o.step4_response.data,null,2)})})]}),s.jsxs(Se,{className:`border-2 ${h(o.step5_parse.status)}`,children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[d(o.step5_parse.status),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-base",children:" 5:  JSON"}),s.jsx(cn,{children:"   "})]})]})}),o.step5_parse.data&&s.jsx(Ee,{children:s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-3 rounded overflow-auto max-h-96",children:JSON.stringify(o.step5_parse.data,null,2)})})]}),s.jsxs(Se,{className:`border-2 ${h(o.step6_validate.status)}`,children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[d(o.step6_validate.status),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-base",children:" 6:  "}),s.jsx(cn,{children:"  user  access_token"})]})]})}),o.step6_validate.data&&s.jsxs(Ee,{children:[s.jsx("pre",{className:"text-xs bg-gray-900 text-green-400 p-3 rounded overflow-auto",children:JSON.stringify(o.step6_validate.data,null,2)}),o.step6_validate.status==="success"&&s.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-green-800 font-semibold",children:"  !"}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"     "})]}),o.step6_validate.status==="error"&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-red-800 font-semibold",children:"  "}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:o.step6_validate.data.error||"   "})]})]})]})]})]})})}function $J(){const[e,t]=w.useState("checking"),[r,n]=w.useState("   ..."),[i,a]=w.useState(null);w.useEffect(()=>{o()},[]);const o=async()=>{t("checking"),n("   ...");try{const{projectId:l,publicAnonKey:c}=await vi(async()=>{const{projectId:p,publicAnonKey:x}=await Promise.resolve().then(()=>xm);return{projectId:p,publicAnonKey:x}},void 0);console.log("Checking server health..."),console.log("Project ID:",l),console.log("Anon Key:",c?`${c.substring(0,20)}...`:"NOT FOUND");const d=`https://${l}.supabase.co/functions/v1/make-server-05aa3c8a/health`;console.log("Health check URL:",d);const h=await fetch(d,{headers:{Authorization:`Bearer ${c}`}});console.log("Response status:",h.status),console.log("Response headers:",Object.fromEntries(h.headers.entries()));let m;try{const p=await h.text();console.log("Response text:",p),m=p?JSON.parse(p):null,console.log("Response data:",m)}catch(p){console.error("JSON parse error:",p),t("error"),n("    JSON"),a({url:d,projectId:l,status:h.status,statusText:h.statusText,parseError:String(p),hint:h.status===404?"Edge Function  .      Supabase.":"   ."});return}h.ok&&m?.status==="ok"?(t("ok"),n("   !"),a({url:d,projectId:l,status:h.status,data:m,timestamp:new Date().toISOString()})):(t("error"),n(`    (${h.status})`),a({url:d,projectId:l,status:h.status,statusText:h.statusText,data:m,hint:h.status===404?"Edge Function  .    Supabase Dashboard.":h.status===403?" .   .":"  ."}))}catch(l){console.error("Health check error:",l),t("error"),n("  "),a({error:l instanceof Error?l.message:String(l),type:l instanceof TypeError?"Network Error":"Unknown Error",hint:"       Edge Function ."})}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#F7FAFC] to-[#E6E9EE] p-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-[#1E1E1E] mb-6",children:" "}),s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-gray-50 rounded-xl",children:[e==="checking"&&s.jsxs(s.Fragment,{children:[s.jsx(vQ,{className:"w-6 h-6 text-[#39B7FF] animate-spin"}),s.jsx("span",{className:"text-[#666]",children:r})]}),e==="ok"&&s.jsxs(s.Fragment,{children:[s.jsx(Br,{className:"w-6 h-6 text-green-500"}),s.jsx("span",{className:"text-green-700 font-semibold",children:r})]}),e==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(Wa,{className:"w-6 h-6 text-red-500"}),s.jsx("span",{className:"text-red-700 font-semibold",children:r})]})]}),i&&s.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-xl font-mono text-sm overflow-auto",children:s.jsx("pre",{children:JSON.stringify(i,null,2)})}),s.jsx("button",{onClick:o,className:"mt-6 w-full py-3 px-6 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white rounded-xl hover:opacity-90 transition-all font-semibold",children:" "}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" :"}),s.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[s.jsx("li",{children:"  Supabase Edge Function"}),s.jsx("li",{children:"   /health"}),s.jsx("li",{children:" CORS "}),s.jsx("li",{children:"   "})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("a",{href:"/",className:"text-[#39B7FF] hover:underline font-semibold",children:"   "})})]})})})}function LJ(){const[e,t]=w.useState(!1),r="000001",n=()=>{navigator.clipboard.writeText(r),t(!0),setTimeout(()=>t(!1),2e3)};return s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h1",{className:"text-[#1E1E1E]",style:{fontSize:"32px",fontWeight:"700"},children:" ID "}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"16px"},children:"    ID  "})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-lg bg-gradient-to-br from-white to-[#F7FAFC]",children:[s.jsx(He,{className:"text-center pb-4",children:s.jsx(cn,{children:" ID "})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"text-white/80 mb-2",style:{fontSize:"14px"},children:"  ID"}),s.jsx("div",{className:"text-white mb-4",style:{fontSize:"48px",fontWeight:"700",letterSpacing:"4px"},children:r}),s.jsx(ie,{onClick:n,className:"bg-white text-[#39B7FF] hover:bg-white/90",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Hi,{size:16,className:"mr-2"}),"!"]}):s.jsxs(s.Fragment,{children:[s.jsx(xi,{size:16,className:"mr-2"})," ID"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-[#F7FAFC] rounded-xl border border-[#E6E9EE]",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-[#39B7FF]/10 rounded-lg flex items-center justify-center",children:s.jsx(Ot,{className:"w-5 h-5 text-[#39B7FF]"})}),s.jsx("div",{children:s.jsx("div",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "})})]}),s.jsx("p",{className:"text-[#666] text-sm",children:"ID =      "})]}),s.jsxs("div",{className:"p-4 bg-[#F7FAFC] rounded-xl border border-[#E6E9EE]",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 bg-[#12C9B6]/10 rounded-lg flex items-center justify-center",children:s.jsx($t,{className:"w-5 h-5 text-[#12C9B6]"})}),s.jsx("div",{children:s.jsx("div",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "})})]}),s.jsx("p",{className:"text-[#666] text-sm",children:"ID    "})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsx("div",{className:"text-[#1E1E1E] mb-2",style:{fontWeight:"600",fontSize:"14px"},children:" ID "}),s.jsxs("div",{className:"space-y-2 text-sm text-[#666]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qe,{variant:"outline",className:"bg-white",children:"6 "}),s.jsx("span",{children:"  "})]}),s.jsxs("div",{className:"text-xs",children:[": ",s.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"000001"}),", ",s.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"000002"}),", ",s.jsx("code",{className:"bg-white px-2 py-1 rounded",children:"000123"})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(ie,{className:"flex-1 bg-[#39B7FF] hover:bg-[#39B7FF]/90 text-white",onClick:()=>window.location.href="/register",children:" "}),s.jsx(ie,{variant:"outline",className:"flex-1 border-[#39B7FF] text-[#39B7FF] hover:bg-[#39B7FF]/10",onClick:()=>window.location.href="/login",children:"  "})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-xl border border-[#E6E9EE] text-center",children:[s.jsx("div",{className:"text-[#39B7FF] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:"000001"}),s.jsx("div",{className:"text-[#666] text-sm",children:" "})]}),s.jsxs("div",{className:"p-4 bg-white rounded-xl border border-[#E6E9EE] text-center",children:[s.jsx("div",{className:"text-[#12C9B6] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:"000002"}),s.jsx("div",{className:"text-[#666] text-sm",children:" "})]}),s.jsxs("div",{className:"p-4 bg-white rounded-xl border border-[#E6E9EE] text-center",children:[s.jsx("div",{className:"text-[#FF6B6B] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:"999999"}),s.jsx("div",{className:"text-[#666] text-sm",children:""})]})]})]})})}function BJ(){const[e,t]=w.useState([]),[r,n]=w.useState({callback:"pending",script:"pending",iframe:"pending",domain:window.location.hostname==="h2touch.pro"?"ok":"error"}),[i,a]=w.useState(null),o=(c,d)=>{const m=`[${new Date().toLocaleTimeString()}] ${c}${d?`
`+JSON.stringify(d,null,2):""}`;console.log(c,d||""),t(p=>[...p,m])};w.useEffect(()=>{o(" Telegram Widget Test Page initialized"),window.onTelegramAuth=function(d){o(" Telegram Login Widget callback triggered!",d),n(h=>({...h,callback:"ok"})),a(d)},o(" Global onTelegramAuth function created"),n(d=>({...d,callback:"ok"})),o(" Loading Telegram Login Widget...");const c=document.getElementById("telegram-widget-test-container");if(c){c.innerHTML="";const d="h2enterbot",h=document.createElement("script");h.setAttribute("data-telegram-login",d),h.setAttribute("data-size","large"),h.setAttribute("data-radius","10"),h.setAttribute("data-request-access","write"),h.setAttribute("data-onauth","onTelegramAuth"),h.async=!0,c.appendChild(h),h.src="https://telegram.org/js/telegram-widget.js?22",o(" Widget script created and added to DOM"),o(" Bot name: "+d),n(m=>({...m,script:"ok"})),setTimeout(()=>{const m=c.querySelector("iframe");m?(o(" Telegram Login Widget iframe found!"),o("iframe src: "+m.src),n(p=>({...p,iframe:"ok"}))):(o(" Telegram Login Widget iframe NOT found!"),o(" Possible issues:"),o("1. Domain not set in BotFather: /setdomain h2touch.pro"),o("2. Wrong bot username"),o("3. CORS/CSP restrictions"),n(p=>({...p,iframe:"error"})))},2e3),setTimeout(()=>{c.querySelector("iframe")||(o(" Still no iframe after 5 seconds"),o("Container HTML: "+c.innerHTML.substring(0,200)))},5e3)}else o(" Container not found!"),n(d=>({...d,script:"error"}));return()=>{delete window.onTelegramAuth}},[]);const l=c=>{switch(c){case"ok":return"bg-green-500";case"error":return"bg-red-500";case"pending":return"bg-orange-500"}};return s.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Telegram Login Widget Test"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"    Telegram Login Widget"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"font-semibold mb-2",children:"  :"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:" : @h2enterbot"}),s.jsx("li",{children:"   BotFather: h2touch.pro "}),s.jsx("li",{children:" Callback: onTelegramAuth"})]})]}),s.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-gray-500 text-center mb-4",children:" Telegram Login Widget   :"}),s.jsx("div",{id:"telegram-widget-test-container",className:"flex justify-center"})]}),i&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"font-semibold mb-2",children:"  !"}),s.jsxs("p",{className:"text-sm",children:[" ",i.first_name," ",i.last_name||"",s.jsx("br",{})," ID: ",i.id,s.jsx("br",{}),i.username&&` Username: @${i.username}`,s.jsx("br",{})," Auth Date: ",new Date(i.auth_date*1e3).toLocaleString()]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:" "}),s.jsxs("div",{className:"space-y-2 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-5 h-5 rounded-full ${l(r.callback)}`}),s.jsx("span",{children:"  onTelegramAuth"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-5 h-5 rounded-full ${l(r.script)}`}),s.jsx("span",{children:" telegram-widget.js"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-5 h-5 rounded-full ${l(r.iframe)}`}),s.jsx("span",{children:"Iframe "})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:`w-5 h-5 rounded-full ${l(r.domain)}`}),s.jsxs("span",{children:[" : ",s.jsx("strong",{children:window.location.hostname})]})]})]}),s.jsx("h3",{className:"font-semibold mb-2",children:"Console Logs:"}),s.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-xs overflow-x-auto max-h-96 overflow-y-auto",children:e.join(`

`)})]})]})})}function zJ(){const[e,t]=w.useState([]),[r,n]=w.useState([]),i=h=>{n(m=>[...m,`[${new Date().toLocaleTimeString()}] ${h}`])},a=(h,m,p,x)=>{t(b=>{const y=b.findIndex(N=>N.test===h),v={test:h,status:m,message:p,details:x};if(y>=0){const N=[...b];return N[y]=v,N}return[...b,v]})};w.useEffect(()=>{o()},[]);const o=async()=>{i("   Telegram Widget..."),i("1  ...");const h=window.location.hostname;h==="h2touch.pro"?(a("domain","pass"," : h2touch.pro"),i(" : h2touch.pro")):(a("domain","fail",` : ${h}`,"   h2touch.pro"),i(` : ${h} ( h2touch.pro)`)),i("2  HTTPS..."),window.location.protocol==="https:"?(a("https","pass","HTTPS "),i(" HTTPS ")):(a("https","fail","HTTPS  ","Telegram Widget  HTTPS"),i(" HTTPS  ")),i("3   telegram.org...");try{const x=await fetch("https://telegram.org/favicon.ico",{mode:"no-cors"});a("telegram-access","pass","telegram.org "),i(" telegram.org ")}catch(x){a("telegram-access","fail","    telegram.org",x instanceof Error?x.message:"Unknown error"),i(` telegram.org : ${x}`)}i("4   telegram-widget.js..."),document.querySelector('script[src*="telegram.org/js/telegram-widget.js"]')&&(a("script","warning","    "),i("   "));const p=document.createElement("script");p.src="https://telegram.org/js/telegram-widget.js?22",p.async=!0,p.onload=()=>{a("script","pass"," telegram-widget.js "),i("   "),setTimeout(()=>{i("5  window.Telegram..."),window.Telegram&&window.Telegram.Login?(a("telegram-object","pass","window.Telegram.Login "),i(" window.Telegram.Login "),i("6   ..."),l()):(a("telegram-object","fail","window.Telegram.Login  "),i(" window.Telegram.Login  "),i(`window.Telegram: ${JSON.stringify(window.Telegram)}`))},1e3)},p.onerror=()=>{a("script","fail","  "),i("    ")},document.head.appendChild(p)},l=()=>{const h=document.getElementById("telegram-widget-container");if(!h){i("   ");return}i(" :"),i("  bot_id: 8065673558"),i("  origin: "+window.location.origin),i("  embed: 1");try{window.Telegram&&window.Telegram.Login&&(window.Telegram.Login.auth({bot_id:"8065673558",request_access:"write",embed:1},m=>{m?(i("  !"),i(": "+JSON.stringify(m)),a("widget","pass"," !",JSON.stringify(m))):i("  ")}),a("widget-creation","pass","   "),i("    "),setTimeout(()=>{const m=h.querySelector("iframe");m?(a("widget","pass"," (iframe) !",`src: ${m.src}`),i(" iframe : "+m.src)):(a("widget","fail","iframe  ","    "),i(" iframe    "),i("HTML : "+h.innerHTML))},2e3))}catch(m){a("widget-creation","fail","   ",m instanceof Error?m.message:"Unknown error"),i(` : ${m}`)}},c=h=>{switch(h){case"pass":return"";case"fail":return"";case"warning":return"";default:return""}},d=h=>{switch(h){case"pass":return"bg-green-50 border-green-200";case"fail":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl mb-8",children:" Telegram Widget -  "}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h2",{className:"text-xl mb-4",children:"  "}),s.jsxs("div",{className:"space-y-3",children:[e.length===0&&s.jsx("p",{className:"text-gray-500",children:" ..."}),e.map((h,m)=>s.jsx("div",{className:`p-4 border rounded-lg ${d(h.status)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-2xl",children:c(h.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:h.test}),s.jsx("div",{className:"text-sm mt-1",children:h.message}),h.details&&s.jsx("div",{className:"text-xs mt-2 p-2 bg-white/50 rounded border border-black/10 font-mono",children:h.details})]})]})},m))]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsx("h2",{className:"text-xl mb-4",children:"  "}),s.jsx("div",{id:"telegram-widget-container",className:"min-h-[50px] border-2 border-dashed border-gray-300 rounded-lg p-4 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"   ..."})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl mb-4",children:"  "}),s.jsxs("div",{className:"bg-black text-green-400 p-4 rounded-lg font-mono text-sm max-h-96 overflow-y-auto",children:[r.length===0&&s.jsx("p",{children:" ..."}),r.map((h,m)=>s.jsx("div",{children:h},m))]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[s.jsx("h2",{className:"text-xl mb-4",children:"  "}),s.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"URL:"})," ",window.location.href]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",window.location.hostname]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",window.location.protocol]}),s.jsxs("div",{children:[s.jsx("strong",{children:"User Agent:"})," ",navigator.userAgent]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Bot Username:"})," @h2enterbot"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Bot ID:"})," 8065673558"]})]})]})]})})}const Ie=w.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,"data-slot":"input",className:ut("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),ref:n,...r}));Ie.displayName="Input";const WJ=b_("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Uo({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:ut(WJ({variant:t}),e),...r})}function Vo({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:ut("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function UJ(){const[e,t]=w.useState(""),[r,n]=w.useState(!1),[i,a]=w.useState(null),[o,l]=w.useState(null),c=async()=>{if(!e.trim()){l(" email  ");return}n(!0),l(null),a(null);try{const{projectId:d,publicAnonKey:h}=await vi(async()=>{const{projectId:x,publicAnonKey:b}=await Promise.resolve().then(()=>xm);return{projectId:x,publicAnonKey:b}},void 0),m=await fetch(`https://${d}.supabase.co/functions/v1/make-server-05aa3c8a/debug/check-auth`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({email:e.trim()})}),p=await m.json();if(!m.ok)throw new Error(p.error||" ");a(p)}catch(d){console.error("Check auth error:",d),l(d instanceof Error?d.message:" ")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen p-8",style:{backgroundColor:"#F7FAFC"},children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(Se,{children:[s.jsxs(He,{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Qs,{className:"w-5 h-5"}),"  "]}),s.jsx(cn,{children:"      "})]}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{type:"email",placeholder:"Email   (: admin@admin.com)",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),s.jsx(ie,{onClick:c,disabled:r,style:{backgroundColor:"#39B7FF"},children:r?s.jsxs(s.Fragment,{children:[s.jsx(Hu,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qs,{className:"w-4 h-4 mr-2"}),""]})})]}),o&&s.jsxs(Uo,{variant:"destructive",children:[s.jsx(ks,{className:"w-4 h-4"}),s.jsx(Vo,{children:o})]}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"font-medium text-gray-700 mb-1",children:" Email:"}),s.jsx("div",{className:"font-mono text-sm",children:i.email})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.kvStore.exists?s.jsx(Br,{className:"w-5 h-5 text-green-600"}):s.jsx(ks,{className:"w-5 h-5 text-red-600"}),s.jsx("h3",{className:"font-semibold",children:"KV Store (  )"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:i.kvStore.exists?"text-green-600 font-medium":"text-red-600",children:i.kvStore.exists?" ":"  "})]}),i.kvStore.exists&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"User ID:"}),s.jsx("span",{className:"font-mono",children:i.kvStore.userId})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"font-mono text-xs",children:i.kvStore.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:" :"}),s.jsx("span",{className:i.kvStore.isAdmin?"text-green-600":"text-gray-600",children:i.kvStore.isAdmin?" ":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Supabase ID:"}),s.jsx("span",{className:"font-mono text-xs",children:i.kvStore.supabaseId||" "})]})]})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.supabaseAuth.exists?s.jsx(Br,{className:"w-5 h-5 text-green-600"}):s.jsx(ks,{className:"w-5 h-5 text-red-600"}),s.jsx("h3",{className:"font-semibold",children:"Supabase Auth ( )"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:i.supabaseAuth.exists?"text-green-600 font-medium":"text-red-600",children:i.supabaseAuth.exists?" ":"  "})]}),i.supabaseAuth.exists&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Auth ID:"}),s.jsx("span",{className:"font-mono text-xs",children:i.supabaseAuth.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Email:"}),s.jsx("span",{className:"font-mono text-xs",children:i.supabaseAuth.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Email :"}),s.jsx("span",{className:i.supabaseAuth.confirmed?"text-green-600":"text-orange-600",children:i.supabaseAuth.confirmed?" ":" "})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:":"}),s.jsx("span",{className:"text-xs",children:new Date(i.supabaseAuth.createdAt).toLocaleString("ru-RU")})]})]})]})]}),s.jsx(Uo,{children:s.jsxs(Vo,{className:"text-sm",children:[s.jsx("strong",{children:":"})," ",i.recommendation]})}),!i.kvStore.exists&&!i.supabaseAuth.exists&&s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-900 mb-2",children:s.jsx("strong",{children:" :"})}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:"   "}),s.jsx("li",{children:' ""'}),s.jsx("li",{children:"     email"})]})]}),i.kvStore.exists&&!i.supabaseAuth.exists&&s.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-orange-900 mb-2",children:s.jsx("strong",{children:"  :"})}),s.jsx("p",{className:"text-sm text-orange-800 mb-2",children:"    ,      Supabase."}),s.jsxs("p",{className:"text-sm text-orange-800",children:[s.jsx("strong",{children:":"}),"     email,   ."]})]}),!i.kvStore.exists&&i.supabaseAuth.exists&&s.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-orange-900 mb-2",children:s.jsx("strong",{children:"  :"})}),s.jsx("p",{className:"text-sm text-orange-800 mb-2",children:"    ,     ."}),s.jsxs("p",{className:"text-sm text-orange-800",children:[s.jsx("strong",{children:":"}),"       ."]})]}),i.kvStore.exists&&i.supabaseAuth.exists&&s.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-900",children:[s.jsx("strong",{children:"   !"}),"     .     ,   ."]})})]})]})]}),s.jsxs(Se,{className:"mt-4",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-lg",children:" "})}),s.jsxs(Ee,{className:"text-sm space-y-2 text-gray-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"KV Store"})," -   ,    ,   ."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Supabase Auth"})," -  ,   email    ."]}),s.jsx("p",{children:"        ."})]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ie,{variant:"outline",onClick:()=>window.location.href="/",children:"   "})})]})})}function VJ(){const[e,t]=w.useState(""),[r,n]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(!1),[h,m]=w.useState(null);w.useEffect(()=>{const x=window.location.hash,y=new URLSearchParams(x.substring(1)).get("access_token");y?(m(y),console.log("Access token found in URL")):l("    . ,  .")},[]);const p=async()=>{if(l(null),!e||!r){l(",   ");return}if(e.length<6){l("    6 ");return}if(e!==r){l("  ");return}if(!h){l("    ");return}a(!0);try{const{projectId:x,publicAnonKey:b}=await vi(async()=>{const{projectId:j,publicAnonKey:E}=await Promise.resolve().then(()=>xm);return{projectId:j,publicAnonKey:E}},void 0),y=`https://${x}.supabase.co/functions/v1/make-server-05aa3c8a/auth/update-password`,v=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({access_token:h,new_password:e})}),N=await v.json();if(!v.ok)throw new Error(N.error||"  ");d(!0),setTimeout(()=>{window.location.href="/"},3e3)}catch(x){console.error("Password reset error:",x),l(x instanceof Error?x.message:".   .")}finally{a(!1)}};return c?s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-[#F7FAFC] to-[#E6E9EE] p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(Br,{className:"w-12 h-12 text-white"})})}),s.jsx("h1",{className:"text-center text-[#1E1E1E] mb-4",style:{fontSize:"24px",fontWeight:"700"},children:"  !"}),s.jsx("p",{className:"text-center text-[#666] mb-6",children:"      ..."}),s.jsx("a",{href:"/",className:"block text-center text-[#39B7FF] hover:underline",children:" "})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-[#F7FAFC] to-[#E6E9EE] p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx($g,{className:"w-10 h-10 text-white"})})}),s.jsx("h1",{className:"text-center text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:"  "}),s.jsx("p",{className:"text-center text-[#666] mb-8",children:"     "}),o&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[s.jsx(ks,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-700",style:{fontSize:"14px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-red-600",style:{fontSize:"13px"},children:o})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#1E1E1E] mb-2",style:{fontSize:"14px",fontWeight:"600"},children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx($g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666] w-5 h-5"}),s.jsx("input",{type:"password",value:e,onChange:x=>t(x.target.value),placeholder:" 6 ",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#39B7FF] focus:border-transparent",disabled:i||!h})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-[#1E1E1E] mb-2",style:{fontSize:"14px",fontWeight:"600"},children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx($g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666] w-5 h-5"}),s.jsx("input",{type:"password",value:r,onChange:x=>n(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:" ",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#39B7FF] focus:border-transparent",disabled:i||!h})]})]}),s.jsx("button",{onClick:p,disabled:i||!h,className:"flex items-center justify-center gap-3 w-full py-3 px-6 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] hover:opacity-90 text-white rounded-xl transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{style:{fontWeight:"600"},children:"..."})]}):s.jsx("span",{style:{fontWeight:"600"},children:"  "})})]}),s.jsx("div",{className:"text-center",children:s.jsx("a",{href:"/",className:"text-[#39B7FF] hover:underline text-sm",children:"   "})})]})})}var Ad=P$();const r9=rr(Ad);var qJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HJ=qJ.reduce((e,t)=>{const r=_v(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),KJ="Label",n9=w.forwardRef((e,t)=>s.jsx(HJ.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n9.displayName=KJ;var GJ=n9;function Oe({className:e,...t}){return s.jsx(GJ,{"data-slot":"label",className:ut("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Tt="vbjueuhgcyfberivihiv",Rt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZianVldWhnY3lmYmVyaXZpaGl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3Nzg4MDgsImV4cCI6MjA3ODM1NDgwOH0.BsuoSs-ugaAp0TR4g4k_YJ_VFH1JIQpHx1wiGqQYxcY",xm=Object.freeze(Object.defineProperty({__proto__:null,projectId:Tt,publicAnonKey:Rt},Symbol.toStringTag,{value:"Module"})),vm=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a`,S_=Rt;console.log(" API Configuration:");console.log("  API_BASE:",vm);console.log("  ANON_KEY:","Set ");let tf=null;function E_(e){tf=e,localStorage.setItem("auth_token",e)}function Pd(){return tf||(tf=localStorage.getItem("auth_token")),tf}function Lg(){tf=null,localStorage.removeItem("auth_token"),localStorage.removeItem("access_token")}async function ft(e,t={}){const r=Pd(),n={"Content-Type":"application/json",Authorization:`Bearer ${S_}`,...t.headers};r&&(n["X-User-Id"]=r);const i=`${vm}${e}`;console.log(` API Call: ${t.method||"GET"} ${i}`),console.log(` User ID: ${r||"NOT SET"}`),console.log(" Anon Key: Present");try{const a=await fetch(i,{...t,headers:n});if(console.log(` Response status: ${a.status} ${a.statusText}`),!a.ok){const l=await a.text();let c;try{c=JSON.parse(l)}catch{c={error:l||"Network error"}}throw console.error(` API error ${a.status} for ${e}:`,c),new Error(c.error||`API error: ${a.status}`)}const o=await a.json();return console.log(" API success:",o),o}catch(a){throw a.name==="TypeError"&&a.message.includes("Failed to fetch")?(console.error(` Network connection error for ${e}:`,a),console.error("   This usually means the server is unreachable or CORS is blocking the request")):console.error(` Fetch failed for ${e}:`,a),a}}async function s9(e){return ft("/user/profile",{method:"PUT",body:JSON.stringify(e)})}async function i9(e){const t=localStorage.getItem("userId");localStorage.getItem("authToken");const r=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/user/avatar`,{method:"POST",headers:{Authorization:`Bearer ${Rt}`,"X-User-Id":t||""},body:e});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to upload avatar")}return r.json()}async function __(e){return ft(`/user/${e}`)}async function Cv(e){return ft(`/user/${e}/team`)}async function C_(e,t=!0){return ft(`/user/${e}/rank?cache=${t}`)}async function a9(e){return ft(`/user/${e}/profile`)}async function Fi(e){return ft("/user/profile",{method:"PUT",body:JSON.stringify(e)})}async function o9(){return ft("/user/account",{method:"DELETE"})}async function k_(){return ft("/products")}async function kv(){return ft("/orders")}async function Av(){return ft("/earnings")}async function l9(e,t,r){return ft("/withdrawal",{method:"POST",body:JSON.stringify({amount:e,method:t,details:r})})}async function c9(){return ft("/withdrawals")}async function YJ(){return ft("/payment/methods")}async function XJ(e,t){return ft("/payment/create",{method:"POST",body:JSON.stringify({orderId:e,method:t})})}async function u9(){return ft("/admin/stats")}async function Pv(){return ft("/admin/users")}async function d9(){return ft("/admin/reserved-ids")}async function h9(e){console.log(" API: reserveIds called with:",e);const t=await ft("/admin/reserve-ids",{method:"POST",body:JSON.stringify({ids:e})});return console.log(" API: reserveIds result:",t),t}async function f9(e){return ft("/admin/unreserve-id",{method:"POST",body:JSON.stringify({id:e})})}async function m9(){return ft("/admin/sync-reserved-ids",{method:"POST"})}async function p9(e,t){return ft("/admin/assign-reserved-id",{method:"POST",body:JSON.stringify({newId:e,userId:t})})}async function g9(){return ft("/admin/clean-broken-refs",{method:"POST"})}async function x9(){const e=localStorage.getItem("access_token");if(console.log(" cleanDuplicateAdmins called"),console.log("  accessToken:",e?"Present ":"MISSING "),!e)throw new Error("Access token not found. Please log in again.");const t=Pd(),r={"Content-Type":"application/json",Authorization:`Bearer ${e}`};t&&(r["X-User-Id"]=t);const n=`${vm}/admin/clean-duplicate-admins`;console.log(" Calling:",n);const i=new AbortController,a=setTimeout(()=>i.abort(),3e4);try{const o=await fetch(n,{method:"POST",headers:r,signal:i.signal});clearTimeout(a),console.log(" Response status:",o.status),console.log(" Response ok:",o.ok);const l=await o.text();if(console.log(" Response text:",l),!o.ok){console.error(" Error response:",l);let d;try{d=JSON.parse(l)}catch{d={error:l||"Network error"}}throw new Error(d.error||`API error: ${o.status}`)}let c;try{c=JSON.parse(l)}catch(d){throw console.error(" Failed to parse response:",d),new Error("Invalid JSON response from server")}return console.log(" Success:",c),c}catch(o){throw clearTimeout(a),o.name==="AbortError"?(console.error(" Request timeout after 30 seconds"),new Error("    (30 ).  .")):(console.error(" Request error:",o),o)}}async function v9(){return console.log(" Cleaning duplicate products"),ft("/admin/products/clean-duplicates",{method:"POST"})}async function y9(){return ft("/admin/sync-teams",{method:"POST"})}async function b9(e){return console.log(` Debugging rank for user ${e}`),ft(`/debug/user-rank/${e}`)}async function w9(e){return console.log(` Getting user data for ${e}`),ft(`/debug/user-data/${e}`)}async function j9(e){return console.log(` Getting RAW data for ${e}`),ft(`/debug/user-raw/${e}`)}async function A_(e,t){return ft("/admin/change-user-id",{method:"POST",body:JSON.stringify({oldId:e,newId:t})})}async function N9(e,t){const r=localStorage.getItem("access_token");if(!r)throw new Error("Access token not found. Please log in again.");return ft("/auth/update-admin-role",{method:"POST",body:JSON.stringify({adminId:e,newRole:t,creatorToken:r})})}async function S9(){return ft("/admin/orders")}async function E9(){return ft("/admin/withdrawals")}async function _9(e,t,r){return ft(`/admin/withdrawals/${e}/status`,{method:"POST",body:JSON.stringify({status:t,note:r})})}async function P_(e){return console.log(" API createProduct called"),console.log(" Creating product:",e),console.log("   - commission:",e.commission),console.log("   - retail_price:",e.retail_price),console.log("   - partner_price:",e.partner_price),ft("/admin/products",{method:"POST",body:JSON.stringify(e)})}async function O_(e,t){return console.log(" Updating product:",e,t),ft(`/admin/products/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function C9(e){return console.log(" Deleting product:",e),ft(`/admin/products/${e}`,{method:"DELETE"})}async function k9(e,t=!0){return console.log(" Archiving product:",e,t),ft(`/admin/products/${e}/archive`,{method:"POST",body:JSON.stringify({archive:t})})}async function A9(e){console.log(" Uploading image:",e.name,e.type,e.size);const t=new FormData;t.append("file",e);const r=Pd(),n={Authorization:`Bearer ${S_}`};r&&(n["X-User-Id"]=r);const i=await fetch(`${vm}/admin/products/upload-image`,{method:"POST",headers:n,body:t});if(!i.ok){const a=await i.text();let o;try{o=JSON.parse(a)}catch{o={error:a||"Upload failed"}}throw new Error(o.error||`Upload failed: ${i.status}`)}return i.json()}async function P9(){return ft("/notifications")}async function O9(e){return ft(`/notifications/${e}/read`,{method:"POST"})}async function T9(){return ft("/notifications/mark-all-read",{method:"POST"})}async function R9(e){return ft(`/notifications/${e}`,{method:"DELETE"})}async function T_(e,t){return ft("/admin/send-notification",{method:"POST",body:JSON.stringify({userId:e,...t})})}async function R_(){return ft("/achievements")}async function M9(){return ft("/challenges")}async function I9(){return ft("/leaderboard")}async function D9(){return ft("/admin/achievements")}async function F9(e){return ft("/admin/achievements",{method:"POST",body:JSON.stringify(e)})}async function $9(e,t){return ft(`/admin/achievements/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function L9(e){return ft(`/admin/achievements/${e}`,{method:"DELETE"})}async function B9(){return ft("/admin/challenges")}async function z9(e){return ft("/admin/challenges",{method:"POST",body:JSON.stringify(e)})}async function W9(e,t){return ft(`/admin/challenges/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function U9(e){return ft(`/admin/challenges/${e}`,{method:"DELETE"})}async function V9(){return ft("/courses")}async function q9(e){return ft("/admin/courses",{method:"POST",body:JSON.stringify(e)})}async function H9(e,t){return ft(`/admin/courses/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function K9(e){return ft(`/admin/courses/${e}`,{method:"DELETE"})}async function G9(e){const t=new FormData;t.append("file",e);const r=Pd(),n={Authorization:`Bearer ${S_}`};r&&(n["X-User-Id"]=r);const i=await fetch(`${vm}/admin/courses/upload`,{method:"POST",headers:n,body:t});if(!i.ok){const a=await i.text();throw new Error(a||"Upload failed")}return i.json()}async function Y9(){return ft("/training-materials")}async function X9(e){return ft("/admin/training-materials",{method:"POST",body:JSON.stringify(e)})}async function Q9(e,t){return ft(`/admin/training-materials/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function J9(e,t){return ft(`/admin/orders/${e}/status`,{method:"POST",body:JSON.stringify({status:t})})}const $b=Object.freeze(Object.defineProperty({__proto__:null,archiveProduct:k9,assignReservedId:p9,changeUserId:A_,changeUserRole:N9,cleanBrokenRefs:g9,cleanDuplicateAdmins:x9,cleanDuplicateProducts:v9,clearAuthToken:Lg,createAchievement:F9,createChallenge:z9,createCourse:q9,createPayment:XJ,createProduct:P_,createTrainingMaterial:X9,debugUserData:w9,debugUserRank:b9,debugUserRaw:j9,deleteAccount:o9,deleteAchievement:L9,deleteChallenge:U9,deleteCourse:K9,deleteNotification:R9,deleteProduct:C9,getAchievements:R_,getAchievementsAdmin:D9,getAdminStats:u9,getAllOrders:S9,getAllUsers:Pv,getAllWithdrawals:E9,getAuthToken:Pd,getChallenges:M9,getChallengesAdmin:B9,getCourses:V9,getEarnings:Av,getLeaderboard:I9,getNotifications:P9,getOrders:kv,getPaymentMethods:YJ,getProducts:k_,getReservedIds:d9,getTrainingMaterials:Y9,getUser:__,getUserProfile:a9,getUserRank:C_,getUserTeam:Cv,getWithdrawals:c9,markAllNotificationsAsRead:T9,markNotificationAsRead:O9,requestWithdrawal:l9,reserveIds:h9,sendNotificationToUser:T_,setAuthToken:E_,syncReservedIds:m9,syncTeams:y9,unreserveId:f9,updateAchievement:$9,updateChallenge:W9,updateCourse:H9,updateOrderStatus:J9,updateProduct:O_,updateProfile:s9,updateTrainingMaterial:Q9,updateUserProfile:Fi,updateWithdrawalStatus:_9,uploadAvatar:i9,uploadCourseMaterial:G9,uploadImage:A9},Symbol.toStringTag,{value:"Module"}));function QJ({onSwitchToRegister:e,onLogin:t}){console.log(" LoginRu rendering, onSwitchToRegister:",typeof e,"onLogin:",typeof t);const[r,n]=w.useState({login:"",password:""}),[i,a]=w.useState(!1),[o,l]=w.useState(""),c=h=>{n({...r,[h.target.name]:h.target.value}),l("")},d=async h=>{if(h.preventDefault(),l(""),a(!0),!r.login||!r.password){l(",   "),a(!1);return}try{console.log(" Logging in with:",r.login);const m=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`},body:JSON.stringify({login:r.login,password:r.password})}),p=await m.json();if(!m.ok)throw new Error(p.error||"  ");if(p.access_token&&p.user){console.log(" Login successful, user:",p.user),console.log(" Access token received:",p.access_token.substring(0,20)+"..."),console.log(" User data:",{id:p.user.id,type:p.user.type,role:p.user.role,isAdmin:p.user.isAdmin}),localStorage.setItem("access_token",p.access_token),console.log(" Access token saved to localStorage");const x=localStorage.getItem("access_token");console.log(" Immediate verification - token in localStorage:",x?"YES ":"NO "),x&&(console.log(" Saved token length:",x.length),console.log(" Saved token preview:",x.substring(0,20)+"...")),E_(p.user.id),console.log(" User ID saved via api.setAuthToken:",p.user.id),console.log(" Calling onLogin callback with userId:",p.user.id),t?t(p.user.id):(console.log(" No onLogin callback provided, using fallback redirect"),window.location.href="/")}}catch(m){console.error("Login error:",m),l(m instanceof Error?m.message:"  ")}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center p-4",children:s.jsxs(Se,{className:"w-full max-w-md",children:[s.jsxs(He,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-[#39B7FF]/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(wQ,{className:"w-6 h-6 text-[#39B7FF]"})}),s.jsx(Ge,{className:"text-2xl",children:"   "}),s.jsx(cn,{children:"    "})]}),s.jsx(Ee,{children:s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o&&s.jsx(Uo,{variant:"destructive",children:s.jsx(Vo,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"login",children:"ID   Email"}),s.jsx(Ie,{id:"login",name:"login",type:"text",placeholder:"000001  partner@example.com",value:r.login,onChange:c,disabled:i,required:!0}),s.jsx("p",{className:"text-xs text-gray-500",children:"     ID   Email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"password",children:""}),s.jsx(Ie,{id:"password",name:"password",type:"password",placeholder:" ",value:r.password,onChange:c,disabled:i,required:!0})]}),s.jsx(ie,{type:"submit",className:"w-full bg-[#39B7FF] hover:bg-[#39B7FF]/90",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):""}),s.jsxs("p",{className:"text-sm text-center text-gray-600",children:[" ?"," ",s.jsx("button",{type:"button",onClick:()=>{console.log(" LoginRu: Switching to register screen"),e&&e()},className:"text-[#39B7FF] hover:underline bg-transparent border-none cursor-pointer p-0 inline",children:""})]})]})})]})})}function JJ({onSwitchToLogin:e}={}){console.log(" RegistrationRu component rendering");const[t,r]=w.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",sponsorRefCode:""}),[n,i]=w.useState(!1),[a,o]=w.useState(""),[l,c]=w.useState(!1),[d,h]=w.useState(""),[m,p]=w.useState("");w.useEffect(()=>{const v=new URLSearchParams(window.location.search).get("ref");v&&(console.log(" RegistrationRu: Auto-filling referral code from URL:",v),r(N=>({...N,sponsorRefCode:v})))},[]),console.log(" RegistrationRu state:",{loading:n,error:a,success:l,partnerId:d,refCode:m});const x=y=>{r({...t,[y.target.name]:y.target.value}),o("")},b=async y=>{if(y.preventDefault(),o(""),i(!0),!t.firstName||!t.lastName||!t.email||!t.password){o(",    "),i(!1);return}if(t.password.length<6){o("    6 "),i(!1);return}if(t.password!==t.confirmPassword){o("  "),i(!1);return}if(t.email&&!/\S+@\S+\.\S+/.test(t.email)){o("  email"),i(!1);return}try{const v=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`},body:JSON.stringify({firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,phone:t.phone,sponsorRefCode:t.sponsorRefCode})}),N=await v.json();if(!v.ok)throw new Error(N.error||"  ");h(N.partnerId),p(N.refCode||N.partnerId),c(!0)}catch(v){console.error("Registration error:",v),o(v instanceof Error?v.message:"   ")}finally{i(!1)}};return l?(console.log(" RegistrationRu: Rendering SUCCESS view"),s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center p-4",children:s.jsxs(Se,{className:"w-full max-w-md",children:[s.jsxs(He,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Br,{className:"w-6 h-6 text-green-600"})}),s.jsx(Ge,{className:"text-2xl",children:" !"}),s.jsx(cn,{children:"   "})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl p-6 text-white text-center",children:[s.jsx("p",{className:"text-sm opacity-90 mb-2",children:" ID :"}),s.jsx("p",{className:"text-5xl font-bold mb-3",style:{letterSpacing:"0.2em"},children:d}),s.jsx("p",{className:"text-sm opacity-90",children:"     "})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[" ",s.jsx("strong",{children:" ID     !"}),s.jsx("br",{}),s.jsxs("span",{className:"text-xs text-blue-600",children:["    ",s.jsx("strong",{children:d}),"    "]})]})}),s.jsx("p",{className:"text-sm text-gray-600 text-center",children:"  email      "}),s.jsx(ie,{className:"w-full bg-[#39B7FF] hover:bg-[#39B7FF]/90",onClick:()=>{console.log(" RegistrationRu: Success - switching to login"),e?e():window.location.href="/login"},children:"   "})]})]})})):(console.log(" RegistrationRu: Rendering FORM view"),s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center p-4",children:s.jsxs(Se,{className:"w-full max-w-md",children:[s.jsxs(He,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-[#39B7FF]/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(ac,{className:"w-6 h-6 text-[#39B7FF]"})}),s.jsx(Ge,{className:"text-2xl",children:" "}),s.jsx(cn,{children:"     ID "})]}),s.jsx(Ee,{children:s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a&&s.jsx(Uo,{variant:"destructive",children:s.jsx(Vo,{children:a})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"firstName",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ie,{id:"firstName",name:"firstName",type:"text",placeholder:"",value:t.firstName,onChange:x,disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"lastName",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ie,{id:"lastName",name:"lastName",type:"text",placeholder:"",value:t.lastName,onChange:x,disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"email",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ie,{id:"email",name:"email",type:"email",placeholder:"partner@example.com",value:t.email,onChange:x,disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"phone",children:""}),s.jsx(Ie,{id:"phone",name:"phone",type:"tel",placeholder:"+7 (999) 123-45-67",value:t.phone,onChange:x,disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"password",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ie,{id:"password",name:"password",type:"password",placeholder:" 6 ",value:t.password,onChange:x,disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"confirmPassword",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ie,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:" ",value:t.confirmPassword,onChange:x,disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"sponsorRefCode",children:"   ( )"}),s.jsx(Ie,{id:"sponsorRefCode",name:"sponsorRefCode",type:"text",placeholder:"IVAN-1234  000001",value:t.sponsorRefCode,onChange:x,disabled:n}),s.jsx("p",{className:"text-xs text-gray-500",children:" ,    "})]}),s.jsx(ie,{type:"submit",className:"w-full bg-[#39B7FF] hover:bg-[#39B7FF]/90",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"..."]}):""}),s.jsxs("p",{className:"text-sm text-center text-gray-600",children:["  ?"," ",s.jsx("button",{type:"button",onClick:()=>{console.log(" RegistrationRu: Switching to login screen"),e&&e()},className:"text-[#39B7FF] hover:underline bg-transparent border-none cursor-pointer p-0 inline",children:""})]})]})})]})}))}function Je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function ZJ(e,t){const r=w.createContext(t),n=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function ls(e,t=[]){let r=[];function n(a,o){const l=w.createContext(o),c=r.length;r=[...r,o];const d=m=>{const{scope:p,children:x,...b}=m,y=p?.[e]?.[c]||l,v=w.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:v,children:x})};d.displayName=a+"Provider";function h(m,p){const x=p?.[e]?.[c]||l,b=w.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=l?.[e]||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,eZ(i,...t)]}function eZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Qr=globalThis?.document?w.useLayoutEffect:()=>{},tZ=v_[" useId ".trim().toString()]||(()=>{}),rZ=0;function As(e){const[t,r]=w.useState(tZ());return Qr(()=>{r(n=>n??String(rZ++))},[e]),e||(t?`radix-${t}`:"")}var nZ=v_[" useInsertionEffect ".trim().toString()]||Qr;function Os({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=sZ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const h=w.useRef(e!==void 0);w.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const d=w.useCallback(h=>{if(l){const m=iZ(h)?h(e):h;m!==e&&o.current?.(m)}else a(h)},[l,e,a,o]);return[c,d]}function sZ({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),i=w.useRef(r),a=w.useRef(t);return nZ(()=>{a.current=t},[t]),w.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function iZ(e){return typeof e=="function"}function aZ(e){const t=oZ(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(cZ);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function oZ(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=dZ(i),l=uZ(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lZ=Symbol("radix.slottable");function cZ(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lZ}function uZ(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function dZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xt=hZ.reduce((e,t)=>{const r=aZ(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Z9(e,t){e&&Ad.flushSync(()=>e.dispatchEvent(t))}function Ki(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}function fZ(e,t=globalThis?.document){const r=Ki(e);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mZ="DismissableLayer",HS="dismissableLayer.update",pZ="dismissableLayer.pointerDownOutside",gZ="dismissableLayer.focusOutside",R6,eL=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Od=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=w.useContext(eL),[h,m]=w.useState(null),p=h?.ownerDocument??globalThis?.document,[,x]=w.useState({}),b=Mt(t,T=>m(T)),y=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(v),j=h?y.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,k=j>=N,_=yZ(T=>{const D=T.target,q=[...d.branches].some(K=>K.contains(D));!k||q||(i?.(T),o?.(T),T.defaultPrevented||l?.())},p),A=bZ(T=>{const D=T.target;[...d.branches].some(K=>K.contains(D))||(a?.(T),o?.(T),T.defaultPrevented||l?.())},p);return fZ(T=>{j===d.layers.size-1&&(n?.(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},p),w.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(R6=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),M6(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=R6)}},[h,p,r,d]),w.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),M6())},[h,d]),w.useEffect(()=>{const T=()=>x({});return document.addEventListener(HS,T),()=>document.removeEventListener(HS,T)},[]),s.jsx(xt.div,{...c,ref:b,style:{pointerEvents:E?k?"auto":"none":void 0,...e.style},onFocusCapture:Je(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Je(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Je(e.onPointerDownCapture,_.onPointerDownCapture)})});Od.displayName=mZ;var xZ="DismissableLayerBranch",vZ=w.forwardRef((e,t)=>{const r=w.useContext(eL),n=w.useRef(null),i=Mt(t,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(xt.div,{...e,ref:i})});vZ.displayName=xZ;function yZ(e,t=globalThis?.document){const r=Ki(e),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){tL(pZ,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bZ(e,t=globalThis?.document){const r=Ki(e),n=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!n.current&&tL(gZ,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function M6(){const e=new CustomEvent(HS);document.dispatchEvent(e)}function tL(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Z9(i,a):i.dispatchEvent(a)}var Lb="focusScope.autoFocusOnMount",Bb="focusScope.autoFocusOnUnmount",I6={bubbles:!1,cancelable:!0},wZ="FocusScope",ym=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=w.useState(null),d=Ki(i),h=Ki(a),m=w.useRef(null),p=Mt(t,y=>c(y)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let y=function(E){if(x.paused||!l)return;const k=E.target;l.contains(k)?m.current=k:Do(m.current,{select:!0})},v=function(E){if(x.paused||!l)return;const k=E.relatedTarget;k!==null&&(l.contains(k)||Do(m.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const _ of E)_.removedNodes.length>0&&Do(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const j=new MutationObserver(N);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),j.disconnect()}}},[n,l,x.paused]),w.useEffect(()=>{if(l){F6.add(x);const y=document.activeElement;if(!l.contains(y)){const N=new CustomEvent(Lb,I6);l.addEventListener(Lb,d),l.dispatchEvent(N),N.defaultPrevented||(jZ(CZ(rL(l)),{select:!0}),document.activeElement===y&&Do(l))}return()=>{l.removeEventListener(Lb,d),setTimeout(()=>{const N=new CustomEvent(Bb,I6);l.addEventListener(Bb,h),l.dispatchEvent(N),N.defaultPrevented||Do(y??document.body,{select:!0}),l.removeEventListener(Bb,h),F6.remove(x)},0)}}},[l,d,h,x]);const b=w.useCallback(y=>{if(!r&&!n||x.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,N=document.activeElement;if(v&&N){const j=y.currentTarget,[E,k]=NZ(j);E&&k?!y.shiftKey&&N===k?(y.preventDefault(),r&&Do(E,{select:!0})):y.shiftKey&&N===E&&(y.preventDefault(),r&&Do(k,{select:!0})):N===j&&y.preventDefault()}},[r,n,x.paused]);return s.jsx(xt.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});ym.displayName=wZ;function jZ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Do(n,{select:t}),document.activeElement!==r)return}function NZ(e){const t=rL(e),r=D6(t,e),n=D6(t.reverse(),e);return[r,n]}function rL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function D6(e,t){for(const r of e)if(!SZ(r,{upTo:t}))return r}function SZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EZ(e){return e instanceof HTMLInputElement&&"select"in e}function Do(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&EZ(e)&&t&&e.select()}}var F6=_Z();function _Z(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=$6(e,t),e.unshift(t)},remove(t){e=$6(e,t),e[0]?.resume()}}}function $6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function CZ(e){return e.filter(t=>t.tagName!=="A")}var kZ="Portal",Td=w.forwardRef((e,t)=>{const{container:r,...n}=e,[i,a]=w.useState(!1);Qr(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?r9.createPortal(s.jsx(xt.div,{...n,ref:t}),o):null});Td.displayName=kZ;function AZ(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var cs=e=>{const{present:t,children:r}=e,n=PZ(t),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Mt(n.ref,OZ(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:a}):null};cs.displayName="Presence";function PZ(e){const[t,r]=w.useState(),n=w.useRef(null),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[l,c]=AZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=eg(n.current);a.current=l==="mounted"?d:"none"},[l]),Qr(()=>{const d=n.current,h=i.current;if(h!==e){const p=a.current,x=eg(d);e?c("MOUNT"):x==="none"||d?.display==="none"?c("UNMOUNT"):c(h&&p!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Qr(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,m=x=>{const y=eg(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&y&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=x=>{x.target===t&&(a.current=eg(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function eg(e){return e?.animationName||"none"}function OZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zb=0;function Ov(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??L6()),document.body.insertAdjacentElement("beforeend",e[1]??L6()),zb++,()=>{zb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zb--}},[])}function L6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var KS=function(e,t){return KS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},KS(e,t)};function M_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");KS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var lr=function(){return lr=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},lr.apply(this,arguments)};function ol(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function nL(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function sL(e,t){return function(r,n){t(r,n,e)}}function iL(e,t,r,n,i,a){function o(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),m,p=!1,x=r.length-1;x>=0;x--){var b={};for(var y in n)b[y]=y==="access"?{}:n[y];for(var y in n.access)b.access[y]=n.access[y];b.addInitializer=function(N){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(N||null))};var v=(0,r[x])(l==="accessor"?{get:h.get,set:h.set}:h[c],b);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(m=o(v.get))&&(h.get=m),(m=o(v.set))&&(h.set=m),(m=o(v.init))&&i.unshift(m)}else(m=o(v))&&(l==="field"?i.unshift(m):h[c]=m)}d&&Object.defineProperty(d,n.name,h),p=!0}function aL(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function oL(e){return typeof e=="symbol"?e:"".concat(e)}function lL(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cL(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function it(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(h){try{d(n.next(h))}catch(m){o(m)}}function c(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?a(h.value):i(h.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function uL(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(h){return c([d,h])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(h){d=[6,h],i=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Tv=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function dL(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tv(t,e,r)}function rx(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function I_(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function hL(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(I_(arguments[t]));return e}function fL(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,l=a.length;o<l;o++,i++)n[i]=a[o];return n}function D_(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Gu(e){return this instanceof Gu?(this.v=e,this):new Gu(e)}function mL(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(b){return Promise.resolve(b).then(x,m)}}function l(x,b){n[x]&&(i[x]=function(y){return new Promise(function(v,N){a.push([x,y,v,N])>1||c(x,y)})},b&&(i[x]=b(i[x])))}function c(x,b){try{d(n[x](b))}catch(y){p(a[0][3],y)}}function d(x){x.value instanceof Gu?Promise.resolve(x.value.v).then(h,m):p(a[0][2],x)}function h(x){c("next",x)}function m(x){c("throw",x)}function p(x,b){x(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function pL(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:Gu(e[i](o)),done:!1}:a?a(o):o}:a}}function gL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof rx=="function"?rx(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(l,c){o=e[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},o)}}function xL(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var TZ=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},GS=function(e){return GS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},GS(e)};function vL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=GS(e),n=0;n<r.length;n++)r[n]!=="default"&&Tv(t,e,r[n]);return TZ(t,e),t}function yL(e){return e&&e.__esModule?e:{default:e}}function bL(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function wL(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function jL(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function NL(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var RZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function SL(e){function t(a){e.error=e.hasError?new RZ(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function EL(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const MZ={__extends:M_,__assign:lr,__rest:ol,__decorate:nL,__param:sL,__esDecorate:iL,__runInitializers:aL,__propKey:oL,__setFunctionName:lL,__metadata:cL,__awaiter:it,__generator:uL,__createBinding:Tv,__exportStar:dL,__values:rx,__read:I_,__spread:hL,__spreadArrays:fL,__spreadArray:D_,__await:Gu,__asyncGenerator:mL,__asyncDelegator:pL,__asyncValues:gL,__makeTemplateObject:xL,__importStar:vL,__importDefault:yL,__classPrivateFieldGet:bL,__classPrivateFieldSet:wL,__classPrivateFieldIn:jL,__addDisposableResource:NL,__disposeResources:SL,__rewriteRelativeImportExtension:EL},IZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:NL,get __assign(){return lr},__asyncDelegator:pL,__asyncGenerator:mL,__asyncValues:gL,__await:Gu,__awaiter:it,__classPrivateFieldGet:bL,__classPrivateFieldIn:jL,__classPrivateFieldSet:wL,__createBinding:Tv,__decorate:nL,__disposeResources:SL,__esDecorate:iL,__exportStar:dL,__extends:M_,__generator:uL,__importDefault:yL,__importStar:vL,__makeTemplateObject:xL,__metadata:cL,__param:sL,__propKey:oL,__read:I_,__rest:ol,__rewriteRelativeImportExtension:EL,__runInitializers:aL,__setFunctionName:lL,__spread:hL,__spreadArray:D_,__spreadArrays:fL,__values:rx,default:MZ},Symbol.toStringTag,{value:"Module"}));var Bg="right-scroll-bar-position",zg="width-before-scroll-bar",DZ="with-scroll-bars-hidden",FZ="--removed-body-scroll-bar-size";function Wb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $Z(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var LZ=typeof window<"u"?w.useLayoutEffect:w.useEffect,B6=new WeakMap;function BZ(e,t){var r=$Z(null,function(n){return e.forEach(function(i){return Wb(i,n)})});return LZ(function(){var n=B6.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||Wb(l,null)}),a.forEach(function(l){i.has(l)||Wb(l,o)})}B6.set(r,e)},[e]),r}function zZ(e){return e}function WZ(e,t){t===void 0&&(t=zZ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),r}}}};return i}function UZ(e){e===void 0&&(e={});var t=WZ(null);return t.options=lr({async:!0,ssr:!1},e),t}var _L=function(e){var t=e.sideCar,r=ol(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,lr({},r))};_L.isSideCarExport=!0;function VZ(e,t){return e.useMedium(t),_L}var CL=UZ(),Ub=function(){},Rv=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:Ub,onWheelCapture:Ub,onTouchMoveCapture:Ub}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,m=e.shards,p=e.sideCar,x=e.noRelative,b=e.noIsolation,y=e.inert,v=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,E=e.gapMode,k=ol(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,A=BZ([r,t]),T=lr(lr({},k),i);return w.createElement(w.Fragment,null,h&&w.createElement(_,{sideCar:CL,removeScrollBar:d,shards:m,noRelative:x,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:E}),o?w.cloneElement(w.Children.only(l),lr(lr({},T),{ref:A})):w.createElement(j,lr({},T,{className:c,ref:A}),l))});Rv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rv.classNames={fullWidth:zg,zeroRight:Bg};var qZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qZ();return t&&e.setAttribute("nonce",t),e}function KZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YZ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=HZ())&&(KZ(t,r),GZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XZ=function(){var e=YZ();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kL=function(){var e=XZ(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},QZ={left:0,top:0,right:0,gap:0},Vb=function(e){return parseInt(e||"",10)||0},JZ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Vb(r),Vb(n),Vb(i)]},ZZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QZ;var t=JZ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eee=kL(),Iu="data-scroll-locked",tee=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(DZ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Iu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Bg," .").concat(Bg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zg," .").concat(zg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Iu,`] {
    `).concat(FZ,": ").concat(l,`px;
  }
`)},z6=function(){var e=parseInt(document.body.getAttribute(Iu)||"0",10);return isFinite(e)?e:0},ree=function(){w.useEffect(function(){return document.body.setAttribute(Iu,(z6()+1).toString()),function(){var e=z6()-1;e<=0?document.body.removeAttribute(Iu):document.body.setAttribute(Iu,e.toString())}},[])},nee=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;ree();var a=w.useMemo(function(){return ZZ(i)},[i]);return w.createElement(eee,{styles:tee(a,!t,i,r?"":"!important")})},YS=!1;if(typeof window<"u")try{var tg=Object.defineProperty({},"passive",{get:function(){return YS=!0,!0}});window.addEventListener("test",tg,tg),window.removeEventListener("test",tg,tg)}catch{YS=!1}var iu=YS?{passive:!1}:!1,see=function(e){return e.tagName==="TEXTAREA"},AL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!see(e)&&r[t]==="visible")},iee=function(e){return AL(e,"overflowY")},aee=function(e){return AL(e,"overflowX")},W6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=PL(e,n);if(i){var a=OL(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oee=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lee=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},PL=function(e,t){return e==="v"?iee(t):aee(t)},OL=function(e,t){return e==="v"?oee(t):lee(t)},cee=function(e,t){return e==="h"&&t==="rtl"?-1:1},uee=function(e,t,r,n,i){var a=cee(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,h=o>0,m=0,p=0;do{if(!l)break;var x=OL(e,l),b=x[0],y=x[1],v=x[2],N=y-v-a*b;(b||N)&&PL(e,l)&&(m+=N,p+=b);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(d=!0),d},rg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},U6=function(e){return[e.deltaX,e.deltaY]},V6=function(e){return e&&"current"in e?e.current:e},dee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fee=0,au=[];function mee(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(fee++)[0],a=w.useState(kL)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=D_([e.lockRef.current],(e.shards||[]).map(V6),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var N=rg(y),j=r.current,E="deltaX"in y?y.deltaX:j[0]-N[0],k="deltaY"in y?y.deltaY:j[1]-N[1],_,A=y.target,T=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in y&&T==="h"&&A.type==="range")return!1;var D=window.getSelection(),q=D&&D.anchorNode,K=q?q===A||q.contains(A):!1;if(K)return!1;var $=W6(T,A);if(!$)return!0;if($?_=T:(_=T==="v"?"h":"v",$=W6(T,A)),!$)return!1;if(!n.current&&"changedTouches"in y&&(E||k)&&(n.current=_),!_)return!0;var H=n.current||_;return uee(H,v,y,H==="h"?E:k)},[]),c=w.useCallback(function(y){var v=y;if(!(!au.length||au[au.length-1]!==a)){var N="deltaY"in v?U6(v):rg(v),j=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&dee(_.delta,N)})[0];if(j&&j.should){v.cancelable&&v.preventDefault();return}if(!j){var E=(o.current.shards||[]).map(V6).filter(Boolean).filter(function(_){return _.contains(v.target)}),k=E.length>0?l(v,E[0]):!o.current.noIsolation;k&&v.cancelable&&v.preventDefault()}}},[]),d=w.useCallback(function(y,v,N,j){var E={name:y,delta:v,target:N,should:j,shadowParent:pee(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(k){return k!==E})},1)},[]),h=w.useCallback(function(y){r.current=rg(y),n.current=void 0},[]),m=w.useCallback(function(y){d(y.type,U6(y),y.target,l(y,e.lockRef.current))},[]),p=w.useCallback(function(y){d(y.type,rg(y),y.target,l(y,e.lockRef.current))},[]);w.useEffect(function(){return au.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,iu),document.addEventListener("touchmove",c,iu),document.addEventListener("touchstart",h,iu),function(){au=au.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,iu),document.removeEventListener("touchmove",c,iu),document.removeEventListener("touchstart",h,iu)}},[]);var x=e.removeScrollBar,b=e.inert;return w.createElement(w.Fragment,null,b?w.createElement(a,{styles:hee(i)}):null,x?w.createElement(nee,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gee=VZ(CL,mee);var bm=w.forwardRef(function(e,t){return w.createElement(Rv,lr({},e,{ref:t,sideCar:gee}))});bm.classNames=Rv.classNames;var xee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ou=new WeakMap,ng=new WeakMap,sg={},qb=0,TL=function(e){return e&&(e.host||TL(e.parentNode))},vee=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=TL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},yee=function(e,t,r,n){var i=vee(t,Array.isArray(e)?e:[e]);sg[r]||(sg[r]=new WeakMap);var a=sg[r],o=[],l=new Set,c=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var x=p.getAttribute(n),b=x!==null&&x!=="false",y=(ou.get(p)||0)+1,v=(a.get(p)||0)+1;ou.set(p,y),a.set(p,v),o.push(p),y===1&&b&&ng.set(p,!0),v===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",p,N)}})};return h(t),l.clear(),qb++,function(){o.forEach(function(m){var p=ou.get(m)-1,x=a.get(m)-1;ou.set(m,p),a.set(m,x),p||(ng.has(m)||m.removeAttribute(n),ng.delete(m)),x||m.removeAttribute(r)}),qb--,qb||(ou=new WeakMap,ou=new WeakMap,ng=new WeakMap,sg={})}},Mv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=xee(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),yee(n,i,r,"aria-hidden")):function(){return null}};function bee(e){const t=wee(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(Nee);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function wee(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=Eee(i),l=See(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jee=Symbol("radix.slottable");function Nee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jee}function See(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Eee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Iv="Dialog",[RL]=ls(Iv),[_ee,Ji]=RL(Iv),ML=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=w.useRef(null),c=w.useRef(null),[d,h]=Os({prop:n,defaultProp:i??!1,onChange:a,caller:Iv});return s.jsx(_ee,{scope:t,triggerRef:l,contentRef:c,contentId:As(),titleId:As(),descriptionId:As(),open:d,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};ML.displayName=Iv;var IL="DialogTrigger",Cee=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ji(IL,r),a=Mt(t,i.triggerRef);return s.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":L_(i.open),...n,ref:a,onClick:Je(e.onClick,i.onOpenToggle)})});Cee.displayName=IL;var F_="DialogPortal",[kee,DL]=RL(F_,{forceMount:void 0}),FL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Ji(F_,t);return s.jsx(kee,{scope:t,forceMount:r,children:w.Children.map(n,o=>s.jsx(cs,{present:r||a.open,children:s.jsx(Td,{asChild:!0,container:i,children:o})}))})};FL.displayName=F_;var nx="DialogOverlay",$L=w.forwardRef((e,t)=>{const r=DL(nx,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ji(nx,e.__scopeDialog);return a.modal?s.jsx(cs,{present:n||a.open,children:s.jsx(Pee,{...i,ref:t})}):null});$L.displayName=nx;var Aee=bee("DialogOverlay.RemoveScroll"),Pee=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ji(nx,r);return s.jsx(bm,{as:Aee,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(xt.div,{"data-state":L_(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),fc="DialogContent",LL=w.forwardRef((e,t)=>{const r=DL(fc,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ji(fc,e.__scopeDialog);return s.jsx(cs,{present:n||a.open,children:a.modal?s.jsx(Oee,{...i,ref:t}):s.jsx(Tee,{...i,ref:t})})});LL.displayName=fc;var Oee=w.forwardRef((e,t)=>{const r=Ji(fc,e.__scopeDialog),n=w.useRef(null),i=Mt(t,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return Mv(a)},[]),s.jsx(BL,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Je(e.onFocusOutside,a=>a.preventDefault())})}),Tee=w.forwardRef((e,t)=>{const r=Ji(fc,e.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return s.jsx(BL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),BL=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Ji(fc,r),c=w.useRef(null),d=Mt(t,c);return Ov(),s.jsxs(s.Fragment,{children:[s.jsx(ym,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Od,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":L_(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ree,{titleId:l.titleId}),s.jsx(Iee,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$_="DialogTitle",zL=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ji($_,r);return s.jsx(xt.h2,{id:i.titleId,...n,ref:t})});zL.displayName=$_;var WL="DialogDescription",UL=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ji(WL,r);return s.jsx(xt.p,{id:i.descriptionId,...n,ref:t})});UL.displayName=WL;var VL="DialogClose",qL=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ji(VL,r);return s.jsx(xt.button,{type:"button",...n,ref:t,onClick:Je(e.onClick,()=>i.onOpenChange(!1))})});qL.displayName=VL;function L_(e){return e?"open":"closed"}var HL="DialogTitleWarning",[Y4e,KL]=ZJ(HL,{contentName:fc,titleName:$_,docsSlug:"dialog"}),Ree=({titleId:e})=>{const t=KL(HL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Mee="DialogDescriptionWarning",Iee=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KL(Mee).contentName}}.`;return w.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},GL=ML,YL=FL,Dv=$L,B_=LL,z_=zL,W_=UL,XL=qL;function QL({...e}){return s.jsx(GL,{"data-slot":"sheet",...e})}function Dee({...e}){return s.jsx(YL,{"data-slot":"sheet-portal",...e})}const JL=w.forwardRef(({className:e,...t},r)=>s.jsx(Dv,{ref:r,"data-slot":"sheet-overlay",className:ut("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));JL.displayName=Dv.displayName;function ZL({className:e,children:t,side:r="right",...n}){return s.jsxs(Dee,{children:[s.jsx(JL,{}),s.jsxs(B_,{"data-slot":"sheet-content",className:ut("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,s.jsxs(XL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(Mr,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Fee({className:e,...t}){return s.jsx("div",{"data-slot":"sheet-header",className:ut("flex flex-col gap-1.5 p-4",e),...t})}function eB({className:e,...t}){return s.jsx(z_,{"data-slot":"sheet-title",className:ut("text-foreground font-semibold",e),...t})}function tB({className:e,...t}){return s.jsx(W_,{"data-slot":"sheet-description",className:ut("text-muted-foreground text-sm",e),...t})}function $ee({:e,:t,mobileMenuOpen:r,setMobileMenuOpen:n,currentUser:i}){const a=i?.isAdmin||!1,o=i?.type==="admin"&&i?.role==="ceo",l=[{id:"",label:"",icon:dQ},...a?[{id:"",label:"",icon:Ot}]:[{id:"",label:"",icon:Ot}],{id:"",label:"",icon:Ns},{id:"",label:"",icon:$t},{id:"",label:"",icon:On},{id:"",label:"",icon:Xo},{id:"",label:"",icon:Z$},{id:"",label:"",icon:rQ},{id:"",label:"",icon:fa},{id:"",label:"",icon:Xs},{id:"",label:"",icon:AX},{id:"",label:"",icon:Zg},...a?[{id:"",label:"-",icon:kn}]:[],...o?[{id:"-",label:" ",icon:kn}]:[]],c=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 border-b border-[#E6E9EE]",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl flex items-center justify-center",children:s.jsx(Qg,{size:20,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#39B7FF]",style:{fontSize:"16px",fontWeight:"700"},children:"H "}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"11px"},children:""})]})]})}),s.jsx("nav",{className:"flex-1 p-4",children:l.map(d=>{const h=d.icon,m=e===d.id;return s.jsxs("button",{onClick:()=>t(d.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl mb-2 transition-all ${m?"bg-[#39B7FF] text-white shadow-lg shadow-[#39B7FF]/30":"text-[#666] hover:bg-gray-50"}`,style:{fontWeight:m?"600":"500"},children:[s.jsx(h,{size:20}),s.jsx("span",{children:d.label})]},d.id)})})]});return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:flex min-h-screen bg-white border-r border-[#E6E9EE] flex-col",style:{width:"220px"},children:c}),s.jsx(QL,{open:r,onOpenChange:n,children:s.jsxs(ZL,{side:"left",className:"p-0 w-[280px]",children:[s.jsx(eB,{className:"sr-only",children:" "}),s.jsx(tB,{className:"sr-only",children:"       "}),s.jsx("div",{className:"flex flex-col h-full bg-white",children:c})]})})]})}function q6(e){const t=Lee(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(zee);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Lee(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=Uee(i),l=Wee(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bee=Symbol("radix.slottable");function zee(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bee}function Wee(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Uee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wm(e){const t=e+"CollectionProvider",[r,n]=ls(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:N}=y,j=Z.useRef(null),E=Z.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:E,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=q6(l),d=Z.forwardRef((y,v)=>{const{scope:N,children:j}=y,E=a(l,N),k=Mt(v,E.collectionRef);return s.jsx(c,{ref:k,children:j})});d.displayName=l;const h=e+"CollectionItemSlot",m="data-radix-collection-item",p=q6(h),x=Z.forwardRef((y,v)=>{const{scope:N,children:j,...E}=y,k=Z.useRef(null),_=Mt(v,k),A=a(h,N);return Z.useEffect(()=>(A.itemMap.set(k,{ref:k,...E}),()=>void A.itemMap.delete(k))),s.jsx(p,{[m]:"",ref:_,children:j})});x.displayName=h;function b(y){const v=a(e+"CollectionConsumer",y);return Z.useCallback(()=>{const j=v.collectionRef.current;if(!j)return[];const E=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((A,T)=>E.indexOf(A.ref.current)-E.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},b,n]}var Vee=w.createContext(void 0);function Rd(e){const t=w.useContext(Vee);return e||t||"ltr"}var Hb="rovingFocusGroup.onEntryFocus",qee={bubbles:!1,cancelable:!0},jm="RovingFocusGroup",[XS,rB,Hee]=wm(jm),[Kee,Fv]=ls(jm,[Hee]),[Gee,Yee]=Kee(jm),nB=w.forwardRef((e,t)=>s.jsx(XS.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(XS.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Xee,{...e,ref:t})})}));nB.displayName=jm;var Xee=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=e,p=w.useRef(null),x=Mt(t,p),b=Rd(a),[y,v]=Os({prop:o,defaultProp:l??null,onChange:c,caller:jm}),[N,j]=w.useState(!1),E=Ki(d),k=rB(r),_=w.useRef(!1),[A,T]=w.useState(0);return w.useEffect(()=>{const D=p.current;if(D)return D.addEventListener(Hb,E),()=>D.removeEventListener(Hb,E)},[E]),s.jsx(Gee,{scope:r,orientation:n,dir:b,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(D=>v(D),[v]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>T(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>T(D=>D-1),[]),children:s.jsx(xt.div,{tabIndex:N||A===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:Je(e.onMouseDown,()=>{_.current=!0}),onFocus:Je(e.onFocus,D=>{const q=!_.current;if(D.target===D.currentTarget&&q&&!N){const K=new CustomEvent(Hb,qee);if(D.currentTarget.dispatchEvent(K),!K.defaultPrevented){const $=k().filter(z=>z.focusable),H=$.find(z=>z.active),W=$.find(z=>z.id===y),M=[H,W,...$].filter(Boolean).map(z=>z.ref.current);aB(M,h)}}_.current=!1}),onBlur:Je(e.onBlur,()=>j(!1))})})}),sB="RovingFocusGroupItem",iB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=As(),d=a||c,h=Yee(sB,r),m=h.currentTabStopId===d,p=rB(r),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:y}=h;return w.useEffect(()=>{if(n)return x(),()=>b()},[n,x,b]),s.jsx(XS.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:s.jsx(xt.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Je(e.onMouseDown,v=>{n?h.onItemFocus(d):v.preventDefault()}),onFocus:Je(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:Je(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const N=Zee(v,h.orientation,h.dir);if(N!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let E=p().filter(k=>k.focusable).map(k=>k.ref.current);if(N==="last")E.reverse();else if(N==="prev"||N==="next"){N==="prev"&&E.reverse();const k=E.indexOf(v.currentTarget);E=h.loop?ete(E,k+1):E.slice(k+1)}setTimeout(()=>aB(E))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:y!=null}):o})})});iB.displayName=sB;var Qee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zee(e,t,r){const n=Jee(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Qee[n]}function aB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ete(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oB=nB,lB=iB,$v="Tabs",[tte]=ls($v,[Fv]),cB=Fv(),[rte,U_]=tte($v),uB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=Rd(l),[m,p]=Os({prop:n,onChange:i,defaultProp:a??"",caller:$v});return s.jsx(rte,{scope:r,baseId:As(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:c,children:s.jsx(xt.div,{dir:h,"data-orientation":o,...d,ref:t})})});uB.displayName=$v;var dB="TabsList",hB=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=U_(dB,r),o=cB(r);return s.jsx(oB,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(xt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});hB.displayName=dB;var fB="TabsTrigger",mB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=U_(fB,r),l=cB(r),c=xB(o.baseId,n),d=vB(o.baseId,n),h=n===o.value;return s.jsx(lB,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(xt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Je(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Je(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Je(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(n)})})})});mB.displayName=fB;var pB="TabsContent",gB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,l=U_(pB,r),c=xB(l.baseId,n),d=vB(l.baseId,n),h=n===l.value,m=w.useRef(h);return w.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(cs,{present:i||h,children:({present:p})=>s.jsx(xt.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&a})})});gB.displayName=pB;function xB(e,t){return`${e}-trigger-${t}`}function vB(e,t){return`${e}-content-${t}`}var nte=uB,ste=hB,ite=mB,ate=gB;function Ni({className:e,...t}){return s.jsx(nte,{"data-slot":"tabs",className:ut("flex flex-col gap-2",e),...t})}function Si({className:e,...t}){return s.jsx(ste,{"data-slot":"tabs-list",className:ut("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Dt({className:e,...t}){return s.jsx(ite,{"data-slot":"tabs-trigger",className:ut("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Vt({className:e,...t}){return s.jsx(ate,{"data-slot":"tabs-content",className:ut("flex-1 outline-none",e),...t})}function ote(e,t=[]){let r=[];function n(a,o){const l=w.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=m=>{const{scope:p,children:x,...b}=m,y=p?.[e]?.[c]||l,v=w.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:v,children:x})};d.displayName=a+"Provider";function h(m,p){const x=p?.[e]?.[c]||l,b=w.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=l?.[e]||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,lte(i,...t)]}function lte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var cte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yB=cte.reduce((e,t)=>{const r=_v(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),V_="Progress",q_=100,[ute]=ote(V_),[dte,hte]=ute(V_),bB=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=fte,...o}=e;(i||i===0)&&!H6(i)&&console.error(mte(`${i}`,"Progress"));const l=H6(i)?i:q_;n!==null&&!K6(n,l)&&console.error(pte(`${n}`,"Progress"));const c=K6(n,l)?n:null,d=sx(c)?a(c,l):void 0;return s.jsx(dte,{scope:r,value:c,max:l,children:s.jsx(yB.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":sx(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":NB(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});bB.displayName=V_;var wB="ProgressIndicator",jB=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=hte(wB,r);return s.jsx(yB.div,{"data-state":NB(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});jB.displayName=wB;function fte(e,t){return`${Math.round(e/t*100)}%`}function NB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sx(e){return typeof e=="number"}function H6(e){return sx(e)&&!isNaN(e)&&e>0}function K6(e,t){return sx(e)&&!isNaN(e)&&e<=t&&e>=0}function mte(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${q_}\`.`}function pte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${q_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gte=bB,xte=jB;function xf({className:e,value:t,...r}){return s.jsx(gte,{"data-slot":"progress",className:ut("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:s.jsx(xte,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const vte=["top","right","bottom","left"],nl=Math.min,qs=Math.max,ix=Math.round,ig=Math.floor,ma=e=>({x:e,y:e}),yte={left:"right",right:"left",bottom:"top",top:"bottom"},bte={start:"end",end:"start"};function QS(e,t,r){return qs(e,nl(t,r))}function ro(e,t){return typeof e=="function"?e(t):e}function no(e){return e.split("-")[0]}function Md(e){return e.split("-")[1]}function H_(e){return e==="x"?"y":"x"}function K_(e){return e==="y"?"height":"width"}const wte=new Set(["top","bottom"]);function ca(e){return wte.has(no(e))?"y":"x"}function G_(e){return H_(ca(e))}function jte(e,t,r){r===void 0&&(r=!1);const n=Md(e),i=G_(e),a=K_(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ax(o)),[o,ax(o)]}function Nte(e){const t=ax(e);return[JS(e),t,JS(t)]}function JS(e){return e.replace(/start|end/g,t=>bte[t])}const G6=["left","right"],Y6=["right","left"],Ste=["top","bottom"],Ete=["bottom","top"];function _te(e,t,r){switch(e){case"top":case"bottom":return r?t?Y6:G6:t?G6:Y6;case"left":case"right":return t?Ste:Ete;default:return[]}}function Cte(e,t,r,n){const i=Md(e);let a=_te(no(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(JS)))),a}function ax(e){return e.replace(/left|right|bottom|top/g,t=>yte[t])}function kte(e){return{top:0,right:0,bottom:0,left:0,...e}}function SB(e){return typeof e!="number"?kte(e):{top:e,right:e,bottom:e,left:e}}function ox(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function X6(e,t,r){let{reference:n,floating:i}=e;const a=ca(t),o=G_(t),l=K_(o),c=no(t),d=a==="y",h=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,p=n[l]/2-i[l]/2;let x;switch(c){case"top":x={x:h,y:n.y-i.height};break;case"bottom":x={x:h,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:m};break;case"left":x={x:n.x-i.width,y:m};break;default:x={x:n.x,y:n.y}}switch(Md(t)){case"start":x[o]-=p*(r&&d?-1:1);break;case"end":x[o]+=p*(r&&d?-1:1);break}return x}const Ate=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=X6(d,n,c),p=n,x={},b=0;for(let y=0;y<l.length;y++){const{name:v,fn:N}=l[y],{x:j,y:E,data:k,reset:_}=await N({x:h,y:m,initialPlacement:n,placement:p,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});h=j??h,m=E??m,x={...x,[v]:{...x[v],...k}},_&&b<=50&&(b++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:h,y:m}=X6(d,p,c)),y=-1)}return{x:h,y:m,placement:p,strategy:i,middlewareData:x}};async function vf(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:x=0}=ro(t,e),b=SB(x),v=l[p?m==="floating"?"reference":"floating":m],N=ox(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),j=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),k=await(a.isElement==null?void 0:a.isElement(E))?await(a.getScale==null?void 0:a.getScale(E))||{x:1,y:1}:{x:1,y:1},_=ox(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:E,strategy:c}):j);return{top:(N.top-_.top+b.top)/k.y,bottom:(_.bottom-N.bottom+b.bottom)/k.y,left:(N.left-_.left+b.left)/k.x,right:(_.right-N.right+b.right)/k.x}}const Pte=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=ro(e,t)||{};if(d==null)return{};const m=SB(h),p={x:r,y:n},x=G_(i),b=K_(x),y=await o.getDimensions(d),v=x==="y",N=v?"top":"left",j=v?"bottom":"right",E=v?"clientHeight":"clientWidth",k=a.reference[b]+a.reference[x]-p[x]-a.floating[b],_=p[x]-a.reference[x],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=A?A[E]:0;(!T||!await(o.isElement==null?void 0:o.isElement(A)))&&(T=l.floating[E]||a.floating[b]);const D=k/2-_/2,q=T/2-y[b]/2-1,K=nl(m[N],q),$=nl(m[j],q),H=K,W=T-y[b]-$,B=T/2-y[b]/2+D,M=QS(H,B,W),z=!c.arrow&&Md(i)!=null&&B!==M&&a.reference[b]/2-(B<H?K:$)-y[b]/2<0,P=z?B<H?B-H:B-W:0;return{[x]:p[x]+P,data:{[x]:M,centerOffset:B-M-P,...z&&{alignmentOffset:P}},reset:z}}}),Ote=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...v}=ro(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=no(i),j=ca(l),E=no(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=p||(E||!y?[ax(l)]:Nte(l)),A=b!=="none";!p&&A&&_.push(...Cte(l,y,b,k));const T=[l,..._],D=await vf(t,v),q=[];let K=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&q.push(D[N]),m){const B=jte(i,o,k);q.push(D[B[0]],D[B[1]])}if(K=[...K,{placement:i,overflows:q}],!q.every(B=>B<=0)){var $,H;const B=((($=a.flip)==null?void 0:$.index)||0)+1,M=T[B];if(M&&(!(m==="alignment"?j!==ca(M):!1)||K.every(C=>ca(C.placement)===j?C.overflows[0]>0:!0)))return{data:{index:B,overflows:K},reset:{placement:M}};let z=(H=K.filter(P=>P.overflows[0]<=0).sort((P,C)=>P.overflows[1]-C.overflows[1])[0])==null?void 0:H.placement;if(!z)switch(x){case"bestFit":{var W;const P=(W=K.filter(C=>{if(A){const L=ca(C.placement);return L===j||L==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((C,L)=>C[1]-L[1])[0])==null?void 0:W[0];P&&(z=P);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function Q6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function J6(e){return vte.some(t=>e[t]>=0)}const Tte=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=ro(e,t);switch(n){case"referenceHidden":{const a=await vf(t,{...i,elementContext:"reference"}),o=Q6(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:J6(o)}}}case"escaped":{const a=await vf(t,{...i,altBoundary:!0}),o=Q6(a,r.floating);return{data:{escapedOffsets:o,escaped:J6(o)}}}default:return{}}}}},EB=new Set(["left","top"]);async function Rte(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=no(r),l=Md(r),c=ca(r)==="y",d=EB.has(o)?-1:1,h=a&&c?-1:1,m=ro(t,e);let{mainAxis:p,crossAxis:x,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),c?{x:x*h,y:p*d}:{x:p*d,y:x*h}}const Mte=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Rte(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Ite=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:N,y:j}=v;return{x:N,y:j}}},...c}=ro(e,t),d={x:r,y:n},h=await vf(t,c),m=ca(no(i)),p=H_(m);let x=d[p],b=d[m];if(a){const v=p==="y"?"top":"left",N=p==="y"?"bottom":"right",j=x+h[v],E=x-h[N];x=QS(j,x,E)}if(o){const v=m==="y"?"top":"left",N=m==="y"?"bottom":"right",j=b+h[v],E=b-h[N];b=QS(j,b,E)}const y=l.fn({...t,[p]:x,[m]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:a,[m]:o}}}}}},Dte=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ro(e,t),h={x:r,y:n},m=ca(i),p=H_(m);let x=h[p],b=h[m];const y=ro(l,t),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const E=p==="y"?"height":"width",k=a.reference[p]-a.floating[E]+v.mainAxis,_=a.reference[p]+a.reference[E]-v.mainAxis;x<k?x=k:x>_&&(x=_)}if(d){var N,j;const E=p==="y"?"width":"height",k=EB.has(no(i)),_=a.reference[m]-a.floating[E]+(k&&((N=o.offset)==null?void 0:N[m])||0)+(k?0:v.crossAxis),A=a.reference[m]+a.reference[E]+(k?0:((j=o.offset)==null?void 0:j[m])||0)-(k?v.crossAxis:0);b<_?b=_:b>A&&(b=A)}return{[p]:x,[m]:b}}}},Fte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ro(e,t),h=await vf(t,d),m=no(i),p=Md(i),x=ca(i)==="y",{width:b,height:y}=a.floating;let v,N;m==="top"||m==="bottom"?(v=m,N=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=m,v=p==="end"?"top":"bottom");const j=y-h.top-h.bottom,E=b-h.left-h.right,k=nl(y-h[v],j),_=nl(b-h[N],E),A=!t.middlewareData.shift;let T=k,D=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=j),A&&!p){const K=qs(h.left,0),$=qs(h.right,0),H=qs(h.top,0),W=qs(h.bottom,0);x?D=b-2*(K!==0||$!==0?K+$:qs(h.left,h.right)):T=y-2*(H!==0||W!==0?H+W:qs(h.top,h.bottom))}await c({...t,availableWidth:D,availableHeight:T});const q=await o.getDimensions(l.floating);return b!==q.width||y!==q.height?{reset:{rects:!0}}:{}}}};function Lv(){return typeof window<"u"}function Id(e){return _B(e)?(e.nodeName||"").toLowerCase():"#document"}function Zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sa(e){var t;return(t=(_B(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _B(e){return Lv()?e instanceof Node||e instanceof Zs(e).Node:!1}function Gi(e){return Lv()?e instanceof Element||e instanceof Zs(e).Element:!1}function ya(e){return Lv()?e instanceof HTMLElement||e instanceof Zs(e).HTMLElement:!1}function Z6(e){return!Lv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zs(e).ShadowRoot}const $te=new Set(["inline","contents"]);function Nm(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Yi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!$te.has(i)}const Lte=new Set(["table","td","th"]);function Bte(e){return Lte.has(Id(e))}const zte=[":popover-open",":modal"];function Bv(e){return zte.some(t=>{try{return e.matches(t)}catch{return!1}})}const Wte=["transform","translate","scale","rotate","perspective"],Ute=["transform","translate","scale","rotate","perspective","filter"],Vte=["paint","layout","strict","content"];function Y_(e){const t=X_(),r=Gi(e)?Yi(e):e;return Wte.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Ute.some(n=>(r.willChange||"").includes(n))||Vte.some(n=>(r.contain||"").includes(n))}function qte(e){let t=sl(e);for(;ya(t)&&!Yu(t);){if(Y_(t))return t;if(Bv(t))return null;t=sl(t)}return null}function X_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hte=new Set(["html","body","#document"]);function Yu(e){return Hte.has(Id(e))}function Yi(e){return Zs(e).getComputedStyle(e)}function zv(e){return Gi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sl(e){if(Id(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Z6(e)&&e.host||Sa(e);return Z6(t)?t.host:t}function CB(e){const t=sl(e);return Yu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ya(t)&&Nm(t)?t:CB(t)}function yf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=CB(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Zs(i);if(a){const l=ZS(o);return t.concat(o,o.visualViewport||[],Nm(i)?i:[],l&&r?yf(l):[])}return t.concat(i,yf(i,[],r))}function ZS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kB(e){const t=Yi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ya(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=ix(r)!==a||ix(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Q_(e){return Gi(e)?e:e.contextElement}function Du(e){const t=Q_(e);if(!ya(t))return ma(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=kB(t);let o=(a?ix(r.width):r.width)/n,l=(a?ix(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Kte=ma(0);function AB(e){const t=Zs(e);return!X_()||!t.visualViewport?Kte:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gte(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zs(e)?!1:t}function mc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=Q_(e);let o=ma(1);t&&(n?Gi(n)&&(o=Du(n)):o=Du(e));const l=Gte(a,r,n)?AB(a):ma(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,m=i.height/o.y;if(a){const p=Zs(a),x=n&&Gi(n)?Zs(n):n;let b=p,y=ZS(b);for(;y&&n&&x!==b;){const v=Du(y),N=y.getBoundingClientRect(),j=Yi(y),E=N.left+(y.clientLeft+parseFloat(j.paddingLeft))*v.x,k=N.top+(y.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,d*=v.y,h*=v.x,m*=v.y,c+=E,d+=k,b=Zs(y),y=ZS(b)}}return ox({width:h,height:m,x:c,y:d})}function Wv(e,t){const r=zv(e).scrollLeft;return t?t.left+r:mc(Sa(e)).left+r}function PB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Wv(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Yte(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=Sa(n),l=t?Bv(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=ma(1);const h=ma(0),m=ya(n);if((m||!m&&!a)&&((Id(n)!=="body"||Nm(o))&&(c=zv(n)),ya(n))){const x=mc(n);d=Du(n),h.x=x.x+n.clientLeft,h.y=x.y+n.clientTop}const p=o&&!m&&!a?PB(o,c):ma(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:r.y*d.y-c.scrollTop*d.y+h.y+p.y}}function Xte(e){return Array.from(e.getClientRects())}function Qte(e){const t=Sa(e),r=zv(e),n=e.ownerDocument.body,i=qs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=qs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Wv(e);const l=-r.scrollTop;return Yi(n).direction==="rtl"&&(o+=qs(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const eT=25;function Jte(e,t){const r=Zs(e),n=Sa(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const h=X_();(!h||h&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=Wv(n);if(d<=0){const h=n.ownerDocument,m=h.body,p=getComputedStyle(m),x=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(n.clientWidth-m.clientWidth-x);b<=eT&&(a-=b)}else d<=eT&&(a+=d);return{width:a,height:o,x:l,y:c}}const Zte=new Set(["absolute","fixed"]);function ere(e,t){const r=mc(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ya(e)?Du(e):ma(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function tT(e,t,r){let n;if(t==="viewport")n=Jte(e,r);else if(t==="document")n=Qte(Sa(e));else if(Gi(t))n=ere(t,r);else{const i=AB(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ox(n)}function OB(e,t){const r=sl(e);return r===t||!Gi(r)||Yu(r)?!1:Yi(r).position==="fixed"||OB(r,t)}function tre(e,t){const r=t.get(e);if(r)return r;let n=yf(e,[],!1).filter(l=>Gi(l)&&Id(l)!=="body"),i=null;const a=Yi(e).position==="fixed";let o=a?sl(e):e;for(;Gi(o)&&!Yu(o);){const l=Yi(o),c=Y_(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&Zte.has(i.position)||Nm(o)&&!c&&OB(e,o))?n=n.filter(h=>h!==o):i=l,o=sl(o)}return t.set(e,n),n}function rre(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Bv(t)?[]:tre(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,h)=>{const m=tT(t,h,i);return d.top=qs(m.top,d.top),d.right=nl(m.right,d.right),d.bottom=nl(m.bottom,d.bottom),d.left=qs(m.left,d.left),d},tT(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nre(e){const{width:t,height:r}=kB(e);return{width:t,height:r}}function sre(e,t,r){const n=ya(t),i=Sa(t),a=r==="fixed",o=mc(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ma(0);function d(){c.x=Wv(i)}if(n||!n&&!a)if((Id(t)!=="body"||Nm(i))&&(l=zv(t)),n){const x=mc(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&d();a&&!n&&i&&d();const h=i&&!n&&!a?PB(i,l):ma(0),m=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:m,y:p,width:o.width,height:o.height}}function Kb(e){return Yi(e).position==="static"}function rT(e,t){if(!ya(e)||Yi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Sa(e)===r&&(r=r.ownerDocument.body),r}function TB(e,t){const r=Zs(e);if(Bv(e))return r;if(!ya(e)){let i=sl(e);for(;i&&!Yu(i);){if(Gi(i)&&!Kb(i))return i;i=sl(i)}return r}let n=rT(e,t);for(;n&&Bte(n)&&Kb(n);)n=rT(n,t);return n&&Yu(n)&&Kb(n)&&!Y_(n)?r:n||qte(e)||r}const ire=async function(e){const t=this.getOffsetParent||TB,r=this.getDimensions,n=await r(e.floating);return{reference:sre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function are(e){return Yi(e).direction==="rtl"}const ore={convertOffsetParentRelativeRectToViewportRelativeRect:Yte,getDocumentElement:Sa,getClippingRect:rre,getOffsetParent:TB,getElementRects:ire,getClientRects:Xte,getDimensions:nre,getScale:Du,isElement:Gi,isRTL:are};function RB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lre(e,t){let r=null,n;const i=Sa(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:m,width:p,height:x}=d;if(l||t(),!p||!x)return;const b=ig(m),y=ig(i.clientWidth-(h+p)),v=ig(i.clientHeight-(m+x)),N=ig(h),E={rootMargin:-b+"px "+-y+"px "+-v+"px "+-N+"px",threshold:qs(0,nl(1,c))||1};let k=!0;function _(A){const T=A[0].intersectionRatio;if(T!==c){if(!k)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!RB(d,e.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(_,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,E)}r.observe(e)}return o(!0),a}function cre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Q_(e),h=i||a?[...d?yf(d):[],...yf(t)]:[];h.forEach(N=>{i&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const m=d&&l?lre(d,r):null;let p=-1,x=null;o&&(x=new ResizeObserver(N=>{let[j]=N;j&&j.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=x)==null||E.observe(t)})),r()}),d&&!c&&x.observe(d),x.observe(t));let b,y=c?mc(e):null;c&&v();function v(){const N=mc(e);y&&!RB(y,N)&&r(),y=N,b=requestAnimationFrame(v)}return r(),()=>{var N;h.forEach(j=>{i&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),m?.(),(N=x)==null||N.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const ure=Mte,dre=Ite,hre=Ote,fre=Fte,mre=Tte,nT=Pte,pre=Dte,gre=(e,t,r)=>{const n=new Map,i={platform:ore,...r},a={...i.platform,_c:n};return Ate(e,t,{...i,platform:a})};var xre=typeof document<"u",vre=function(){},Wg=xre?w.useLayoutEffect:vre;function lx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!lx(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!lx(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function MB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sT(e,t){const r=MB(e);return Math.round(t*r)/r}function Gb(e){const t=w.useRef(e);return Wg(()=>{t.current=e}),t}function yre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,m]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=w.useState(n);lx(p,n)||x(n);const[b,y]=w.useState(null),[v,N]=w.useState(null),j=w.useCallback(C=>{C!==A.current&&(A.current=C,y(C))},[]),E=w.useCallback(C=>{C!==T.current&&(T.current=C,N(C))},[]),k=a||b,_=o||v,A=w.useRef(null),T=w.useRef(null),D=w.useRef(h),q=c!=null,K=Gb(c),$=Gb(i),H=Gb(d),W=w.useCallback(()=>{if(!A.current||!T.current)return;const C={placement:t,strategy:r,middleware:p};$.current&&(C.platform=$.current),gre(A.current,T.current,C).then(L=>{const U={...L,isPositioned:H.current!==!1};B.current&&!lx(D.current,U)&&(D.current=U,Ad.flushSync(()=>{m(U)}))})},[p,t,r,$,H]);Wg(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(C=>({...C,isPositioned:!1})))},[d]);const B=w.useRef(!1);Wg(()=>(B.current=!0,()=>{B.current=!1}),[]),Wg(()=>{if(k&&(A.current=k),_&&(T.current=_),k&&_){if(K.current)return K.current(k,_,W);W()}},[k,_,W,K,q]);const M=w.useMemo(()=>({reference:A,floating:T,setReference:j,setFloating:E}),[j,E]),z=w.useMemo(()=>({reference:k,floating:_}),[k,_]),P=w.useMemo(()=>{const C={position:r,left:0,top:0};if(!z.floating)return C;const L=sT(z.floating,h.x),U=sT(z.floating,h.y);return l?{...C,transform:"translate("+L+"px, "+U+"px)",...MB(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:U}},[r,l,z.floating,h.x,h.y]);return w.useMemo(()=>({...h,update:W,refs:M,elements:z,floatingStyles:P}),[h,W,M,z,P])}const bre=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?nT({element:n.current,padding:i}).fn(r):{}:n?nT({element:n,padding:i}).fn(r):{}}}},wre=(e,t)=>({...ure(e),options:[e,t]}),jre=(e,t)=>({...dre(e),options:[e,t]}),Nre=(e,t)=>({...pre(e),options:[e,t]}),Sre=(e,t)=>({...hre(e),options:[e,t]}),Ere=(e,t)=>({...fre(e),options:[e,t]}),_re=(e,t)=>({...mre(e),options:[e,t]}),Cre=(e,t)=>({...bre(e),options:[e,t]});var kre="Arrow",IB=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(xt.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});IB.displayName=kre;var Are=IB;function Uv(e){const[t,r]=w.useState(void 0);return Qr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var J_="Popper",[DB,ll]=ls(J_),[Pre,FB]=DB(J_),$B=e=>{const{__scopePopper:t,children:r}=e,[n,i]=w.useState(null);return s.jsx(Pre,{scope:t,anchor:n,onAnchorChange:i,children:r})};$B.displayName=J_;var LB="PopperAnchor",BB=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=FB(LB,r),o=w.useRef(null),l=Mt(t,o),c=w.useRef(null);return w.useEffect(()=>{const d=c.current;c.current=n?.current||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(xt.div,{...i,ref:l})});BB.displayName=LB;var Z_="PopperContent",[Ore,Tre]=DB(Z_),zB=w.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:b,...y}=e,v=FB(Z_,r),[N,j]=w.useState(null),E=Mt(t,ae=>j(ae)),[k,_]=w.useState(null),A=Uv(k),T=A?.width??0,D=A?.height??0,q=n+(a!=="center"?"-"+a:""),K=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(d)?d:[d],H=$.length>0,W={padding:K,boundary:$.filter(Mre),altBoundary:H},{refs:B,floatingStyles:M,placement:z,isPositioned:P,middlewareData:C}=yre({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>cre(...ae,{animationFrame:x==="always"}),elements:{reference:v.anchor},middleware:[wre({mainAxis:i+D,alignmentAxis:o}),c&&jre({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Nre():void 0,...W}),c&&Sre({...W}),Ere({...W,apply:({elements:ae,rects:ue,availableWidth:pe,availableHeight:ee})=>{const{width:xe,height:X}=ue.reference,fe=ae.floating.style;fe.setProperty("--radix-popper-available-width",`${pe}px`),fe.setProperty("--radix-popper-available-height",`${ee}px`),fe.setProperty("--radix-popper-anchor-width",`${xe}px`),fe.setProperty("--radix-popper-anchor-height",`${X}px`)}}),k&&Cre({element:k,padding:l}),Ire({arrowWidth:T,arrowHeight:D}),p&&_re({strategy:"referenceHidden",...W})]}),[L,U]=VB(z),R=Ki(b);Qr(()=>{P&&R?.()},[P,R]);const I=C.arrow?.x,V=C.arrow?.y,re=C.arrow?.centerOffset!==0,[ce,me]=w.useState();return Qr(()=>{N&&me(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:P?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[C.transformOrigin?.x,C.transformOrigin?.y].join(" "),...C.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Ore,{scope:r,placedSide:L,onArrowChange:_,arrowX:I,arrowY:V,shouldHideArrow:re,children:s.jsx(xt.div,{"data-side":L,"data-align":U,...y,ref:E,style:{...y.style,animation:P?void 0:"none"}})})})});zB.displayName=Z_;var WB="PopperArrow",Rre={top:"bottom",right:"left",bottom:"top",left:"right"},UB=w.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Tre(WB,n),o=Rre[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Are,{...i,ref:r,style:{...i.style,display:"block"}})})});UB.displayName=WB;function Mre(e){return e!==null}var Ire=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=VB(r),m={start:"0%",center:"50%",end:"100%"}[h],p=(i.arrow?.x??0)+l/2,x=(i.arrow?.y??0)+c/2;let b="",y="";return d==="bottom"?(b=o?m:`${p}px`,y=`${-c}px`):d==="top"?(b=o?m:`${p}px`,y=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,y=o?m:`${x}px`):d==="left"&&(b=`${n.floating.width+c}px`,y=o?m:`${x}px`),{data:{x:b,y}}}});function VB(e){const[t,r="center"]=e.split("-");return[t,r]}var Vv=$B,Sm=BB,qv=zB,Hv=UB,Dre=Symbol("radix.slottable");function Fre(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Dre,t}var qB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$re="VisuallyHidden",HB=w.forwardRef((e,t)=>s.jsx(xt.span,{...e,ref:t,style:{...qB,...e.style}}));HB.displayName=$re;var Lre=HB,[Kv]=ls("Tooltip",[ll]),Gv=ll(),KB="TooltipProvider",Bre=700,e2="tooltip.open",[zre,eC]=Kv(KB),GB=e=>{const{__scopeTooltip:t,delayDuration:r=Bre,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),l=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(zre,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};GB.displayName=KB;var bf="Tooltip",[Wre,Em]=Kv(bf),YB=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=eC(bf,e.__scopeTooltip),d=Gv(t),[h,m]=w.useState(null),p=As(),x=w.useRef(0),b=o??c.disableHoverableContent,y=l??c.delayDuration,v=w.useRef(!1),[N,j]=Os({prop:n,defaultProp:i??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(e2))):c.onClose(),a?.(T)},caller:bf}),E=w.useMemo(()=>N?v.current?"delayed-open":"instant-open":"closed",[N]),k=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,v.current=!1,j(!0)},[j]),_=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j(!1)},[j]),A=w.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{v.current=!0,j(!0),x.current=0},y)},[y,j]);return w.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(Vv,{...d,children:s.jsx(Wre,{scope:t,contentId:p,open:N,stateAttribute:E,trigger:h,onTriggerChange:m,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?A():k()},[c.isOpenDelayedRef,A,k]),onTriggerLeave:w.useCallback(()=>{b?_():(window.clearTimeout(x.current),x.current=0)},[_,b]),onOpen:k,onClose:_,disableHoverableContent:b,children:r})})};YB.displayName=bf;var t2="TooltipTrigger",XB=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Em(t2,r),a=eC(t2,r),o=Gv(r),l=w.useRef(null),c=Mt(t,l,i.onTriggerChange),d=w.useRef(!1),h=w.useRef(!1),m=w.useCallback(()=>d.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Sm,{asChild:!0,...o,children:s.jsx(xt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Je(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Je(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Je(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Je(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Je(e.onBlur,i.onClose),onClick:Je(e.onClick,i.onClose)})})});XB.displayName=t2;var tC="TooltipPortal",[Ure,Vre]=Kv(tC,{forceMount:void 0}),QB=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:i}=e,a=Em(tC,t);return s.jsx(Ure,{scope:t,forceMount:r,children:s.jsx(cs,{present:r||a.open,children:s.jsx(Td,{asChild:!0,container:i,children:n})})})};QB.displayName=tC;var Xu="TooltipContent",JB=w.forwardRef((e,t)=>{const r=Vre(Xu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=Em(Xu,e.__scopeTooltip);return s.jsx(cs,{present:n||o.open,children:o.disableHoverableContent?s.jsx(ZB,{side:i,...a,ref:t}):s.jsx(qre,{side:i,...a,ref:t})})}),qre=w.forwardRef((e,t)=>{const r=Em(Xu,e.__scopeTooltip),n=eC(Xu,e.__scopeTooltip),i=w.useRef(null),a=Mt(t,i),[o,l]=w.useState(null),{trigger:c,onClose:d}=r,h=i.current,{onPointerInTransitChange:m}=n,p=w.useCallback(()=>{l(null),m(!1)},[m]),x=w.useCallback((b,y)=>{const v=b.currentTarget,N={x:b.clientX,y:b.clientY},j=Yre(N,v.getBoundingClientRect()),E=Xre(N,j),k=Qre(y.getBoundingClientRect()),_=Zre([...E,...k]);l(_),m(!0)},[m]);return w.useEffect(()=>()=>p(),[p]),w.useEffect(()=>{if(c&&h){const b=v=>x(v,h),y=v=>x(v,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",y)}}},[c,h,x,p]),w.useEffect(()=>{if(o){const b=y=>{const v=y.target,N={x:y.clientX,y:y.clientY},j=c?.contains(v)||h?.contains(v),E=!Jre(N,o);j?p():E&&(p(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,d,p]),s.jsx(ZB,{...e,ref:a})}),[Hre,Kre]=Kv(bf,{isInside:!1}),Gre=Fre("TooltipContent"),ZB=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Em(Xu,r),d=Gv(r),{onClose:h}=c;return w.useEffect(()=>(document.addEventListener(e2,h),()=>document.removeEventListener(e2,h)),[h]),w.useEffect(()=>{if(c.trigger){const m=p=>{p.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),s.jsx(Od,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:s.jsxs(qv,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Gre,{children:n}),s.jsx(Hre,{scope:r,isInside:!0,children:s.jsx(Lre,{id:c.contentId,role:"tooltip",children:i||n})})]})})});JB.displayName=Xu;var ez="TooltipArrow",tz=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Gv(r);return Kre(ez,r).isInside?null:s.jsx(Hv,{...i,...n,ref:t})});tz.displayName=ez;function Yre(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Xre(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Qre(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Jre(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,h=l.y,m=c.x,p=c.y;h>n!=p>n&&r<(m-d)*(n-h)/(p-h)+d&&(i=!i)}return i}function Zre(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ene(t)}function ene(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var tne=GB,rne=YB,nne=XB,sne=QB,ine=JB,ane=tz;function Va({delayDuration:e=0,...t}){return s.jsx(tne,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function qo({...e}){return s.jsx(Va,{children:s.jsx(rne,{"data-slot":"tooltip",...e})})}function Ho({...e}){return s.jsx(nne,{"data-slot":"tooltip-trigger",...e})}function Ko({className:e,sideOffset:t=0,children:r,...n}){return s.jsx(sne,{children:s.jsxs(ine,{"data-slot":"tooltip-content",sideOffset:t,className:ut("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[r,s.jsx(ane,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var Yb,iT;function Ts(){if(iT)return Yb;iT=1;var e=Array.isArray;return Yb=e,Yb}var Xb,aT;function rz(){if(aT)return Xb;aT=1;var e=typeof Yp=="object"&&Yp&&Yp.Object===Object&&Yp;return Xb=e,Xb}var Qb,oT;function Ea(){if(oT)return Qb;oT=1;var e=rz(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Qb=r,Qb}var Jb,lT;function _m(){if(lT)return Jb;lT=1;var e=Ea(),t=e.Symbol;return Jb=t,Jb}var Zb,cT;function one(){if(cT)return Zb;cT=1;var e=_m(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(l?o[i]=c:delete o[i]),h}return Zb=a,Zb}var ew,uT;function lne(){if(uT)return ew;uT=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return ew=r,ew}var tw,dT;function co(){if(dT)return tw;dT=1;var e=_m(),t=one(),r=lne(),n="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?t(l):r(l)}return tw=o,tw}var rw,hT;function uo(){if(hT)return rw;hT=1;function e(t){return t!=null&&typeof t=="object"}return rw=e,rw}var nw,fT;function Dd(){if(fT)return nw;fT=1;var e=co(),t=uo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return nw=n,nw}var sw,mT;function rC(){if(mT)return sw;mT=1;var e=Ts(),t=Dd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return sw=i,sw}var iw,pT;function cl(){if(pT)return iw;pT=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return iw=e,iw}var aw,gT;function nC(){if(gT)return aw;gT=1;var e=co(),t=cl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==i||c==r||c==a}return aw=o,aw}var ow,xT;function cne(){if(xT)return ow;xT=1;var e=Ea(),t=e["__core-js_shared__"];return ow=t,ow}var lw,vT;function une(){if(vT)return lw;vT=1;var e=cne(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return lw=r,lw}var cw,yT;function nz(){if(yT)return cw;yT=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return cw=r,cw}var uw,bT;function dne(){if(bT)return uw;bT=1;var e=nC(),t=une(),r=cl(),n=nz(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||t(p))return!1;var x=e(p)?h:a;return x.test(n(p))}return uw=m,uw}var dw,wT;function hne(){if(wT)return dw;wT=1;function e(t,r){return t?.[r]}return dw=e,dw}var hw,jT;function Ec(){if(jT)return hw;jT=1;var e=dne(),t=hne();function r(n,i){var a=t(n,i);return e(a)?a:void 0}return hw=r,hw}var fw,NT;function Yv(){if(NT)return fw;NT=1;var e=Ec(),t=e(Object,"create");return fw=t,fw}var mw,ST;function fne(){if(ST)return mw;ST=1;var e=Yv();function t(){this.__data__=e?e(null):{},this.size=0}return mw=t,mw}var pw,ET;function mne(){if(ET)return pw;ET=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return pw=e,pw}var gw,_T;function pne(){if(_T)return gw;_T=1;var e=Yv(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(e){var l=o[a];return l===t?void 0:l}return n.call(o,a)?o[a]:void 0}return gw=i,gw}var xw,CT;function gne(){if(CT)return xw;CT=1;var e=Yv(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var a=this.__data__;return e?a[i]!==void 0:r.call(a,i)}return xw=n,xw}var vw,kT;function xne(){if(kT)return vw;kT=1;var e=Yv(),t="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=e&&i===void 0?t:i,this}return vw=r,vw}var yw,AT;function vne(){if(AT)return yw;AT=1;var e=fne(),t=mne(),r=pne(),n=gne(),i=xne();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,yw=a,yw}var bw,PT;function yne(){if(PT)return bw;PT=1;function e(){this.__data__=[],this.size=0}return bw=e,bw}var ww,OT;function sC(){if(OT)return ww;OT=1;function e(t,r){return t===r||t!==t&&r!==r}return ww=e,ww}var jw,TT;function Xv(){if(TT)return jw;TT=1;var e=sC();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return jw=t,jw}var Nw,RT;function bne(){if(RT)return Nw;RT=1;var e=Xv(),t=Array.prototype,r=t.splice;function n(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return Nw=n,Nw}var Sw,MT;function wne(){if(MT)return Sw;MT=1;var e=Xv();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Sw=t,Sw}var Ew,IT;function jne(){if(IT)return Ew;IT=1;var e=Xv();function t(r){return e(this.__data__,r)>-1}return Ew=t,Ew}var _w,DT;function Nne(){if(DT)return _w;DT=1;var e=Xv();function t(r,n){var i=this.__data__,a=e(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return _w=t,_w}var Cw,FT;function Qv(){if(FT)return Cw;FT=1;var e=yne(),t=bne(),r=wne(),n=jne(),i=Nne();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Cw=a,Cw}var kw,$T;function iC(){if($T)return kw;$T=1;var e=Ec(),t=Ea(),r=e(t,"Map");return kw=r,kw}var Aw,LT;function Sne(){if(LT)return Aw;LT=1;var e=vne(),t=Qv(),r=iC();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Aw=n,Aw}var Pw,BT;function Ene(){if(BT)return Pw;BT=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Pw=e,Pw}var Ow,zT;function Jv(){if(zT)return Ow;zT=1;var e=Ene();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ow=t,Ow}var Tw,WT;function _ne(){if(WT)return Tw;WT=1;var e=Jv();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Tw=t,Tw}var Rw,UT;function Cne(){if(UT)return Rw;UT=1;var e=Jv();function t(r){return e(this,r).get(r)}return Rw=t,Rw}var Mw,VT;function kne(){if(VT)return Mw;VT=1;var e=Jv();function t(r){return e(this,r).has(r)}return Mw=t,Mw}var Iw,qT;function Ane(){if(qT)return Iw;qT=1;var e=Jv();function t(r,n){var i=e(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Iw=t,Iw}var Dw,HT;function aC(){if(HT)return Dw;HT=1;var e=Sne(),t=_ne(),r=Cne(),n=kne(),i=Ane();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Dw=a,Dw}var Fw,KT;function sz(){if(KT)return Fw;KT=1;var e=aC(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return a.cache=c.set(l,d)||c,d};return a.cache=new(r.Cache||e),a}return r.Cache=e,Fw=r,Fw}var $w,GT;function Pne(){if(GT)return $w;GT=1;var e=sz(),t=500;function r(n){var i=e(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return $w=r,$w}var Lw,YT;function One(){if(YT)return Lw;YT=1;var e=Pne(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,l,c,d){a.push(c?d.replace(r,"$1"):l||o)}),a});return Lw=n,Lw}var Bw,XT;function oC(){if(XT)return Bw;XT=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=r(t[n],n,t);return a}return Bw=e,Bw}var zw,QT;function Tne(){if(QT)return zw;QT=1;var e=_m(),t=oC(),r=Ts(),n=Dd(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return zw=o,zw}var Ww,JT;function iz(){if(JT)return Ww;JT=1;var e=Tne();function t(r){return r==null?"":e(r)}return Ww=t,Ww}var Uw,ZT;function az(){if(ZT)return Uw;ZT=1;var e=Ts(),t=rC(),r=One(),n=iz();function i(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))}return Uw=i,Uw}var Vw,e4;function Zv(){if(e4)return Vw;e4=1;var e=Dd();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Vw=t,Vw}var qw,t4;function lC(){if(t4)return qw;t4=1;var e=az(),t=Zv();function r(n,i){i=e(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return qw=r,qw}var Hw,r4;function oz(){if(r4)return Hw;r4=1;var e=lC();function t(r,n,i){var a=r==null?void 0:e(r,n);return a===void 0?i:a}return Hw=t,Hw}var Rne=oz();const yi=rr(Rne);var Kw,n4;function Mne(){if(n4)return Kw;n4=1;function e(t){return t==null}return Kw=e,Kw}var Ine=Mne();const Bt=rr(Ine);var Gw,s4;function Dne(){if(s4)return Gw;s4=1;var e=co(),t=Ts(),r=uo(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&r(a)&&e(a)==n}return Gw=i,Gw}var Fne=Dne();const pc=rr(Fne);var $ne=nC();const It=rr($ne);var Lne=cl();const Fd=rr(Lne);var Yw={exports:{}},nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function Bne(){if(i4)return nr;i4=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function y(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case e:switch(v=v.type,v){case r:case i:case n:case d:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case p:case m:case a:return v;default:return N}}case t:return N}}}return nr.ContextConsumer=o,nr.ContextProvider=a,nr.Element=e,nr.ForwardRef=c,nr.Fragment=r,nr.Lazy=p,nr.Memo=m,nr.Portal=t,nr.Profiler=i,nr.StrictMode=n,nr.Suspense=d,nr.SuspenseList=h,nr.isAsyncMode=function(){return!1},nr.isConcurrentMode=function(){return!1},nr.isContextConsumer=function(v){return y(v)===o},nr.isContextProvider=function(v){return y(v)===a},nr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},nr.isForwardRef=function(v){return y(v)===c},nr.isFragment=function(v){return y(v)===r},nr.isLazy=function(v){return y(v)===p},nr.isMemo=function(v){return y(v)===m},nr.isPortal=function(v){return y(v)===t},nr.isProfiler=function(v){return y(v)===i},nr.isStrictMode=function(v){return y(v)===n},nr.isSuspense=function(v){return y(v)===d},nr.isSuspenseList=function(v){return y(v)===h},nr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===d||v===h||v===x||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===m||v.$$typeof===a||v.$$typeof===o||v.$$typeof===c||v.$$typeof===b||v.getModuleId!==void 0)},nr.typeOf=y,nr}var a4;function zne(){return a4||(a4=1,Yw.exports=Bne()),Yw.exports}var Wne=zne(),Xw,o4;function lz(){if(o4)return Xw;o4=1;var e=co(),t=uo(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return Xw=n,Xw}var Qw,l4;function Une(){if(l4)return Qw;l4=1;var e=lz();function t(r){return e(r)&&r!=+r}return Qw=t,Qw}var Vne=Une();const $d=rr(Vne);var qne=lz();const Hne=rr(qne);var qi=function(t){return t===0?0:t>0?1:-1},Xl=function(t){return pc(t)&&t.indexOf("%")===t.length-1},Ke=function(t){return Hne(t)&&!$d(t)},Kne=function(t){return Bt(t)},un=function(t){return Ke(t)||pc(t)},Gne=0,Ld=function(t){var r=++Gne;return"".concat(t||"").concat(r)},gc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&!pc(t))return n;var a;if(Xl(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return $d(a)&&(a=n),i&&a>r&&(a=r),a},Bo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Yne=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},_n=function(t,r){return Ke(t)&&Ke(r)?function(n){return t+n*(r-t)}:function(){return r}};function cx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):yi(n,t))===r})}var Xne=function(t,r){return Ke(t)&&Ke(r)?t-r:pc(t)&&pc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Fu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function r2(e){"@babel/helpers - typeof";return r2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r2(e)}var Qne=["viewBox","children"],Jne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c4=["points","pathLength"],Jw={svg:Qne,polygon:c4,polyline:c4},cC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ux=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!Fd(n))return null;var i={};return Object.keys(n).forEach(function(a){cC.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Zne=function(t,r,n){return function(i){return t(r,n,i),null}},dx=function(t,r,n){if(!Fd(t)||r2(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];cC.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Zne(o,r,n))}),i},ese=["children"],tse=["children"];function u4(e,t){if(e==null)return{};var r=rse(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n2(e){"@babel/helpers - typeof";return n2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n2(e)}var d4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ya=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},h4=null,Zw=null,uC=function e(t){if(t===h4&&Array.isArray(Zw))return Zw;var r=[];return w.Children.forEach(t,function(n){Bt(n)||(Wne.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Zw=r,h4=t,r};function bi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Ya(i)}):n=[Ya(t)],uC(e).forEach(function(i){var a=yi(i,"type.displayName")||yi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ws(e,t){var r=bi(e,t);return r&&r[0]}var f4=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Ke(n)||n<=0||!Ke(i)||i<=0)},nse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sse=function(t){return t&&t.type&&pc(t.type)&&nse.indexOf(t.type)>=0},cz=function(t){return t&&n2(t)==="object"&&"clipDot"in t},ise=function(t,r,n,i){var a,o=(a=Jw?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!It(t)&&(i&&o.includes(r)||Jne.includes(r))||n&&cC.includes(r)},Ft=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!Fd(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;ise((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},s2=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return m4(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!m4(a,o))return!1}return!0},m4=function(t,r){if(Bt(t)&&Bt(r))return!0;if(!Bt(t)&&!Bt(r)){var n=t.props||{},i=n.children,a=u4(n,ese),o=r.props||{},l=o.children,c=u4(o,tse);return i&&l?Fu(a,c)&&s2(i,l):!i&&!l?Fu(a,c):!1}return!1},p4=function(t,r){var n=[],i={};return uC(t).forEach(function(a,o){if(sse(a))n.push(a);else if(a){var l=Ya(a.type),c=r[l]||{},d=c.handler,h=c.once;if(d&&(!h||!i[l])){var m=d(a,l,o);n.push(m),i[l]=!0}}}),n},ase=function(t){var r=t&&t.type;return r&&d4[r]?d4[r]:null},ose=function(t,r){return uC(r).indexOf(t)},lse=["children","width","height","viewBox","className","style","title","desc"];function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i2.apply(this,arguments)}function cse(e,t){if(e==null)return{};var r=use(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function use(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function a2(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=cse(e,lse),h=i||{width:r,height:n,x:0,y:0},m=qt("recharts-surface",a);return Z.createElement("svg",i2({},Ft(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var dse=["children","className"];function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(this,arguments)}function hse(e,t){if(e==null)return{};var r=fse(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xr=Z.forwardRef(function(e,t){var r=e.children,n=e.className,i=hse(e,dse),a=qt("recharts-layer",n);return Z.createElement("g",o2({className:a},Ft(i,!0),{ref:t}),r)}),Xa=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},e1,g4;function mse(){if(g4)return e1;g4=1;function e(t,r,n){var i=-1,a=t.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+r];return o}return e1=e,e1}var t1,x4;function pse(){if(x4)return t1;x4=1;var e=mse();function t(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:e(r,n,i)}return t1=t,t1}var r1,v4;function uz(){if(v4)return r1;v4=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+a+"]");function c(d){return l.test(d)}return r1=c,r1}var n1,y4;function gse(){if(y4)return n1;y4=1;function e(t){return t.split("")}return n1=e,n1}var s1,b4;function xse(){if(b4)return s1;b4=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,a="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",b=d+"?",y="["+a+"]?",v="(?:"+x+"(?:"+[h,m,p].join("|")+")"+y+b+")*",N=y+b+v,j="(?:"+[h+l+"?",l,m,p,o].join("|")+")",E=RegExp(c+"(?="+c+")|"+j+N,"g");function k(_){return _.match(E)||[]}return s1=k,s1}var i1,w4;function vse(){if(w4)return i1;w4=1;var e=gse(),t=uz(),r=xse();function n(i){return t(i)?r(i):e(i)}return i1=n,i1}var a1,j4;function yse(){if(j4)return a1;j4=1;var e=pse(),t=uz(),r=vse(),n=iz();function i(a){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?e(l,1).join(""):o.slice(1);return c[a]()+d}}return a1=i,a1}var o1,N4;function bse(){if(N4)return o1;N4=1;var e=yse(),t=e("toUpperCase");return o1=t,o1}var wse=bse();const e0=rr(wse);function gr(e){return function(){return e}}const dz=Math.cos,hx=Math.sin,Zi=Math.sqrt,fx=Math.PI,t0=2*fx,l2=Math.PI,c2=2*l2,zl=1e-6,jse=c2-zl;function hz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Nse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hz;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Sse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hz:Nse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,d=i-r,h=o-t,m=l-r,p=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>zl)if(!(Math.abs(m*c-d*h)>zl)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,b=i-l,y=c*c+d*d,v=x*x+b*b,N=Math.sqrt(y),j=Math.sqrt(p),E=a*Math.tan((l2-Math.acos((y+p-v)/(2*N*j)))/2),k=E/j,_=E/N;Math.abs(k-1)>zl&&this._append`L${t+k*h},${r+k*m}`,this._append`A${a},${a},0,0,${+(m*x>h*b)},${this._x1=t+_*c},${this._y1=r+_*d}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=t+l,h=r+c,m=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>zl||Math.abs(this._y1-h)>zl)&&this._append`L${d},${h}`,n&&(p<0&&(p=p%c2+c2),p>jse?this._append`A${n},${n},0,1,${m},${t-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:p>zl&&this._append`A${n},${n},0,${+(p>=l2)},${m},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function dC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Sse(t)}function hC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fz(e){this._context=e}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function r0(e){return new fz(e)}function mz(e){return e[0]}function pz(e){return e[1]}function gz(e,t){var r=gr(!0),n=null,i=r0,a=null,o=dC(l);e=typeof e=="function"?e:e===void 0?mz:gr(e),t=typeof t=="function"?t:t===void 0?pz:gr(t);function l(c){var d,h=(c=hC(c)).length,m,p=!1,x;for(n==null&&(a=i(x=o())),d=0;d<=h;++d)!(d<h&&r(m=c[d],d,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(m,d,c),+t(m,d,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:gr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:gr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:gr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function ag(e,t,r){var n=null,i=gr(!0),a=null,o=r0,l=null,c=dC(d);e=typeof e=="function"?e:e===void 0?mz:gr(+e),t=typeof t=="function"?t:gr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?pz:gr(+r);function d(m){var p,x,b,y=(m=hC(m)).length,v,N=!1,j,E=new Array(y),k=new Array(y);for(a==null&&(l=o(j=c())),p=0;p<=y;++p){if(!(p<y&&i(v=m[p],p,m))===N)if(N=!N)x=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=p-1;b>=x;--b)l.point(E[b],k[b]);l.lineEnd(),l.areaEnd()}N&&(E[p]=+e(v,p,m),k[p]=+t(v,p,m),l.point(n?+n(v,p,m):E[p],r?+r(v,p,m):k[p]))}if(j)return l=null,j+""||null}function h(){return gz().defined(i).curve(o).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:gr(+m),n=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:gr(+m),d):e},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:gr(+m),d):n},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:gr(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:gr(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:gr(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(n).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:gr(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),d):o},d.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),d):a},d}class xz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ese(e){return new xz(e,!0)}function _se(e){return new xz(e,!1)}const fC={draw(e,t){const r=Zi(t/fx);e.moveTo(r,0),e.arc(0,0,r,0,t0)}},Cse={draw(e,t){const r=Zi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},vz=Zi(1/3),kse=vz*2,Ase={draw(e,t){const r=Zi(t/kse),n=r*vz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Pse={draw(e,t){const r=Zi(t),n=-r/2;e.rect(n,n,r,r)}},Ose=.8908130915292852,yz=hx(fx/10)/hx(7*fx/10),Tse=hx(t0/10)*yz,Rse=-dz(t0/10)*yz,Mse={draw(e,t){const r=Zi(t*Ose),n=Tse*r,i=Rse*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=t0*a/5,l=dz(o),c=hx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},l1=Zi(3),Ise={draw(e,t){const r=-Zi(t/(l1*3));e.moveTo(0,r*2),e.lineTo(-l1*r,-r),e.lineTo(l1*r,-r),e.closePath()}},ui=-.5,di=Zi(3)/2,u2=1/Zi(12),Dse=(u2/2+1)*3,Fse={draw(e,t){const r=Zi(t/Dse),n=r/2,i=r*u2,a=n,o=r*u2+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(ui*n-di*i,di*n+ui*i),e.lineTo(ui*a-di*o,di*a+ui*o),e.lineTo(ui*l-di*c,di*l+ui*c),e.lineTo(ui*n+di*i,ui*i-di*n),e.lineTo(ui*a+di*o,ui*o-di*a),e.lineTo(ui*l+di*c,ui*c-di*l),e.closePath()}};function $se(e,t){let r=null,n=dC(i);e=typeof e=="function"?e:gr(e||fC),t=typeof t=="function"?t:gr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:gr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:gr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function mx(){}function px(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function bz(e){this._context=e}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:px(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lse(e){return new bz(e)}function wz(e){this._context=e}wz.prototype={areaStart:mx,areaEnd:mx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bse(e){return new wz(e)}function jz(e){this._context=e}jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zse(e){return new jz(e)}function Nz(e){this._context=e}Nz.prototype={areaStart:mx,areaEnd:mx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Wse(e){return new Nz(e)}function S4(e){return e<0?-1:1}function E4(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(S4(a)+S4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function _4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function c1(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function gx(e){this._context=e}gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c1(this,this._t0,_4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c1(this,_4(this,r=E4(this,e,t)),r);break;default:c1(this,this._t0,r=E4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Sz(e){this._context=new Ez(e)}(Sz.prototype=Object.create(gx.prototype)).point=function(e,t){gx.prototype.point.call(this,t,e)};function Ez(e){this._context=e}Ez.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Use(e){return new gx(e)}function Vse(e){return new Sz(e)}function _z(e){this._context=e}_z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=C4(e),i=C4(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C4(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qse(e){return new _z(e)}function n0(e,t){this._context=e,this._t=t}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Hse(e){return new n0(e,.5)}function Kse(e){return new n0(e,0)}function Gse(e){return new n0(e,1)}function Qu(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function d2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Yse(e,t){return e[t]}function Xse(e){const t=[];return t.key=e,t}function Qse(){var e=gr([]),t=d2,r=Qu,n=Yse;function i(a){var o=Array.from(e.apply(this,arguments),Xse),l,c=o.length,d=-1,h;for(const m of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,a)]).data=m;for(l=0,h=hC(t(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:gr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:gr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?d2:typeof a=="function"?a:gr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Qu,i):r},i}function Jse(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Qu(e,t)}}function Zse(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Qu(e,t)}}function eie(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var h=e[t[l]],m=h[n][1]||0,p=h[n-1][1]||0,x=(m-p)/2,b=0;b<l;++b){var y=e[t[b]],v=y[n][1]||0,N=y[n-1][1]||0;x+=v-N}c+=m,d+=x*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,Qu(e,t)}}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var tie=["type","size","sizeType"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h2.apply(this,arguments)}function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rie(e,t,r){return t=nie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nie(e){var t=sie(e,"string");return wf(t)=="symbol"?t:t+""}function sie(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iie(e,t){if(e==null)return{};var r=aie(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cz={symbolCircle:fC,symbolCross:Cse,symbolDiamond:Ase,symbolSquare:Pse,symbolStar:Mse,symbolTriangle:Ise,symbolWye:Fse},oie=Math.PI/180,lie=function(t){var r="symbol".concat(e0(t));return Cz[r]||fC},cie=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*oie;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uie=function(t,r){Cz["symbol".concat(e0(t))]=r},mC=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=iie(t,tie),d=A4(A4({},c),{},{type:n,size:a,sizeType:l}),h=function(){var v=lie(n),N=$se().type(v).size(cie(a,l,n));return N()},m=d.className,p=d.cx,x=d.cy,b=Ft(d,!0);return p===+p&&x===+x&&a===+a?Z.createElement("path",h2({},b,{className:qt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(x,")"),d:h()})):null};mC.registerSymbol=uie;function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(this,arguments)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function die(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){jf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Az(n.key),n)}}function mie(e,t,r){return t&&fie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pie(e,t,r){return t=xx(t),gie(e,kz()?Reflect.construct(t,r||[],xx(e).constructor):t.apply(e,r))}function gie(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(e)}function xie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(e)}function vie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m2(e,t)}function m2(e,t){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m2(e,t)}function jf(e,t,r){return t=Az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=yie(e,"string");return Ju(t)=="symbol"?t:t+""}function yie(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hi=32,pC=(function(e){function t(){return hie(this,t),pie(this,t,arguments)}return vie(t,e),mie(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=hi/2,o=hi/6,l=hi/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:hi,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(hi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(hi/8,"h").concat(hi,"v").concat(hi*3/4,"h").concat(-hi,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(n.legendIcon)){var d=die({},n);return delete d.legendIcon,Z.cloneElement(n.legendIcon,d)}return Z.createElement(mC,{fill:c,cx:a,cy:a,size:hi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:hi,height:hi},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,b){var y=x.formatter||c,v=qt(jf(jf({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=It(x.value)?null:x.value;Xa(!It(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=x.inactive?d:x.color;return Z.createElement("li",f2({className:v,style:m,key:"legend-item-".concat(b)},dx(n.props,x,b)),Z.createElement(a2,{width:o,height:o,viewBox:h,style:p},n.renderIcon(x)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},y?y(N,x,b):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);jf(pC,"displayName","Legend");jf(pC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u1,O4;function bie(){if(O4)return u1;O4=1;var e=Qv();function t(){this.__data__=new e,this.size=0}return u1=t,u1}var d1,T4;function wie(){if(T4)return d1;T4=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return d1=e,d1}var h1,R4;function jie(){if(R4)return h1;R4=1;function e(t){return this.__data__.get(t)}return h1=e,h1}var f1,M4;function Nie(){if(M4)return f1;M4=1;function e(t){return this.__data__.has(t)}return f1=e,f1}var m1,I4;function Sie(){if(I4)return m1;I4=1;var e=Qv(),t=iC(),r=aC(),n=200;function i(a,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return m1=i,m1}var p1,D4;function Pz(){if(D4)return p1;D4=1;var e=Qv(),t=bie(),r=wie(),n=jie(),i=Nie(),a=Sie();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,p1=o,p1}var g1,F4;function Eie(){if(F4)return g1;F4=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return g1=t,g1}var x1,$4;function _ie(){if($4)return x1;$4=1;function e(t){return this.__data__.has(t)}return x1=e,x1}var v1,L4;function Oz(){if(L4)return v1;L4=1;var e=aC(),t=Eie(),r=_ie();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,v1=n,v1}var y1,B4;function Tz(){if(B4)return y1;B4=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return y1=e,y1}var b1,z4;function Rz(){if(z4)return b1;z4=1;function e(t,r){return t.has(r)}return b1=e,b1}var w1,W4;function Mz(){if(W4)return w1;W4=1;var e=Oz(),t=Tz(),r=Rz(),n=1,i=2;function a(o,l,c,d,h,m){var p=c&n,x=o.length,b=l.length;if(x!=b&&!(p&&b>x))return!1;var y=m.get(o),v=m.get(l);if(y&&v)return y==l&&v==o;var N=-1,j=!0,E=c&i?new e:void 0;for(m.set(o,l),m.set(l,o);++N<x;){var k=o[N],_=l[N];if(d)var A=p?d(_,k,N,l,o,m):d(k,_,N,o,l,m);if(A!==void 0){if(A)continue;j=!1;break}if(E){if(!t(l,function(T,D){if(!r(E,D)&&(k===T||h(k,T,c,d,m)))return E.push(D)})){j=!1;break}}else if(!(k===_||h(k,_,c,d,m))){j=!1;break}}return m.delete(o),m.delete(l),j}return w1=a,w1}var j1,U4;function Cie(){if(U4)return j1;U4=1;var e=Ea(),t=e.Uint8Array;return j1=t,j1}var N1,V4;function kie(){if(V4)return N1;V4=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,a){n[++r]=[a,i]}),n}return N1=e,N1}var S1,q4;function gC(){if(q4)return S1;q4=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return S1=e,S1}var E1,H4;function Aie(){if(H4)return E1;H4=1;var e=_m(),t=Cie(),r=sC(),n=Mz(),i=kie(),a=gC(),o=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",p="[object Number]",x="[object RegExp]",b="[object Set]",y="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",j="[object DataView]",E=e?e.prototype:void 0,k=E?E.valueOf:void 0;function _(A,T,D,q,K,$,H){switch(D){case j:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case N:return!(A.byteLength!=T.byteLength||!$(new t(A),new t(T)));case c:case d:case p:return r(+A,+T);case h:return A.name==T.name&&A.message==T.message;case x:case y:return A==T+"";case m:var W=i;case b:var B=q&o;if(W||(W=a),A.size!=T.size&&!B)return!1;var M=H.get(A);if(M)return M==T;q|=l,H.set(A,T);var z=n(W(A),W(T),q,K,$,H);return H.delete(A),z;case v:if(k)return k.call(A)==k.call(T)}return!1}return E1=_,E1}var _1,K4;function Iz(){if(K4)return _1;K4=1;function e(t,r){for(var n=-1,i=r.length,a=t.length;++n<i;)t[a+n]=r[n];return t}return _1=e,_1}var C1,G4;function Pie(){if(G4)return C1;G4=1;var e=Iz(),t=Ts();function r(n,i,a){var o=i(n);return t(n)?o:e(o,a(n))}return C1=r,C1}var k1,Y4;function Oie(){if(Y4)return k1;Y4=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var l=t[n];r(l,n,t)&&(o[a++]=l)}return o}return k1=e,k1}var A1,X4;function Tie(){if(X4)return A1;X4=1;function e(){return[]}return A1=e,A1}var P1,Q4;function Rie(){if(Q4)return P1;Q4=1;var e=Oie(),t=Tie(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return n.call(o,l)}))}:t;return P1=a,P1}var O1,J4;function Mie(){if(J4)return O1;J4=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return O1=e,O1}var T1,Z4;function Iie(){if(Z4)return T1;Z4=1;var e=co(),t=uo(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return T1=n,T1}var R1,e3;function xC(){if(e3)return R1;e3=1;var e=Iie(),t=uo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return R1=a,R1}var Hh={exports:{}},M1,t3;function Die(){if(t3)return M1;t3=1;function e(){return!1}return M1=e,M1}Hh.exports;var r3;function Dz(){return r3||(r3=1,(function(e,t){var r=Ea(),n=Die(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(Hh,Hh.exports)),Hh.exports}var I1,n3;function vC(){if(n3)return I1;n3=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return I1=r,I1}var D1,s3;function yC(){if(s3)return D1;s3=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return D1=t,D1}var F1,i3;function Fie(){if(i3)return F1;i3=1;var e=co(),t=yC(),r=uo(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",p="[object RegExp]",x="[object Set]",b="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",j="[object Float32Array]",E="[object Float64Array]",k="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",D="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]",$={};$[j]=$[E]=$[k]=$[_]=$[A]=$[T]=$[D]=$[q]=$[K]=!0,$[n]=$[i]=$[v]=$[a]=$[N]=$[o]=$[l]=$[c]=$[d]=$[h]=$[m]=$[p]=$[x]=$[b]=$[y]=!1;function H(W){return r(W)&&t(W.length)&&!!$[e(W)]}return F1=H,F1}var $1,a3;function Fz(){if(a3)return $1;a3=1;function e(t){return function(r){return t(r)}}return $1=e,$1}var Kh={exports:{}};Kh.exports;var o3;function $ie(){return o3||(o3=1,(function(e,t){var r=rz(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Kh,Kh.exports)),Kh.exports}var L1,l3;function $z(){if(l3)return L1;l3=1;var e=Fie(),t=Fz(),r=$ie(),n=r&&r.isTypedArray,i=n?t(n):e;return L1=i,L1}var B1,c3;function Lie(){if(c3)return B1;c3=1;var e=Mie(),t=xC(),r=Ts(),n=Dz(),i=vC(),a=$z(),o=Object.prototype,l=o.hasOwnProperty;function c(d,h){var m=r(d),p=!m&&t(d),x=!m&&!p&&n(d),b=!m&&!p&&!x&&a(d),y=m||p||x||b,v=y?e(d.length,String):[],N=v.length;for(var j in d)(h||l.call(d,j))&&!(y&&(j=="length"||x&&(j=="offset"||j=="parent")||b&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,N)))&&v.push(j);return v}return B1=c,B1}var z1,u3;function Bie(){if(u3)return z1;u3=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return z1=t,z1}var W1,d3;function Lz(){if(d3)return W1;d3=1;function e(t,r){return function(n){return t(r(n))}}return W1=e,W1}var U1,h3;function zie(){if(h3)return U1;h3=1;var e=Lz(),t=e(Object.keys,Object);return U1=t,U1}var V1,f3;function Wie(){if(f3)return V1;f3=1;var e=Bie(),t=zie(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return V1=i,V1}var q1,m3;function Cm(){if(m3)return q1;m3=1;var e=nC(),t=yC();function r(n){return n!=null&&t(n.length)&&!e(n)}return q1=r,q1}var H1,p3;function s0(){if(p3)return H1;p3=1;var e=Lie(),t=Wie(),r=Cm();function n(i){return r(i)?e(i):t(i)}return H1=n,H1}var K1,g3;function Uie(){if(g3)return K1;g3=1;var e=Pie(),t=Rie(),r=s0();function n(i){return e(i,r,t)}return K1=n,K1}var G1,x3;function Vie(){if(x3)return G1;x3=1;var e=Uie(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,d,h){var m=l&t,p=e(a),x=p.length,b=e(o),y=b.length;if(x!=y&&!m)return!1;for(var v=x;v--;){var N=p[v];if(!(m?N in o:n.call(o,N)))return!1}var j=h.get(a),E=h.get(o);if(j&&E)return j==o&&E==a;var k=!0;h.set(a,o),h.set(o,a);for(var _=m;++v<x;){N=p[v];var A=a[N],T=o[N];if(c)var D=m?c(T,A,N,o,a,h):c(A,T,N,a,o,h);if(!(D===void 0?A===T||d(A,T,l,c,h):D)){k=!1;break}_||(_=N=="constructor")}if(k&&!_){var q=a.constructor,K=o.constructor;q!=K&&"constructor"in a&&"constructor"in o&&!(typeof q=="function"&&q instanceof q&&typeof K=="function"&&K instanceof K)&&(k=!1)}return h.delete(a),h.delete(o),k}return G1=i,G1}var Y1,v3;function qie(){if(v3)return Y1;v3=1;var e=Ec(),t=Ea(),r=e(t,"DataView");return Y1=r,Y1}var X1,y3;function Hie(){if(y3)return X1;y3=1;var e=Ec(),t=Ea(),r=e(t,"Promise");return X1=r,X1}var Q1,b3;function Bz(){if(b3)return Q1;b3=1;var e=Ec(),t=Ea(),r=e(t,"Set");return Q1=r,Q1}var J1,w3;function Kie(){if(w3)return J1;w3=1;var e=Ec(),t=Ea(),r=e(t,"WeakMap");return J1=r,J1}var Z1,j3;function Gie(){if(j3)return Z1;j3=1;var e=qie(),t=iC(),r=Hie(),n=Bz(),i=Kie(),a=co(),o=nz(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",p="[object DataView]",x=o(e),b=o(t),y=o(r),v=o(n),N=o(i),j=a;return(e&&j(new e(new ArrayBuffer(1)))!=p||t&&j(new t)!=l||r&&j(r.resolve())!=d||n&&j(new n)!=h||i&&j(new i)!=m)&&(j=function(E){var k=a(E),_=k==c?E.constructor:void 0,A=_?o(_):"";if(A)switch(A){case x:return p;case b:return l;case y:return d;case v:return h;case N:return m}return k}),Z1=j,Z1}var ej,N3;function Yie(){if(N3)return ej;N3=1;var e=Pz(),t=Mz(),r=Aie(),n=Vie(),i=Gie(),a=Ts(),o=Dz(),l=$z(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",p=Object.prototype,x=p.hasOwnProperty;function b(y,v,N,j,E,k){var _=a(y),A=a(v),T=_?h:i(y),D=A?h:i(v);T=T==d?m:T,D=D==d?m:D;var q=T==m,K=D==m,$=T==D;if($&&o(y)){if(!o(v))return!1;_=!0,q=!1}if($&&!q)return k||(k=new e),_||l(y)?t(y,v,N,j,E,k):r(y,v,T,N,j,E,k);if(!(N&c)){var H=q&&x.call(y,"__wrapped__"),W=K&&x.call(v,"__wrapped__");if(H||W){var B=H?y.value():y,M=W?v.value():v;return k||(k=new e),E(B,M,N,j,k)}}return $?(k||(k=new e),n(y,v,N,j,E,k)):!1}return ej=b,ej}var tj,S3;function bC(){if(S3)return tj;S3=1;var e=Yie(),t=uo();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,a,o,r,l)}return tj=r,tj}var rj,E3;function Xie(){if(E3)return rj;E3=1;var e=Pz(),t=bC(),r=1,n=2;function i(a,o,l,c){var d=l.length,h=d,m=!c;if(a==null)return!h;for(a=Object(a);d--;){var p=l[d];if(m&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++d<h;){p=l[d];var x=p[0],b=a[x],y=p[1];if(m&&p[2]){if(b===void 0&&!(x in a))return!1}else{var v=new e;if(c)var N=c(b,y,x,a,o,v);if(!(N===void 0?t(y,b,r|n,c,v):N))return!1}}return!0}return rj=i,rj}var nj,_3;function zz(){if(_3)return nj;_3=1;var e=cl();function t(r){return r===r&&!e(r)}return nj=t,nj}var sj,C3;function Qie(){if(C3)return sj;C3=1;var e=zz(),t=s0();function r(n){for(var i=t(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,e(l)]}return i}return sj=r,sj}var ij,k3;function Wz(){if(k3)return ij;k3=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return ij=e,ij}var aj,A3;function Jie(){if(A3)return aj;A3=1;var e=Xie(),t=Qie(),r=Wz();function n(i){var a=t(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return aj=n,aj}var oj,P3;function Zie(){if(P3)return oj;P3=1;function e(t,r){return t!=null&&r in Object(t)}return oj=e,oj}var lj,O3;function eae(){if(O3)return lj;O3=1;var e=az(),t=xC(),r=Ts(),n=vC(),i=yC(),a=Zv();function o(l,c,d){c=e(c,l);for(var h=-1,m=c.length,p=!1;++h<m;){var x=a(c[h]);if(!(p=l!=null&&d(l,x)))break;l=l[x]}return p||++h!=m?p:(m=l==null?0:l.length,!!m&&i(m)&&n(x,m)&&(r(l)||t(l)))}return lj=o,lj}var cj,T3;function tae(){if(T3)return cj;T3=1;var e=Zie(),t=eae();function r(n,i){return n!=null&&t(n,i,e)}return cj=r,cj}var uj,R3;function rae(){if(R3)return uj;R3=1;var e=bC(),t=oz(),r=tae(),n=rC(),i=zz(),a=Wz(),o=Zv(),l=1,c=2;function d(h,m){return n(h)&&i(m)?a(o(h),m):function(p){var x=t(p,h);return x===void 0&&x===m?r(p,h):e(m,x,l|c)}}return uj=d,uj}var dj,M3;function Bd(){if(M3)return dj;M3=1;function e(t){return t}return dj=e,dj}var hj,I3;function nae(){if(I3)return hj;I3=1;function e(t){return function(r){return r?.[t]}}return hj=e,hj}var fj,D3;function sae(){if(D3)return fj;D3=1;var e=lC();function t(r){return function(n){return e(n,r)}}return fj=t,fj}var mj,F3;function iae(){if(F3)return mj;F3=1;var e=nae(),t=sae(),r=rC(),n=Zv();function i(a){return r(a)?e(n(a)):t(a)}return mj=i,mj}var pj,$3;function ul(){if($3)return pj;$3=1;var e=Jie(),t=rae(),r=Bd(),n=Ts(),i=iae();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return pj=a,pj}var gj,L3;function Uz(){if(L3)return gj;L3=1;function e(t,r,n,i){for(var a=t.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(t[o],o,t))return o;return-1}return gj=e,gj}var xj,B3;function aae(){if(B3)return xj;B3=1;function e(t){return t!==t}return xj=e,xj}var vj,z3;function oae(){if(z3)return vj;z3=1;function e(t,r,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===r)return i;return-1}return vj=e,vj}var yj,W3;function lae(){if(W3)return yj;W3=1;var e=Uz(),t=aae(),r=oae();function n(i,a,o){return a===a?r(i,a,o):e(i,t,o)}return yj=n,yj}var bj,U3;function cae(){if(U3)return bj;U3=1;var e=lae();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return bj=t,bj}var wj,V3;function uae(){if(V3)return wj;V3=1;function e(t,r,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(r,t[i]))return!0;return!1}return wj=e,wj}var jj,q3;function dae(){if(q3)return jj;q3=1;function e(){}return jj=e,jj}var Nj,H3;function hae(){if(H3)return Nj;H3=1;var e=Bz(),t=dae(),r=gC(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(a){return new e(a)}:t;return Nj=i,Nj}var Sj,K3;function fae(){if(K3)return Sj;K3=1;var e=Oz(),t=cae(),r=uae(),n=Rz(),i=hae(),a=gC(),o=200;function l(c,d,h){var m=-1,p=t,x=c.length,b=!0,y=[],v=y;if(h)b=!1,p=r;else if(x>=o){var N=d?null:i(c);if(N)return a(N);b=!1,p=n,v=new e}else v=d?[]:y;e:for(;++m<x;){var j=c[m],E=d?d(j):j;if(j=h||j!==0?j:0,b&&E===E){for(var k=v.length;k--;)if(v[k]===E)continue e;d&&v.push(E),y.push(j)}else p(v,E,h)||(v!==y&&v.push(E),y.push(j))}return y}return Sj=l,Sj}var Ej,G3;function mae(){if(G3)return Ej;G3=1;var e=ul(),t=fae();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return Ej=r,Ej}var pae=mae();const Y3=rr(pae);function Vz(e,t,r){return t===!0?Y3(e,r):It(t)?Y3(e,t):e}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}var gae=["ref"];function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hz(n.key),n)}}function vae(e,t,r){return t&&Q3(e.prototype,t),r&&Q3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yae(e,t,r){return t=vx(t),bae(e,qz()?Reflect.construct(t,r||[],vx(e).constructor):t.apply(e,r))}function bae(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wae(e)}function wae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(e)}function jae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p2(e,t)}function i0(e,t,r){return t=Hz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hz(e){var t=Nae(e,"string");return Zu(t)=="symbol"?t:t+""}function Nae(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Sae(e,t){if(e==null)return{};var r=Eae(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _ae(e){return e.value}function Cae(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var r=Sae(t,gae);return Z.createElement(pC,r)}var J3=1,$u=(function(e){function t(){var r;xae(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yae(this,t,[].concat(i)),i0(r,"lastBoundingBox",{width:-1,height:-1}),r}return jae(t,e),vae(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>J3||Math.abs(i.height-this.lastBoundingBox.height)>J3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?La({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,h=i.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();p={top:((h||0)-b.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return La(La({},m),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,m=La(La({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},Cae(a,La(La({},this.props),{},{payload:Vz(h,d,_ae)})))}}],[{key:"getWithHeight",value:function(n,i){var a=La(La({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(w.PureComponent);i0($u,"displayName","Legend");i0($u,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _j,Z3;function kae(){if(Z3)return _j;Z3=1;var e=_m(),t=xC(),r=Ts(),n=e?e.isConcatSpreadable:void 0;function i(a){return r(a)||t(a)||!!(n&&a&&a[n])}return _j=i,_j}var Cj,e5;function Kz(){if(e5)return Cj;e5=1;var e=Iz(),t=kae();function r(n,i,a,o,l){var c=-1,d=n.length;for(a||(a=t),l||(l=[]);++c<d;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,o,l):e(l,h):o||(l[l.length]=h)}return l}return Cj=r,Cj}var kj,t5;function Aae(){if(t5)return kj;t5=1;function e(t){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var d=l[t?c:++a];if(n(o[d],d,o)===!1)break}return r}}return kj=e,kj}var Aj,r5;function Pae(){if(r5)return Aj;r5=1;var e=Aae(),t=e();return Aj=t,Aj}var Pj,n5;function Gz(){if(n5)return Pj;n5=1;var e=Pae(),t=s0();function r(n,i){return n&&e(n,i,t)}return Pj=r,Pj}var Oj,s5;function Oae(){if(s5)return Oj;s5=1;var e=Cm();function t(r,n){return function(i,a){if(i==null)return i;if(!e(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return Oj=t,Oj}var Tj,i5;function wC(){if(i5)return Tj;i5=1;var e=Gz(),t=Oae(),r=t(e);return Tj=r,Tj}var Rj,a5;function Yz(){if(a5)return Rj;a5=1;var e=wC(),t=Cm();function r(n,i){var a=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,d){o[++a]=i(l,c,d)}),o}return Rj=r,Rj}var Mj,o5;function Tae(){if(o5)return Mj;o5=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Mj=e,Mj}var Ij,l5;function Rae(){if(l5)return Ij;l5=1;var e=Dd();function t(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=e(r),c=n!==void 0,d=n===null,h=n===n,m=e(n);if(!d&&!m&&!l&&r>n||l&&c&&h&&!d&&!m||a&&c&&h||!i&&h||!o)return 1;if(!a&&!l&&!m&&r<n||m&&i&&o&&!a&&!l||d&&i&&o||!c&&o||!h)return-1}return 0}return Ij=t,Ij}var Dj,c5;function Mae(){if(c5)return Dj;c5=1;var e=Rae();function t(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,d=i.length;++a<c;){var h=e(o[a],l[a]);if(h){if(a>=d)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return r.index-n.index}return Dj=t,Dj}var Fj,u5;function Iae(){if(u5)return Fj;u5=1;var e=oC(),t=lC(),r=ul(),n=Yz(),i=Tae(),a=Fz(),o=Mae(),l=Bd(),c=Ts();function d(h,m,p){m.length?m=e(m,function(y){return c(y)?function(v){return t(v,y.length===1?y[0]:y)}:y}):m=[l];var x=-1;m=e(m,a(r));var b=n(h,function(y,v,N){var j=e(m,function(E){return E(y)});return{criteria:j,index:++x,value:y}});return i(b,function(y,v){return o(y,v,p)})}return Fj=d,Fj}var $j,d5;function Dae(){if(d5)return $j;d5=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return $j=e,$j}var Lj,h5;function Fae(){if(h5)return Lj;h5=1;var e=Dae(),t=Math.max;function r(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=t(o.length-i,0),d=Array(c);++l<c;)d[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=a(d),e(n,this,h)}}return Lj=r,Lj}var Bj,f5;function $ae(){if(f5)return Bj;f5=1;function e(t){return function(){return t}}return Bj=e,Bj}var zj,m5;function Xz(){if(m5)return zj;m5=1;var e=Ec(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return zj=t,zj}var Wj,p5;function Lae(){if(p5)return Wj;p5=1;var e=$ae(),t=Xz(),r=Bd(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:r;return Wj=n,Wj}var Uj,g5;function Bae(){if(g5)return Uj;g5=1;var e=800,t=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Uj=n,Uj}var Vj,x5;function zae(){if(x5)return Vj;x5=1;var e=Lae(),t=Bae(),r=t(e);return Vj=r,Vj}var qj,v5;function Wae(){if(v5)return qj;v5=1;var e=Bd(),t=Fae(),r=zae();function n(i,a){return r(t(i,a,e),i+"")}return qj=n,qj}var Hj,y5;function a0(){if(y5)return Hj;y5=1;var e=sC(),t=Cm(),r=vC(),n=cl();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],a):!1}return Hj=i,Hj}var Kj,b5;function Uae(){if(b5)return Kj;b5=1;var e=Kz(),t=Iae(),r=Wae(),n=a0(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(a,e(o,1),[])});return Kj=i,Kj}var Vae=Uae();const jC=rr(Vae);function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g2.apply(this,arguments)}function qae(e,t){return Yae(e)||Gae(e,t)||Kae(e,t)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(e,t){if(e){if(typeof e=="string")return w5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w5(e,t)}}function w5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Yae(e){if(Array.isArray(e))return e}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=Jae(e,"string");return Nf(t)=="symbol"?t:t+""}function Jae(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e){return Array.isArray(e)&&un(e[0])&&un(e[1])?e.join(" ~ "):e}var eoe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,h=t.payload,m=t.formatter,p=t.itemSorter,x=t.wrapperClassName,b=t.labelClassName,y=t.label,v=t.labelFormatter,N=t.accessibilityLayer,j=N===void 0?!1:N,E=function(){if(h&&h.length){var H={padding:0,margin:0},W=(p?jC(h,p):h).map(function(B,M){if(B.type==="none")return null;var z=Gj({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),P=B.formatter||m||Zae,C=B.value,L=B.name,U=C,R=L;if(P&&U!=null&&R!=null){var I=P(C,L,B,M,h);if(Array.isArray(I)){var V=qae(I,2);U=V[0],R=V[1]}else U=I}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:z},un(R)?Z.createElement("span",{className:"recharts-tooltip-item-name"},R):null,un(R)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},U),Z.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:H},W)}return null},k=Gj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=Gj({margin:0},d),A=!Bt(y),T=A?y:"",D=qt("recharts-default-tooltip",x),q=qt("recharts-tooltip-label",b);A&&v&&h!==void 0&&h!==null&&(T=v(y,h));var K=j?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",g2({className:D,style:k},K),Z.createElement("p",{className:q,style:_},Z.isValidElement(T)?T:"".concat(T)),E())};function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function og(e,t,r){return t=toe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function toe(e){var t=roe(e,"string");return Sf(t)=="symbol"?t:t+""}function roe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh="recharts-tooltip-wrapper",noe={visibility:"hidden"};function soe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qt(Mh,og(og(og(og({},"".concat(Mh,"-right"),Ke(r)&&t&&Ke(t.x)&&r>=t.x),"".concat(Mh,"-left"),Ke(r)&&t&&Ke(t.x)&&r<t.x),"".concat(Mh,"-bottom"),Ke(n)&&t&&Ke(t.y)&&n>=t.y),"".concat(Mh,"-top"),Ke(n)&&t&&Ke(t.y)&&n<t.y))}function N5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&Ke(a[n]))return a[n];var h=r[n]-l-i,m=r[n]+i;if(t[n])return o[n]?h:m;if(o[n]){var p=h,x=c[n];return p<x?Math.max(m,c[n]):Math.max(h,c[n])}var b=m+l,y=c[n]+d;return b>y?Math.max(h,c[n]):Math.max(m,c[n])}function ioe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aoe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,h,m;return o.height>0&&o.width>0&&r?(h=N5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=N5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=ioe({translateX:h,translateY:m,useTranslate3d:l})):d=noe,{cssProperties:d,cssClasses:soe({translateX:h,translateY:m,coordinate:r})}}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){v2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ooe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function loe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jz(n.key),n)}}function coe(e,t,r){return t&&loe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uoe(e,t,r){return t=yx(t),doe(e,Qz()?Reflect.construct(t,r||[],yx(e).constructor):t.apply(e,r))}function doe(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hoe(e)}function hoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!e})()}function yx(e){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(e)}function foe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x2(e,t)}function x2(e,t){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x2(e,t)}function v2(e,t,r){return t=Jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=moe(e,"string");return ed(t)=="symbol"?t:t+""}function moe(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _5=1,poe=(function(e){function t(){var r;ooe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=uoe(this,t,[].concat(i)),v2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),v2(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return foe(t,e),coe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_5||Math.abs(n.height-this.state.lastBoundingBox.height)>_5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,h=i.coordinate,m=i.hasPayload,p=i.isAnimationActive,x=i.offset,b=i.position,y=i.reverseDirection,v=i.useTranslate3d,N=i.viewBox,j=i.wrapperStyle,E=aoe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:x,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),k=E.cssClasses,_=E.cssProperties,A=E5(E5({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return Z.createElement("div",{tabIndex:-1,className:k,style:A,ref:function(D){n.wrapperNode=D}},d)}}])})(w.PureComponent),goe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_c={isSsr:goe()};function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function C5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(r),!0).forEach(function(n){NC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function voe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e7(n.key),n)}}function yoe(e,t,r){return t&&voe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function boe(e,t,r){return t=bx(t),woe(e,Zz()?Reflect.construct(t,r||[],bx(e).constructor):t.apply(e,r))}function woe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return joe(e)}function joe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!e})()}function bx(e){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bx(e)}function Noe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y2(e,t)}function y2(e,t){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y2(e,t)}function NC(e,t,r){return t=e7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=Soe(e,"string");return td(t)=="symbol"?t:t+""}function Soe(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Eoe(e){return e.dataKey}function _oe(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(eoe,t)}var En=(function(e){function t(){return xoe(this,t),boe(this,t,arguments)}return Noe(t,e),yoe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,h=i.coordinate,m=i.filterNull,p=i.isAnimationActive,x=i.offset,b=i.payload,y=i.payloadUniqBy,v=i.position,N=i.reverseDirection,j=i.useTranslate3d,E=i.viewBox,k=i.wrapperStyle,_=b??[];m&&_.length&&(_=Vz(b.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),y,Eoe));var A=_.length>0;return Z.createElement(poe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:h,hasPayload:A,offset:x,position:v,reverseDirection:N,useTranslate3d:j,viewBox:E,wrapperStyle:k},_oe(d,k5(k5({},this.props),{},{payload:_})))}}])})(w.PureComponent);NC(En,"displayName","Tooltip");NC(En,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_c.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yj,A5;function Coe(){if(A5)return Yj;A5=1;var e=Ea(),t=function(){return e.Date.now()};return Yj=t,Yj}var Xj,P5;function koe(){if(P5)return Xj;P5=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Xj=t,Xj}var Qj,O5;function Aoe(){if(O5)return Qj;O5=1;var e=koe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Qj=r,Qj}var Jj,T5;function t7(){if(T5)return Jj;T5=1;var e=Aoe(),t=cl(),r=Dd(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(t(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=a.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):i.test(d)?n:+d}return Jj=c,Jj}var Zj,R5;function Poe(){if(R5)return Zj;R5=1;var e=cl(),t=Coe(),r=t7(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,d){var h,m,p,x,b,y,v=0,N=!1,j=!1,E=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(d)&&(N=!!d.leading,j="maxWait"in d,p=j?i(r(d.maxWait)||0,c):p,E="trailing"in d?!!d.trailing:E);function k(W){var B=h,M=m;return h=m=void 0,v=W,x=l.apply(M,B),x}function _(W){return v=W,b=setTimeout(D,c),N?k(W):x}function A(W){var B=W-y,M=W-v,z=c-B;return j?a(z,p-M):z}function T(W){var B=W-y,M=W-v;return y===void 0||B>=c||B<0||j&&M>=p}function D(){var W=t();if(T(W))return q(W);b=setTimeout(D,A(W))}function q(W){return b=void 0,E&&h?k(W):(h=m=void 0,x)}function K(){b!==void 0&&clearTimeout(b),v=0,h=y=m=b=void 0}function $(){return b===void 0?x:q(t())}function H(){var W=t(),B=T(W);if(h=arguments,m=this,y=W,B){if(b===void 0)return _(y);if(j)return clearTimeout(b),b=setTimeout(D,c),k(y)}return b===void 0&&(b=setTimeout(D,c)),x}return H.cancel=K,H.flush=$,H}return Zj=o,Zj}var eN,M5;function Ooe(){if(M5)return eN;M5=1;var e=Poe(),t=cl(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(i,a,{leading:l,maxWait:a,trailing:c})}return eN=n,eN}var Toe=Ooe();const r7=rr(Toe);function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function I5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(r),!0).forEach(function(n){Roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t,r){return t=Moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Moe(e){var t=Ioe(e,"string");return Ef(t)=="symbol"?t:t+""}function Ioe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Doe(e,t){return Boe(e)||Loe(e,t)||$oe(e,t)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(e,t){if(e){if(typeof e=="string")return D5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D5(e,t)}}function D5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Loe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Boe(e){if(Array.isArray(e))return e}var Qo=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,h=d===void 0?0:d,m=e.minHeight,p=e.maxHeight,x=e.children,b=e.debounce,y=b===void 0?0:b,v=e.id,N=e.className,j=e.onResize,E=e.style,k=E===void 0?{}:E,_=w.useRef(null),A=w.useRef();A.current=j,w.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var T=w.useState({containerWidth:i.width,containerHeight:i.height}),D=Doe(T,2),q=D[0],K=D[1],$=w.useCallback(function(W,B){K(function(M){var z=Math.round(W),P=Math.round(B);return M.containerWidth===z&&M.containerHeight===P?M:{containerWidth:z,containerHeight:P}})},[]);w.useEffect(function(){var W=function(L){var U,R=L[0].contentRect,I=R.width,V=R.height;$(I,V),(U=A.current)===null||U===void 0||U.call(A,I,V)};y>0&&(W=r7(W,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(W),M=_.current.getBoundingClientRect(),z=M.width,P=M.height;return $(z,P),B.observe(_.current),function(){B.disconnect()}},[$,y]);var H=w.useMemo(function(){var W=q.containerWidth,B=q.containerHeight;if(W<0||B<0)return null;Xa(Xl(o)||Xl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Xa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Xl(o)?W:o,z=Xl(c)?B:c;r&&r>0&&(M?z=M/r:z&&(M=z*r),p&&z>p&&(z=p)),Xa(M>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,z,o,c,h,m,r);var P=!Array.isArray(x)&&Ya(x.type).endsWith("Chart");return Z.Children.map(x,function(C){return Z.isValidElement(C)?w.cloneElement(C,lg({width:M,height:z},P?{style:lg({height:"100%",width:"100%",maxHeight:z,maxWidth:M},C.props.style)}:{})):C})},[r,x,c,p,m,h,q,o]);return Z.createElement("div",{id:v?"".concat(v):void 0,className:qt("recharts-responsive-container",N),style:lg(lg({},k),{},{width:o,height:c,minWidth:h,minHeight:m,maxHeight:p}),ref:_},H)}),n7=function(t){return null};n7.displayName="Cell";function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){zoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zoe(e,t,r){return t=Woe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=Uoe(e,"string");return _f(t)=="symbol"?t:t+""}function Uoe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu={widthCache:{},cacheCount:0},Voe=2e3,qoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$5="recharts_measurement_span";function Hoe(e){var t=b2({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var rf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||_c.isSsr)return{width:0,height:0};var n=Hoe(r),i=JSON.stringify({text:t,copyStyle:n});if(lu.widthCache[i])return lu.widthCache[i];try{var a=document.getElementById($5);a||(a=document.createElement("span"),a.setAttribute("id",$5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=b2(b2({},qoe),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return lu.widthCache[i]=c,++lu.cacheCount>Voe&&(lu.cacheCount=0,lu.widthCache={}),c}catch{return{width:0,height:0}}},Koe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function wx(e,t){return Qoe(e)||Xoe(e,t)||Yoe(e,t)||Goe()}function Goe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yoe(e,t){if(e){if(typeof e=="string")return L5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L5(e,t)}}function L5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Qoe(e){if(Array.isArray(e))return e}function Joe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ele(n.key),n)}}function Zoe(e,t,r){return t&&B5(e.prototype,t),r&&B5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ele(e){var t=tle(e,"string");return Cf(t)=="symbol"?t:t+""}function tle(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,s7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sle=Object.keys(s7),Nu="NaN";function ile(e,t){return e*s7[t]}var cg=(function(){function e(t,r){Joe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rle.test(r)&&(this.num=NaN,this.unit=""),sle.includes(r)&&(this.num=ile(t,r),this.unit="px")}return Zoe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nle.exec(r))!==null&&n!==void 0?n:[],a=wx(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])})();function i7(e){if(e.includes(Nu))return Nu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=z5.exec(t))!==null&&r!==void 0?r:[],i=wx(n,4),a=i[1],o=i[2],l=i[3],c=cg.parse(a??""),d=cg.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Nu;t=t.replace(z5,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,p=(m=W5.exec(t))!==null&&m!==void 0?m:[],x=wx(p,4),b=x[1],y=x[2],v=x[3],N=cg.parse(b??""),j=cg.parse(v??""),E=y==="+"?N.add(j):N.subtract(j);if(E.isNaN())return Nu;t=t.replace(W5,E.toString())}return t}var U5=/\(([^()]*)\)/;function ale(e){for(var t=e;t.includes("(");){var r=U5.exec(t),n=wx(r,2),i=n[1];t=t.replace(U5,i7(i))}return t}function ole(e){var t=e.replace(/\s+/g,"");return t=ale(t),t=i7(t),t}function lle(e){try{return ole(e)}catch{return Nu}}function tN(e){var t=lle(e.slice(5,-1));return t===Nu?"":t}var cle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ule=["dx","dy","angle","className","breakAll"];function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w2.apply(this,arguments)}function V5(e,t){if(e==null)return{};var r=dle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q5(e,t){return ple(e)||mle(e,t)||fle(e,t)||hle()}function hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fle(e,t){if(e){if(typeof e=="string")return H5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(e,t)}}function H5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function ple(e){if(Array.isArray(e))return e}var a7=/[ \f\n\r\t\v\u2028\u2029]+/,o7=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Bt(r)||(n?a=r.toString().split(""):a=r.toString().split(a7));var o=a.map(function(c){return{word:c,width:rf(c,i).width}}),l=n?0:rf("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gle=function(t,r,n,i,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,h=Ke(o),m=l,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(z,P){var C=P.word,L=P.width,U=z[z.length-1];if(U&&(i==null||a||U.width+L+n<Number(i)))U.words.push(C),U.width+=L+n;else{var R={words:[C],width:L};z.push(R)}return z},[])},x=p(r),b=function(M){return M.reduce(function(z,P){return z.width>P.width?z:P})};if(!h)return x;for(var y="",v=function(M){var z=m.slice(0,M),P=o7({breakAll:d,style:c,children:z+y}).wordsWithComputedWidth,C=p(P),L=C.length>o||b(C).width>Number(i);return[L,C]},N=0,j=m.length-1,E=0,k;N<=j&&E<=m.length-1;){var _=Math.floor((N+j)/2),A=_-1,T=v(A),D=q5(T,2),q=D[0],K=D[1],$=v(_),H=q5($,1),W=H[0];if(!q&&!W&&(N=_+1),q&&W&&(j=_-1),!q&&W){k=K;break}E++}return k||x},K5=function(t){var r=Bt(t)?[]:t.toString().split(a7);return[{words:r}]},xle=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!_c.isSsr){var c,d,h=o7({breakAll:o,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,p=h.spaceWidth;c=m,d=p}else return K5(i);return gle({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return K5(i)},G5="#808080",jx=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,h=t.scaleToFit,m=h===void 0?!1:h,p=t.textAnchor,x=p===void 0?"start":p,b=t.verticalAnchor,y=b===void 0?"end":b,v=t.fill,N=v===void 0?G5:v,j=V5(t,cle),E=w.useMemo(function(){return xle({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),k=j.dx,_=j.dy,A=j.angle,T=j.className,D=j.breakAll,q=V5(j,ule);if(!un(n)||!un(a))return null;var K=n+(Ke(k)?k:0),$=a+(Ke(_)?_:0),H;switch(y){case"start":H=tN("calc(".concat(d,")"));break;case"middle":H=tN("calc(".concat((E.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:H=tN("calc(".concat(E.length-1," * -").concat(l,")"));break}var W=[];if(m){var B=E[0].width,M=j.width;W.push("scale(".concat((Ke(M)?M/B:1)/B,")"))}return A&&W.push("rotate(".concat(A,", ").concat(K,", ").concat($,")")),W.length&&(q.transform=W.join(" ")),Z.createElement("text",w2({},Ft(q,!0),{x:K,y:$,className:qt("recharts-text",T),textAnchor:x,fill:N.includes("url")?G5:N}),E.map(function(z,P){var C=z.words.join(D?"":" ");return Z.createElement("tspan",{x:K,dy:P===0?H:l,key:"".concat(C,"-").concat(P)},C)}))};function Jo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SC(e){let t,r,n;e.length!==2?(t=Jo,r=(l,c)=>Jo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Jo||e===vle?e:yle,r=e,n=e);function i(l,c,d=0,h=l.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(l,c,d=0,h=l.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,c,d=0,h=l.length){const m=i(l,c,d,h-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:i,center:o,right:a}}function yle(){return 0}function l7(e){return e===null?NaN:+e}function*ble(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wle=SC(Jo),km=wle.right;SC(l7).center;class Y5 extends Map{constructor(t,r=Sle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(X5(this,t))}has(t){return super.has(X5(this,t))}set(t,r){return super.set(jle(this,t),r)}delete(t){return super.delete(Nle(this,t))}}function X5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jle({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nle({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sle(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ele(e=Jo){if(e===Jo)return c7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function c7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _le=Math.sqrt(50),Cle=Math.sqrt(10),kle=Math.sqrt(2);function Nx(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=_le?10:a>=Cle?5:a>=kle?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Nx(e,t,r*2):[l,c,d]}function j2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Nx(t,e,r):Nx(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function N2(e,t,r){return t=+t,e=+e,r=+r,Nx(e,t,r)[2]}function S2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?N2(t,e,r):N2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Q5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function J5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u7(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?c7:Ele(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(t-d*m/c+p)),b=Math.min(n,Math.floor(t+(c-d)*m/c+p));u7(e,t,x,b,i)}const a=e[t];let o=r,l=n;for(Ih(e,r,t),i(e[n],a)>0&&Ih(e,r,n);o<l;){for(Ih(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Ih(e,r,l):(++l,Ih(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ih(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ale(e,t,r){if(e=Float64Array.from(ble(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return J5(e);if(t>=1)return Q5(e);var n,i=(n-1)*t,a=Math.floor(i),o=Q5(u7(e,a).subarray(0,a+1)),l=J5(e.subarray(a+1));return o+(l-o)*(i-a)}}function Ple(e,t,r=l7){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function Ole(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Ci(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ho(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const E2=Symbol("implicit");function EC(){var e=new Y5,t=[],r=[],n=E2;function i(a){let o=e.get(a);if(o===void 0){if(n!==E2)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Y5;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return EC(t,r).unknown(n)},Ci.apply(i,arguments),i}function kf(){var e=EC().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var p=t().length,x=i<n,b=x?i:n,y=x?n:i;a=(y-b)/Math.max(1,p-c+d*2),l&&(a=Math.floor(a)),b+=(y-b-a*(p-c))*h,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var v=Ole(p).map(function(N){return b+a*N});return r(x?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),m()):h},e.copy=function(){return kf(t(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(h)},Ci.apply(m(),arguments)}function d7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d7(t())},e}function nf(){return d7(kf.apply(null,arguments).paddingInner(1))}function _C(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function h7(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Am(){}var Af=.7,Sx=1/Af,Lu="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tle=/^#([0-9a-f]{3,8})$/,Rle=new RegExp(`^rgb\\(${Lu},${Lu},${Lu}\\)$`),Mle=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),Ile=new RegExp(`^rgba\\(${Lu},${Lu},${Lu},${Pf}\\)$`),Dle=new RegExp(`^rgba\\(${pa},${pa},${pa},${Pf}\\)$`),Fle=new RegExp(`^hsl\\(${Pf},${pa},${pa}\\)$`),$le=new RegExp(`^hsla\\(${Pf},${pa},${pa},${Pf}\\)$`),Z5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_C(Am,Of,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eR,formatHex:eR,formatHex8:Lle,formatHsl:Ble,formatRgb:tR,toString:tR});function eR(){return this.rgb().formatHex()}function Lle(){return this.rgb().formatHex8()}function Ble(){return f7(this).formatHsl()}function tR(){return this.rgb().formatRgb()}function Of(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Tle.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rR(t):r===3?new Ss(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ug(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ug(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Rle.exec(e))?new Ss(t[1],t[2],t[3],1):(t=Mle.exec(e))?new Ss(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ile.exec(e))?ug(t[1],t[2],t[3],t[4]):(t=Dle.exec(e))?ug(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fle.exec(e))?iR(t[1],t[2]/100,t[3]/100,1):(t=$le.exec(e))?iR(t[1],t[2]/100,t[3]/100,t[4]):Z5.hasOwnProperty(e)?rR(Z5[e]):e==="transparent"?new Ss(NaN,NaN,NaN,0):null}function rR(e){return new Ss(e>>16&255,e>>8&255,e&255,1)}function ug(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ss(e,t,r,n)}function zle(e){return e instanceof Am||(e=Of(e)),e?(e=e.rgb(),new Ss(e.r,e.g,e.b,e.opacity)):new Ss}function _2(e,t,r,n){return arguments.length===1?zle(e):new Ss(e,t,r,n??1)}function Ss(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_C(Ss,_2,h7(Am,{brighter(e){return e=e==null?Sx:Math.pow(Sx,e),new Ss(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new Ss(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ss(oc(this.r),oc(this.g),oc(this.b),Ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nR,formatHex:nR,formatHex8:Wle,formatRgb:sR,toString:sR}));function nR(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}`}function Wle(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}${Ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function sR(){const e=Ex(this.opacity);return`${e===1?"rgb(":"rgba("}${oc(this.r)}, ${oc(this.g)}, ${oc(this.b)}${e===1?")":`, ${e})`}`}function Ex(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ql(e){return e=oc(e),(e<16?"0":"")+e.toString(16)}function iR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vi(e,t,r,n)}function f7(e){if(e instanceof Vi)return new Vi(e.h,e.s,e.l,e.opacity);if(e instanceof Am||(e=Of(e)),!e)return new Vi;if(e instanceof Vi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Vi(o,l,c,e.opacity)}function Ule(e,t,r,n){return arguments.length===1?f7(e):new Vi(e,t,r,n??1)}function Vi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_C(Vi,Ule,h7(Am,{brighter(e){return e=e==null?Sx:Math.pow(Sx,e),new Vi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Af:Math.pow(Af,e),new Vi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ss(rN(e>=240?e-240:e+120,i,n),rN(e,i,n),rN(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Vi(aR(this.h),dg(this.s),dg(this.l),Ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ex(this.opacity);return`${e===1?"hsl(":"hsla("}${aR(this.h)}, ${dg(this.s)*100}%, ${dg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aR(e){return e=(e||0)%360,e<0?e+360:e}function dg(e){return Math.max(0,Math.min(1,e||0))}function rN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const CC=e=>()=>e;function Vle(e,t){return function(r){return e+r*t}}function qle(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Hle(e){return(e=+e)==1?m7:function(t,r){return r-t?qle(t,r,e):CC(isNaN(t)?r:t)}}function m7(e,t){var r=t-e;return r?Vle(e,r):CC(isNaN(e)?t:e)}const oR=(function e(t){var r=Hle(t);function n(i,a){var o=r((i=_2(i)).r,(a=_2(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=m7(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=d(h),i+""}}return n.gamma=e,n})(1);function Kle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Gle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yle(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=zd(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Xle(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _x(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qle(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=zd(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var C2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nN=new RegExp(C2.source,"g");function Jle(e){return function(){return e}}function Zle(e){return function(t){return e(t)+""}}function ece(e,t){var r=C2.lastIndex=nN.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=C2.exec(e))&&(i=nN.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:_x(n,i)})),r=nN.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Zle(c[0].x):Jle(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function zd(e,t){var r=typeof t,n;return t==null||r==="boolean"?CC(t):(r==="number"?_x:r==="string"?(n=Of(t))?(t=n,oR):ece:t instanceof Of?oR:t instanceof Date?Xle:Gle(t)?Kle:Array.isArray(t)?Yle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qle:_x)(e,t)}function kC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tce(e,t){t===void 0&&(t=e,e=zd);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function rce(e){return function(){return e}}function Cx(e){return+e}var lR=[0,1];function ss(e){return e}function k2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rce(isNaN(t)?NaN:.5)}function nce(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function sce(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=k2(i,n),a=r(o,a)):(n=k2(n,i),a=r(a,o)),function(l){return a(n(l))}}function ice(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=k2(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=km(e,l,1,n)-1;return a[c](i[c](l))}}function Pm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function o0(){var e=lR,t=lR,r=zd,n,i,a,o=ss,l,c,d;function h(){var p=Math.min(e.length,t.length);return o!==ss&&(o=nce(e[0],e[p-1])),l=p>2?ice:sce,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(n),t,r)))(n(o(p)))}return m.invert=function(p){return o(i((d||(d=l(t,e.map(n),_x)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,Cx),h()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),r=kC,h()},m.clamp=function(p){return arguments.length?(o=p?!0:ss,h()):o!==ss},m.interpolate=function(p){return arguments.length?(r=p,h()):r},m.unknown=function(p){return arguments.length?(a=p,m):a},function(p,x){return n=p,i=x,h()}}function AC(){return o0()(ss,ss)}function ace(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function rd(e){return e=kx(Math.abs(e)),e?e[1]:NaN}function oce(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function lce(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tf(e){if(!(t=cce.exec(e)))throw new Error("invalid format: "+e);var t;return new PC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tf.prototype=PC.prototype;function PC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}PC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uce(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var p7;function dce(e,t){var r=kx(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(p7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+kx(e,Math.max(0,t+a-1))[0]}function cR(e,t){var r=kx(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const uR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ace,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cR(e*100,t),r:cR,s:dce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dR(e){return e}var hR=Array.prototype.map,fR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function hce(e){var t=e.grouping===void 0||e.thousands===void 0?dR:oce(hR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?dR:lce(hR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Tf(m);var p=m.fill,x=m.align,b=m.sign,y=m.symbol,v=m.zero,N=m.width,j=m.comma,E=m.precision,k=m.trim,_=m.type;_==="n"?(j=!0,_="g"):uR[_]||(E===void 0&&(E=12),k=!0,_="g"),(v||p==="0"&&x==="=")&&(v=!0,p="0",x="=");var A=y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=y==="$"?n:/[%p]/.test(_)?o:"",D=uR[_],q=/[defgprs%]/.test(_);E=E===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function K($){var H=A,W=T,B,M,z;if(_==="c")W=D($)+W,$="";else{$=+$;var P=$<0||1/$<0;if($=isNaN($)?c:D(Math.abs($),E),k&&($=uce($)),P&&+$==0&&b!=="+"&&(P=!1),H=(P?b==="("?b:l:b==="-"||b==="("?"":b)+H,W=(_==="s"?fR[8+p7/3]:"")+W+(P&&b==="("?")":""),q){for(B=-1,M=$.length;++B<M;)if(z=$.charCodeAt(B),48>z||z>57){W=(z===46?i+$.slice(B+1):$.slice(B))+W,$=$.slice(0,B);break}}}j&&!v&&($=t($,1/0));var C=H.length+$.length+W.length,L=C<N?new Array(N-C+1).join(p):"";switch(j&&v&&($=t(L+$,L.length?N-W.length:1/0),L=""),x){case"<":$=H+$+W+L;break;case"=":$=H+L+$+W;break;case"^":$=L.slice(0,C=L.length>>1)+H+$+W+L.slice(C);break;default:$=L+H+$+W;break}return a($)}return K.toString=function(){return m+""},K}function h(m,p){var x=d((m=Tf(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(rd(p)/3)))*3,y=Math.pow(10,-b),v=fR[8+b/3];return function(N){return x(y*N)+v}}return{format:d,formatPrefix:h}}var hg,OC,g7;fce({thousands:",",grouping:[3],currency:["$",""]});function fce(e){return hg=hce(e),OC=hg.format,g7=hg.formatPrefix,hg}function mce(e){return Math.max(0,-rd(Math.abs(e)))}function pce(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rd(t)/3)))*3-rd(Math.abs(e)))}function gce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rd(t)-rd(e))+1}function x7(e,t,r,n){var i=S2(e,t,r),a;switch(n=Tf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=pce(i,o))&&(n.precision=a),g7(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=gce(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=mce(i))&&(n.precision=a-(n.type==="%")*2);break}}return OC(n)}function dl(e){var t=e.domain;return e.ticks=function(r){var n=t();return j2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return x7(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);h-- >0;){if(d=N2(o,l,r),d===c)return n[i]=o,n[a]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Ax(){var e=AC();return e.copy=function(){return Pm(e,Ax())},Ci.apply(e,arguments),dl(e)}function v7(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Cx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return v7(e).unknown(t)},e=arguments.length?Array.from(e,Cx):[0,1],dl(r)}function y7(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function mR(e){return Math.log(e)}function pR(e){return Math.exp(e)}function xce(e){return-Math.log(-e)}function vce(e){return-Math.exp(-e)}function yce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bce(e){return e===10?yce:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gR(e){return(t,r)=>-e(-t,r)}function TC(e){const t=e(mR,pR),r=t.domain;let n=10,i,a;function o(){return i=wce(n),a=bce(n),r()[0]<0?(i=gR(i),a=gR(a),e(xce,vce)):e(mR,pR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let p=i(d),x=i(h),b,y;const v=l==null?10:+l;let N=[];if(!(n%1)&&x-p<v){if(p=Math.floor(p),x=Math.ceil(x),d>0){for(;p<=x;++p)for(b=1;b<n;++b)if(y=p<0?b/a(-p):b*a(p),!(y<d)){if(y>h)break;N.push(y)}}else for(;p<=x;++p)for(b=n-1;b>=1;--b)if(y=p>0?b/a(-p):b*a(p),!(y<d)){if(y>h)break;N.push(y)}N.length*2<v&&(N=j2(d,h,v))}else N=j2(p,x,Math.min(x-p,v)).map(a);return m?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tf(c)).precision==null&&(c.trim=!0),c=OC(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=d?c(h):""}},t.nice=()=>r(y7(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function b7(){const e=TC(o0()).domain([1,10]);return e.copy=()=>Pm(e,b7()).base(e.base()),Ci.apply(e,arguments),e}function xR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function RC(e){var t=1,r=e(xR(t),vR(t));return r.constant=function(n){return arguments.length?e(xR(t=+n),vR(t)):t},dl(r)}function w7(){var e=RC(o0());return e.copy=function(){return Pm(e,w7()).constant(e.constant())},Ci.apply(e,arguments)}function yR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nce(e){return e<0?-e*e:e*e}function MC(e){var t=e(ss,ss),r=1;function n(){return r===1?e(ss,ss):r===.5?e(jce,Nce):e(yR(r),yR(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},dl(t)}function IC(){var e=MC(o0());return e.copy=function(){return Pm(e,IC()).exponent(e.exponent())},Ci.apply(e,arguments),e}function Sce(){return IC.apply(null,arguments).exponent(.5)}function bR(e){return Math.sign(e)*e*e}function Ece(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function j7(){var e=AC(),t=[0,1],r=!1,n;function i(a){var o=Ece(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(bR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Cx)).map(bR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return j7(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ci.apply(i,arguments),dl(i)}function N7(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Ple(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[km(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Jo),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return N7().domain(e).range(t).unknown(n)},Ci.apply(a,arguments)}function S7(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[km(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return S7().domain([e,t]).range(i).unknown(a)},Ci.apply(dl(o),arguments)}function E7(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[km(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return E7().domain(e).range(t).unknown(r)},Ci.apply(i,arguments)}const sN=new Date,iN=new Date;function dn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},i.filter=a=>dn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(sN.setTime(+a),iN.setTime(+o),e(sN),e(iN),Math.floor(r(sN,iN))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Px=dn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Px.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?dn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Px);Px.range;const qa=1e3,pi=qa*60,Ha=pi*60,so=Ha*24,DC=so*7,wR=so*30,aN=so*365,Jl=dn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getUTCSeconds());Jl.range;const FC=dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qa)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getMinutes());FC.range;const $C=dn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCMinutes());$C.range;const LC=dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qa-e.getMinutes()*pi)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getHours());LC.range;const BC=dn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCHours());BC.range;const Om=dn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pi)/so,e=>e.getDate()-1);Om.range;const l0=dn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/so,e=>e.getUTCDate()-1);l0.range;const _7=dn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/so,e=>Math.floor(e/so));_7.range;function Cc(e){return dn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*pi)/DC)}const c0=Cc(0),Ox=Cc(1),_ce=Cc(2),Cce=Cc(3),nd=Cc(4),kce=Cc(5),Ace=Cc(6);c0.range;Ox.range;_ce.range;Cce.range;nd.range;kce.range;Ace.range;function kc(e){return dn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/DC)}const u0=kc(0),Tx=kc(1),Pce=kc(2),Oce=kc(3),sd=kc(4),Tce=kc(5),Rce=kc(6);u0.range;Tx.range;Pce.range;Oce.range;sd.range;Tce.range;Rce.range;const zC=dn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zC.range;const WC=dn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WC.range;const io=dn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());io.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});io.range;const ao=dn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:dn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ao.range;function C7(e,t,r,n,i,a){const o=[[Jl,1,qa],[Jl,5,5*qa],[Jl,15,15*qa],[Jl,30,30*qa],[a,1,pi],[a,5,5*pi],[a,15,15*pi],[a,30,30*pi],[i,1,Ha],[i,3,3*Ha],[i,6,6*Ha],[i,12,12*Ha],[n,1,so],[n,2,2*so],[r,1,DC],[t,1,wR],[t,3,3*wR],[e,1,aN]];function l(d,h,m){const p=h<d;p&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:c(d,h,m),b=x?x.range(d,+h+1):[];return p?b.reverse():b}function c(d,h,m){const p=Math.abs(h-d)/m,x=SC(([,,v])=>v).right(o,p);if(x===o.length)return e.every(S2(d/aN,h/aN,m));if(x===0)return Px.every(Math.max(S2(d,h,m),1));const[b,y]=o[p/o[x-1][2]<o[x][2]/p?x-1:x];return b.every(y)}return[l,c]}const[Mce,Ice]=C7(ao,WC,u0,_7,BC,$C),[Dce,Fce]=C7(io,zC,c0,Om,LC,FC);function oN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $ce(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Fh(i),h=$h(i),m=Fh(a),p=$h(a),x=Fh(o),b=$h(o),y=Fh(l),v=$h(l),N=Fh(c),j=$h(c),E={a:P,A:C,b:L,B:U,c:null,d:CR,e:CR,f:oue,g:xue,G:yue,H:sue,I:iue,j:aue,L:k7,m:lue,M:cue,p:R,q:I,Q:PR,s:OR,S:uue,u:due,U:hue,V:fue,w:mue,W:pue,x:null,X:null,y:gue,Y:vue,Z:bue,"%":AR},k={a:V,A:re,b:ce,B:me,c:null,d:kR,e:kR,f:Sue,g:Mue,G:Due,H:wue,I:jue,j:Nue,L:P7,m:Eue,M:_ue,p:ae,q:ue,Q:PR,s:OR,S:Cue,u:kue,U:Aue,V:Pue,w:Oue,W:Tue,x:null,X:null,y:Rue,Y:Iue,Z:Fue,"%":AR},_={a:K,A:$,b:H,B:W,c:B,d:ER,e:ER,f:eue,g:SR,G:NR,H:_R,I:_R,j:Xce,L:Zce,m:Yce,M:Qce,p:q,q:Gce,Q:rue,s:nue,S:Jce,u:Uce,U:Vce,V:qce,w:Wce,W:Hce,x:M,X:z,y:SR,Y:NR,Z:Kce,"%":tue};E.x=A(r,E),E.X=A(n,E),E.c=A(t,E),k.x=A(r,k),k.X=A(n,k),k.c=A(t,k);function A(pe,ee){return function(xe){var X=[],fe=-1,de=0,te=pe.length,he,we,ze;for(xe instanceof Date||(xe=new Date(+xe));++fe<te;)pe.charCodeAt(fe)===37&&(X.push(pe.slice(de,fe)),(we=jR[he=pe.charAt(++fe)])!=null?he=pe.charAt(++fe):we=he==="e"?" ":"0",(ze=ee[he])&&(he=ze(xe,we)),X.push(he),de=fe+1);return X.push(pe.slice(de,fe)),X.join("")}}function T(pe,ee){return function(xe){var X=Dh(1900,void 0,1),fe=D(X,pe,xe+="",0),de,te;if(fe!=xe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ee&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(de=lN(Dh(X.y,0,1)),te=de.getUTCDay(),de=te>4||te===0?Tx.ceil(de):Tx(de),de=l0.offset(de,(X.V-1)*7),X.y=de.getUTCFullYear(),X.m=de.getUTCMonth(),X.d=de.getUTCDate()+(X.w+6)%7):(de=oN(Dh(X.y,0,1)),te=de.getDay(),de=te>4||te===0?Ox.ceil(de):Ox(de),de=Om.offset(de,(X.V-1)*7),X.y=de.getFullYear(),X.m=de.getMonth(),X.d=de.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),te="Z"in X?lN(Dh(X.y,0,1)).getUTCDay():oN(Dh(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(te+5)%7:X.w+X.U*7-(te+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,lN(X)):oN(X)}}function D(pe,ee,xe,X){for(var fe=0,de=ee.length,te=xe.length,he,we;fe<de;){if(X>=te)return-1;if(he=ee.charCodeAt(fe++),he===37){if(he=ee.charAt(fe++),we=_[he in jR?ee.charAt(fe++):he],!we||(X=we(pe,xe,X))<0)return-1}else if(he!=xe.charCodeAt(X++))return-1}return X}function q(pe,ee,xe){var X=d.exec(ee.slice(xe));return X?(pe.p=h.get(X[0].toLowerCase()),xe+X[0].length):-1}function K(pe,ee,xe){var X=x.exec(ee.slice(xe));return X?(pe.w=b.get(X[0].toLowerCase()),xe+X[0].length):-1}function $(pe,ee,xe){var X=m.exec(ee.slice(xe));return X?(pe.w=p.get(X[0].toLowerCase()),xe+X[0].length):-1}function H(pe,ee,xe){var X=N.exec(ee.slice(xe));return X?(pe.m=j.get(X[0].toLowerCase()),xe+X[0].length):-1}function W(pe,ee,xe){var X=y.exec(ee.slice(xe));return X?(pe.m=v.get(X[0].toLowerCase()),xe+X[0].length):-1}function B(pe,ee,xe){return D(pe,t,ee,xe)}function M(pe,ee,xe){return D(pe,r,ee,xe)}function z(pe,ee,xe){return D(pe,n,ee,xe)}function P(pe){return o[pe.getDay()]}function C(pe){return a[pe.getDay()]}function L(pe){return c[pe.getMonth()]}function U(pe){return l[pe.getMonth()]}function R(pe){return i[+(pe.getHours()>=12)]}function I(pe){return 1+~~(pe.getMonth()/3)}function V(pe){return o[pe.getUTCDay()]}function re(pe){return a[pe.getUTCDay()]}function ce(pe){return c[pe.getUTCMonth()]}function me(pe){return l[pe.getUTCMonth()]}function ae(pe){return i[+(pe.getUTCHours()>=12)]}function ue(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ee=A(pe+="",E);return ee.toString=function(){return pe},ee},parse:function(pe){var ee=T(pe+="",!1);return ee.toString=function(){return pe},ee},utcFormat:function(pe){var ee=A(pe+="",k);return ee.toString=function(){return pe},ee},utcParse:function(pe){var ee=T(pe+="",!0);return ee.toString=function(){return pe},ee}}}var jR={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,Lce=/^%/,Bce=/[\\^$*+?|[\]().{}]/g;function er(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function zce(e){return e.replace(Bce,"\\$&")}function Fh(e){return new RegExp("^(?:"+e.map(zce).join("|")+")","i")}function $h(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wce(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Uce(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vce(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qce(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hce(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function NR(e,t,r){var n=gn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function SR(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kce(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Gce(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Yce(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ER(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Xce(e,t,r){var n=gn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _R(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qce(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Jce(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zce(e,t,r){var n=gn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eue(e,t,r){var n=gn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tue(e,t,r){var n=Lce.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rue(e,t,r){var n=gn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nue(e,t,r){var n=gn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function CR(e,t){return er(e.getDate(),t,2)}function sue(e,t){return er(e.getHours(),t,2)}function iue(e,t){return er(e.getHours()%12||12,t,2)}function aue(e,t){return er(1+Om.count(io(e),e),t,3)}function k7(e,t){return er(e.getMilliseconds(),t,3)}function oue(e,t){return k7(e,t)+"000"}function lue(e,t){return er(e.getMonth()+1,t,2)}function cue(e,t){return er(e.getMinutes(),t,2)}function uue(e,t){return er(e.getSeconds(),t,2)}function due(e){var t=e.getDay();return t===0?7:t}function hue(e,t){return er(c0.count(io(e)-1,e),t,2)}function A7(e){var t=e.getDay();return t>=4||t===0?nd(e):nd.ceil(e)}function fue(e,t){return e=A7(e),er(nd.count(io(e),e)+(io(e).getDay()===4),t,2)}function mue(e){return e.getDay()}function pue(e,t){return er(Ox.count(io(e)-1,e),t,2)}function gue(e,t){return er(e.getFullYear()%100,t,2)}function xue(e,t){return e=A7(e),er(e.getFullYear()%100,t,2)}function vue(e,t){return er(e.getFullYear()%1e4,t,4)}function yue(e,t){var r=e.getDay();return e=r>=4||r===0?nd(e):nd.ceil(e),er(e.getFullYear()%1e4,t,4)}function bue(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+er(t/60|0,"0",2)+er(t%60,"0",2)}function kR(e,t){return er(e.getUTCDate(),t,2)}function wue(e,t){return er(e.getUTCHours(),t,2)}function jue(e,t){return er(e.getUTCHours()%12||12,t,2)}function Nue(e,t){return er(1+l0.count(ao(e),e),t,3)}function P7(e,t){return er(e.getUTCMilliseconds(),t,3)}function Sue(e,t){return P7(e,t)+"000"}function Eue(e,t){return er(e.getUTCMonth()+1,t,2)}function _ue(e,t){return er(e.getUTCMinutes(),t,2)}function Cue(e,t){return er(e.getUTCSeconds(),t,2)}function kue(e){var t=e.getUTCDay();return t===0?7:t}function Aue(e,t){return er(u0.count(ao(e)-1,e),t,2)}function O7(e){var t=e.getUTCDay();return t>=4||t===0?sd(e):sd.ceil(e)}function Pue(e,t){return e=O7(e),er(sd.count(ao(e),e)+(ao(e).getUTCDay()===4),t,2)}function Oue(e){return e.getUTCDay()}function Tue(e,t){return er(Tx.count(ao(e)-1,e),t,2)}function Rue(e,t){return er(e.getUTCFullYear()%100,t,2)}function Mue(e,t){return e=O7(e),er(e.getUTCFullYear()%100,t,2)}function Iue(e,t){return er(e.getUTCFullYear()%1e4,t,4)}function Due(e,t){var r=e.getUTCDay();return e=r>=4||r===0?sd(e):sd.ceil(e),er(e.getUTCFullYear()%1e4,t,4)}function Fue(){return"+0000"}function AR(){return"%"}function PR(e){return+e}function OR(e){return Math.floor(+e/1e3)}var cu,T7,R7;$ue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $ue(e){return cu=$ce(e),T7=cu.format,cu.parse,R7=cu.utcFormat,cu.utcParse,cu}function Lue(e){return new Date(e)}function Bue(e){return e instanceof Date?+e:+new Date(+e)}function UC(e,t,r,n,i,a,o,l,c,d){var h=AC(),m=h.invert,p=h.domain,x=d(".%L"),b=d(":%S"),y=d("%I:%M"),v=d("%I %p"),N=d("%a %d"),j=d("%b %d"),E=d("%B"),k=d("%Y");function _(A){return(c(A)<A?x:l(A)<A?b:o(A)<A?y:a(A)<A?v:n(A)<A?i(A)<A?N:j:r(A)<A?E:k)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?p(Array.from(A,Bue)):p().map(Lue)},h.ticks=function(A){var T=p();return e(T[0],T[T.length-1],A??10)},h.tickFormat=function(A,T){return T==null?_:d(T)},h.nice=function(A){var T=p();return(!A||typeof A.range!="function")&&(A=t(T[0],T[T.length-1],A??10)),A?p(y7(T,A)):h},h.copy=function(){return Pm(h,UC(e,t,r,n,i,a,o,l,c,d))},h}function zue(){return Ci.apply(UC(Dce,Fce,io,zC,c0,Om,LC,FC,Jl,T7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wue(){return Ci.apply(UC(Mce,Ice,ao,WC,u0,l0,BC,$C,Jl,R7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d0(){var e=0,t=1,r,n,i,a,o=ss,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(a(m)-r)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(p){var x,b;return arguments.length?([x,b]=p,o=m(x,b),d):[o(0),o(1)]}}return d.range=h(zd),d.rangeRound=h(kC),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),d}}function hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function M7(){var e=dl(d0()(ss));return e.copy=function(){return hl(e,M7())},ho.apply(e,arguments)}function I7(){var e=TC(d0()).domain([1,10]);return e.copy=function(){return hl(e,I7()).base(e.base())},ho.apply(e,arguments)}function D7(){var e=RC(d0());return e.copy=function(){return hl(e,D7()).constant(e.constant())},ho.apply(e,arguments)}function VC(){var e=MC(d0());return e.copy=function(){return hl(e,VC()).exponent(e.exponent())},ho.apply(e,arguments)}function Uue(){return VC.apply(null,arguments).exponent(.5)}function F7(){var e=[],t=ss;function r(n){if(n!=null&&!isNaN(n=+n))return t((km(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Jo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Ale(e,a/n))},r.copy=function(){return F7(t).domain(e)},ho.apply(r,arguments)}function h0(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,d=ss,h,m=!1,p;function x(y){return isNaN(y=+y)?p:(y=.5+((y=+h(y))-a)*(n*y<n*a?l:c),d(m?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,i=h(e=+e),a=h(t=+t),o=h(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(m=!!y,x):m},x.interpolator=function(y){return arguments.length?(d=y,x):d};function b(y){return function(v){var N,j,E;return arguments.length?([N,j,E]=v,d=tce(y,[N,j,E]),x):[d(0),d(.5),d(1)]}}return x.range=b(zd),x.rangeRound=b(kC),x.unknown=function(y){return arguments.length?(p=y,x):p},function(y){return h=y,i=y(e),a=y(t),o=y(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function $7(){var e=dl(h0()(ss));return e.copy=function(){return hl(e,$7())},ho.apply(e,arguments)}function L7(){var e=TC(h0()).domain([.1,1,10]);return e.copy=function(){return hl(e,L7()).base(e.base())},ho.apply(e,arguments)}function B7(){var e=RC(h0());return e.copy=function(){return hl(e,B7()).constant(e.constant())},ho.apply(e,arguments)}function qC(){var e=MC(h0());return e.copy=function(){return hl(e,qC()).exponent(e.exponent())},ho.apply(e,arguments)}function Vue(){return qC.apply(null,arguments).exponent(.5)}const TR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kf,scaleDiverging:$7,scaleDivergingLog:L7,scaleDivergingPow:qC,scaleDivergingSqrt:Vue,scaleDivergingSymlog:B7,scaleIdentity:v7,scaleImplicit:E2,scaleLinear:Ax,scaleLog:b7,scaleOrdinal:EC,scalePoint:nf,scalePow:IC,scaleQuantile:N7,scaleQuantize:S7,scaleRadial:j7,scaleSequential:M7,scaleSequentialLog:I7,scaleSequentialPow:VC,scaleSequentialQuantile:F7,scaleSequentialSqrt:Uue,scaleSequentialSymlog:D7,scaleSqrt:Sce,scaleSymlog:w7,scaleThreshold:E7,scaleTime:zue,scaleUtc:Wue,tickFormat:x7},Symbol.toStringTag,{value:"Module"}));var cN,RR;function z7(){if(RR)return cN;RR=1;var e=Dd();function t(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(d===void 0?c===c&&!e(c):i(c,d)))var d=c,h=l}return h}return cN=t,cN}var uN,MR;function que(){if(MR)return uN;MR=1;function e(t,r){return t>r}return uN=e,uN}var dN,IR;function Hue(){if(IR)return dN;IR=1;var e=z7(),t=que(),r=Bd();function n(i){return i&&i.length?e(i,r,t):void 0}return dN=n,dN}var Kue=Hue();const Go=rr(Kue);var hN,DR;function Gue(){if(DR)return hN;DR=1;function e(t,r){return t<r}return hN=e,hN}var fN,FR;function Yue(){if(FR)return fN;FR=1;var e=z7(),t=Gue(),r=Bd();function n(i){return i&&i.length?e(i,r,t):void 0}return fN=n,fN}var Xue=Yue();const f0=rr(Xue);var mN,$R;function Que(){if($R)return mN;$R=1;var e=oC(),t=ul(),r=Yz(),n=Ts();function i(a,o){var l=n(a)?e:r;return l(a,t(o,3))}return mN=i,mN}var pN,LR;function Jue(){if(LR)return pN;LR=1;var e=Kz(),t=Que();function r(n,i){return e(t(n,i),1)}return pN=r,pN}var Zue=Jue();const ede=rr(Zue);var gN,BR;function tde(){if(BR)return gN;BR=1;var e=bC();function t(r,n){return e(r,n)}return gN=t,gN}var rde=tde();const id=rr(rde);var Wd=1e9,nde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KC,Ar=!0,Ei="[DecimalError] ",lc=Ei+"Invalid argument: ",HC=Ei+"Exponent out of range: ",Ud=Math.floor,Wl=Math.pow,sde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ks,pn=1e7,Nr=7,W7=9007199254740991,Rx=Ud(W7/Nr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};st.dividedBy=st.div=function(e){return Qa(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,r=t.constructor;return hr(Qa(t,new r(e),0,1),r.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Xr(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ks))throw Error(Ei+"NaN");if(r.s<1)throw Error(Ei+(r.s?"NaN":"-Infinity"));return r.eq(Ks)?new n(0):(Ar=!1,t=Qa(Rf(r,a),Rf(e,a),a),Ar=!0,hr(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q7(t,e):U7(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ei+"NaN");return r.s?(Ar=!1,t=Qa(r,e,0,1).times(e),Ar=!0,r.minus(t)):hr(new n(r),i)};st.naturalExponential=st.exp=function(){return V7(this)};st.naturalLogarithm=st.ln=function(){return Rf(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U7(t,e):q7(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lc+e);if(t=Xr(i)+1,n=i.d.length-1,r=n*Nr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};st.squareRoot=st.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ei+"NaN")}for(e=Xr(l),Ar=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ua(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ud((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Qa(l,a,o+2)).times(.5),ua(a.d).slice(0,o)===(t=ua(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(hr(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return Ar=!0,hr(n,r)};st.times=st.mul=function(e){var t,r,n,i,a,o,l,c,d,h=this,m=h.constructor,p=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,c=p.length,d=x.length,c<d&&(a=p,p=x,x=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+x[n]*p[i-n-1]+t,a[i--]=l%pn|0,t=l/pn|0;a[i]=(a[i]+t)%pn|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ar?hr(e,m.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ba(e,0,Wd),t===void 0?t=n.rounding:ba(t,0,8),hr(r,e+Xr(r)+1,t))};st.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=xc(n,!0):(ba(e,0,Wd),t===void 0?t=i.rounding:ba(t,0,8),n=hr(new i(n),e+1,t),r=xc(n,!0,e+1)),r};st.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?xc(i):(ba(e,0,Wd),t===void 0?t=a.rounding:ba(t,0,8),n=hr(new a(i),e+Xr(i)+1,t),r=xc(n.abs(),!1,e+Xr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return hr(new t(e),Xr(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(Ks);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ei+"Infinity");return l}if(l.eq(Ks))return l;if(n=c.precision,e.eq(Ks))return hr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=h<0?-h:h)<=W7){for(i=new c(Ks),t=Math.ceil(n/Nr+4),Ar=!1;r%2&&(i=i.times(l),WR(i.d,t)),r=Ud(r/2),r!==0;)l=l.times(l),WR(l.d,t);return Ar=!0,e.s<0?new c(Ks).div(i):hr(i,n)}}else if(a<0)throw Error(Ei+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ar=!1,i=e.times(Rf(l,n+d)),Ar=!0,i=V7(i),i.s=a,i};st.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Xr(i),n=xc(i,r<=a.toExpNeg||r>=a.toExpPos)):(ba(e,1,Wd),t===void 0?t=a.rounding:ba(t,0,8),i=hr(new a(i),e,t),r=Xr(i),n=xc(i,e<=r||r<=a.toExpNeg,e)),n};st.toSignificantDigits=st.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ba(e,1,Wd),t===void 0?t=n.rounding:ba(t,0,8)),hr(new n(r),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return xc(e,t<=r.toExpNeg||t>=r.toExpPos)};function U7(e,t){var r,n,i,a,o,l,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Ar?hr(t,m):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(m/Nr),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/pn|0,c[a]%=pn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ar?hr(t,m):t}function ba(e,t,r){if(e!==~~e||e<t||e>r)throw Error(lc+e)}function ua(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Nr-n.length,r&&(a+=Lo(r)),a+=n;o=e[t],n=o+"",r=Nr-n.length,r&&(a+=Lo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Qa=(function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%pn|0,o=a/pn|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*pn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,h,m,p,x,b,y,v,N,j,E,k,_,A,T,D,q=n.constructor,K=n.s==i.s?1:-1,$=n.d,H=i.d;if(!n.s)return new q(n);if(!i.s)throw Error(Ei+"Division by zero");for(c=n.e-i.e,T=H.length,_=$.length,x=new q(K),b=x.d=[],d=0;H[d]==($[d]||0);)++d;if(H[d]>($[d]||0)&&--c,a==null?j=a=q.precision:o?j=a+(Xr(n)-Xr(i))+1:j=a,j<0)return new q(0);if(j=j/Nr+2|0,d=0,T==1)for(h=0,H=H[0],j++;(d<_||h)&&j--;d++)E=h*pn+($[d]||0),b[d]=E/H|0,h=E%H|0;else{for(h=pn/(H[0]+1)|0,h>1&&(H=e(H,h),$=e($,h),T=H.length,_=$.length),k=T,y=$.slice(0,T),v=y.length;v<T;)y[v++]=0;D=H.slice(),D.unshift(0),A=H[0],H[1]>=pn/2&&++A;do h=0,l=t(H,y,T,v),l<0?(N=y[0],T!=v&&(N=N*pn+(y[1]||0)),h=N/A|0,h>1?(h>=pn&&(h=pn-1),m=e(H,h),p=m.length,v=y.length,l=t(m,y,p,v),l==1&&(h--,r(m,T<p?D:H,p))):(h==0&&(l=h=1),m=H.slice()),p=m.length,p<v&&m.unshift(0),r(y,m,v),l==-1&&(v=y.length,l=t(H,y,T,v),l<1&&(h++,r(y,T<v?D:H,v))),v=y.length):l===0&&(h++,y=[0]),b[d++]=h,l&&y[0]?y[v++]=$[k]||0:(y=[$[k]],v=1);while((k++<_||y[0]!==void 0)&&j--)}return b[0]||b.shift(),x.e=c,hr(x,o?a+Xr(x)+1:a)}})();function V7(e,t){var r,n,i,a,o,l,c=0,d=0,h=e.constructor,m=h.precision;if(Xr(e)>16)throw Error(HC+Xr(e));if(!e.s)return new h(Ks);for(Ar=!1,l=m,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Wl(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new h(Ks),h.precision=l;;){if(i=hr(i.times(e),l),r=r.times(++c),o=a.plus(Qa(i,r,l)),ua(o.d).slice(0,l)===ua(a.d).slice(0,l)){for(;d--;)a=hr(a.times(a),l);return h.precision=m,t==null?(Ar=!0,hr(a,m)):a}a=o}}function Xr(e){for(var t=e.e*Nr,r=e.d[0];r>=10;r/=10)t++;return t}function xN(e,t,r){if(t>e.LN10.sd())throw Ar=!0,r&&(e.precision=r),Error(Ei+"LN10 precision limit exceeded");return hr(new e(e.LN10),t)}function Lo(e){for(var t="";e--;)t+="0";return t}function Rf(e,t){var r,n,i,a,o,l,c,d,h,m=1,p=10,x=e,b=x.d,y=x.constructor,v=y.precision;if(x.s<1)throw Error(Ei+(x.s?"NaN":"-Infinity"));if(x.eq(Ks))return new y(0);if(t==null?(Ar=!1,d=v):d=t,x.eq(10))return t==null&&(Ar=!0),xN(y,d);if(d+=p,y.precision=d,r=ua(b),n=r.charAt(0),a=Xr(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=ua(x.d),n=r.charAt(0),m++;a=Xr(x),n>1?(x=new y("0."+r),a++):x=new y(n+"."+r.slice(1))}else return c=xN(y,d+2,v).times(a+""),x=Rf(new y(n+"."+r.slice(1)),d-p).plus(c),y.precision=v,t==null?(Ar=!0,hr(x,v)):x;for(l=o=x=Qa(x.minus(Ks),x.plus(Ks),d),h=hr(x.times(x),d),i=3;;){if(o=hr(o.times(h),d),c=l.plus(Qa(o,new y(i),d)),ua(c.d).slice(0,d)===ua(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(xN(y,d+2,v).times(a+""))),l=Qa(l,new y(m),d),y.precision=v,t==null?(Ar=!0,hr(l,v)):l;l=c,i+=2}}function zR(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ud(r/Nr),e.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Nr;n<i;)e.d.push(+t.slice(n,n+=Nr));t=t.slice(n),n=Nr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ar&&(e.e>Rx||e.e<-Rx))throw Error(HC+r)}else e.s=0,e.e=0,e.d=[0];return e}function hr(e,t,r){var n,i,a,o,l,c,d,h,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Nr,i=t,d=m[h=0];else{if(h=Math.ceil((n+1)/Nr),a=m.length,h>=a)return e;for(d=a=m[h],o=1;a>=10;a/=10)o++;n%=Nr,i=n-Nr+o}if(r!==void 0&&(a=Wl(10,o-i-1),l=d/a%10|0,c=t<0||m[h+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/Wl(10,o-i):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(a=Xr(e),m.length=1,t=t-a-1,m[0]=Wl(10,(Nr-t%Nr)%Nr),e.e=Ud(-t/Nr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=Wl(10,Nr-n),m[h]=i>0?(d/Wl(10,o-i)%Wl(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==pn&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=pn)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Ar&&(e.e>Rx||e.e<-Rx))throw Error(HC+Xr(e));return e}function q7(e,t){var r,n,i,a,o,l,c,d,h,m,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ar?hr(t,x):t;if(c=e.d,m=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(h=o<0,h?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),i=Math.max(Math.ceil(x/Nr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}o=0}for(h&&(r=c,c=m,m=r,t.s=-t.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=pn-1;--c[a],c[i]+=pn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ar?hr(t,x):t):new p(0)}function xc(e,t,r){var n,i=Xr(e),a=ua(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Lo(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Lo(-i-1)+a,r&&(n=r-o)>0&&(a+=Lo(n))):i>=o?(a+=Lo(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Lo(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Lo(n))),e.s<0?"-"+a:a}function WR(e,t){if(e.length>t)return e.length=t,!0}function H7(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(lc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return zR(o,a.toString())}else if(typeof a!="string")throw Error(lc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,sde.test(a))zR(o,a);else throw Error(lc+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=H7,i.config=i.set=ide,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function ide(e){if(!e||typeof e!="object")throw Error(Ei+"Object expected");var t,r,n,i=["precision",1,Wd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ud(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(lc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lc+r+": "+n);return this}var KC=H7(nde);Ks=new KC(1);const cr=KC;function ade(e){return ude(e)||cde(e)||lde(e)||ode()}function ode(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(e,t){if(e){if(typeof e=="string")return A2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(e,t)}}function cde(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ude(e){if(Array.isArray(e))return A2(e)}function A2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dde=function(t){return t},K7={},G7=function(t){return t===K7},UR=function(t){return function r(){return arguments.length===0||arguments.length===1&&G7(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hde=function e(t,r){return t===1?r:UR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==K7}).length;return o>=t?r.apply(void 0,i):e(t-o,UR(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=i.map(function(m){return G7(m)?c.shift():m});return r.apply(void 0,ade(h).concat(c))}))})},m0=function(t){return hde(t.length,t)},P2=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},fde=m0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mde=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return dde;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},O2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Y7=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function pde(e){var t;return e===0?t=1:t=Math.floor(new cr(e).abs().log(10).toNumber())+1,t}function gde(e,t,r){for(var n=new cr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var xde=m0(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),vde=m0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),yde=m0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const p0={rangeStep:gde,getDigitCount:pde,interpolateNumber:xde,uninterpolateNumber:vde,uninterpolateTruncation:yde};function T2(e){return jde(e)||wde(e)||X7(e)||bde()}function bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wde(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jde(e){if(Array.isArray(e))return R2(e)}function Mf(e,t){return Ede(e)||Sde(e,t)||X7(e,t)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7(e,t){if(e){if(typeof e=="string")return R2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(e,t)}}function R2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sde(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Ede(e){if(Array.isArray(e))return e}function Q7(e){var t=Mf(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function J7(e,t,r){if(e.lte(0))return new cr(0);var n=p0.getDigitCount(e.toNumber()),i=new cr(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new cr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new cr(Math.ceil(c))}function _de(e,t,r){var n=1,i=new cr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new cr(10).pow(p0.getDigitCount(e)-1),i=new cr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new cr(Math.floor(e)))}else e===0?i=new cr(Math.floor((t-1)/2)):r||(i=new cr(Math.floor(e)));var o=Math.floor((t-1)/2),l=mde(fde(function(c){return i.add(new cr(c-o).mul(n)).toNumber()}),P2);return l(0,t)}function Z7(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new cr(0),tickMin:new cr(0),tickMax:new cr(0)};var a=J7(new cr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new cr(0):(o=new cr(e).add(t).div(2),o=o.sub(new cr(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new cr(t).sub(o).div(a).toNumber()),d=l+c+1;return d>r?Z7(e,t,r,n,i+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new cr(l).mul(a)),tickMax:o.add(new cr(c).mul(a))})}function Cde(e){var t=Mf(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Q7([r,n]),c=Mf(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(T2(P2(0,i-1).map(function(){return 1/0}))):[].concat(T2(P2(0,i-1).map(function(){return-1/0})),[h]);return r>n?O2(m):m}if(d===h)return _de(d,i,a);var p=Z7(d,h,o,a),x=p.step,b=p.tickMin,y=p.tickMax,v=p0.rangeStep(b,y.add(new cr(.1).mul(x)),x);return r>n?O2(v):v}function kde(e,t){var r=Mf(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Q7([n,i]),l=Mf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var h=Math.max(t,2),m=J7(new cr(d).sub(c).div(h-1),a,0),p=[].concat(T2(p0.rangeStep(new cr(c),new cr(d).sub(new cr(.99).mul(m)),m)),[d]);return n>i?O2(p):p}var Ade=Y7(Cde),Pde=Y7(kde),Ode="Invariant failed";function vc(e,t){throw new Error(Ode)}var Tde=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(this,arguments)}function Rde(e,t){return Fde(e)||Dde(e,t)||Ide(e,t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(e,t){if(e){if(typeof e=="string")return VR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VR(e,t)}}function VR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Fde(e){if(Array.isArray(e))return e}function $de(e,t){if(e==null)return{};var r=Lde(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r8(n.key),n)}}function Wde(e,t,r){return t&&zde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ude(e,t,r){return t=Ix(t),Vde(e,e8()?Reflect.construct(t,r||[],Ix(e).constructor):t.apply(e,r))}function Vde(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(e)}function qde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!e})()}function Ix(e){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(e)}function Hde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M2(e,t)}function M2(e,t){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M2(e,t)}function t8(e,t,r){return t=r8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=Kde(e,"string");return ad(t)=="symbol"?t:t+""}function Kde(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tm=(function(e){function t(){return Bde(this,t),Ude(this,t,arguments)}return Hde(t,e),Wde(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,p=$de(n,Tde),x=Ft(p,!1);this.props.direction==="x"&&h.type!=="number"&&vc();var b=c.map(function(y){var v=d(y,l),N=v.x,j=v.y,E=v.value,k=v.errorVal;if(!k)return null;var _=[],A,T;if(Array.isArray(k)){var D=Rde(k,2);A=D[0],T=D[1]}else A=T=k;if(a==="vertical"){var q=h.scale,K=j+i,$=K+o,H=K-o,W=q(E-A),B=q(E+T);_.push({x1:B,y1:$,x2:B,y2:H}),_.push({x1:W,y1:K,x2:B,y2:K}),_.push({x1:W,y1:$,x2:W,y2:H})}else if(a==="horizontal"){var M=m.scale,z=N+i,P=z-o,C=z+o,L=M(E-A),U=M(E+T);_.push({x1:P,y1:U,x2:C,y2:U}),_.push({x1:z,y1:L,x2:z,y2:U}),_.push({x1:P,y1:L,x2:C,y2:L})}return Z.createElement(xr,Mx({className:"recharts-errorBar",key:"bar-".concat(_.map(function(R){return"".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))},x),_.map(function(R){return Z.createElement("line",Mx({},R,{key:"line-".concat(R.x1,"-").concat(R.x2,"-").concat(R.y1,"-").concat(R.y2)}))}))});return Z.createElement(xr,{className:"recharts-errorBars"},b)}}])})(Z.Component);t8(Tm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});t8(Tm,"displayName","ErrorBar");function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){Gde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gde(e,t,r){return t=Yde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Xde(e,"string");return If(t)=="symbol"?t:t+""}function Xde(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n8=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Ws(r,$u);if(!o)return null;var l=$u.defaultProps,c=l!==void 0?Dl(Dl({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(h,m){var p=m.item,x=m.props,b=x.sectors||x.data||[];return h.concat(b.map(function(y){return{type:o.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):d=(n||[]).map(function(h){var m=h.item,p=m.type.defaultProps,x=p!==void 0?Dl(Dl({},p),m.props):{},b=x.dataKey,y=x.name,v=x.legendType,N=x.hide;return{inactive:N,dataKey:b,type:c.iconType||v||"square",color:GC(m),value:y||b,payload:x}}),Dl(Dl(Dl({},c),$u.getWithHeight(o,i)),{},{payload:d,item:o})};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function HR(e){return ehe(e)||Zde(e)||Jde(e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(e,t){if(e){if(typeof e=="string")return I2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I2(e,t)}}function Zde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ehe(e){if(Array.isArray(e))return I2(e)}function I2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){Bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bu(e,t,r){return t=the(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function the(e){var t=rhe(e,"string");return Df(t)=="symbol"?t:t+""}function rhe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(e,t,r){return Bt(e)||Bt(t)?r:un(t)?yi(e,t,r):It(t)?t(e):r}function sf(e,t,r,n){var i=ede(e,function(l){return os(l,t)});if(r==="number"){var a=i.filter(function(l){return Ke(l)||parseFloat(l)});return a.length?[f0(a),Go(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Bt(l)}):i;return o.map(function(l){return un(l)||l instanceof Date?l:""})}var nhe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var h=d>0?i[d-1].coordinate:i[l-1].coordinate,m=i[d].coordinate,p=d>=l-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(qi(m-h)!==qi(p-m)){var b=[];if(qi(p-m)===qi(c[1]-c[0])){x=p;var y=m+c[1]-c[0];b[0]=Math.min(y,(y+h)/2),b[1]=Math.max(y,(y+h)/2)}else{x=h;var v=p+c[1]-c[0];b[0]=Math.min(m,(v+m)/2),b[1]=Math.max(m,(v+m)/2)}var N=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){o=i[d].index;break}}else{var j=Math.min(h,p),E=Math.max(h,p);if(t>(j+m)/2&&t<=(E+m)/2){o=i[d].index;break}}}else for(var k=0;k<l;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},GC=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},she=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),p=0,x=m.length;p<x;p++){var b=h[m[p]],y=b.items,v=b.cateAxisId,N=y.filter(function(T){return Ya(T.type).indexOf("Bar")>=0});if(N&&N.length){var j=N[0].type.defaultProps,E=j!==void 0?zr(zr({},j),N[0].props):N[0].props,k=E.barSize,_=E[v];o[_]||(o[_]=[]);var A=Bt(k)?r:k;o[_].push({item:N[0],stackList:N.slice(1),barSize:Bt(A)?void 0:gc(A,n,0)})}}return o},ihe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=gc(r,i,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,x=i/c,b=o.reduce(function(k,_){return k+_.barSize||0},0);b+=(c-1)*d,b>=i&&(b-=(c-1)*d,d=0),b>=i&&x>0&&(p=!0,x*=.9,b=c*x);var y=(i-b)/2>>0,v={offset:y-d,size:0};h=o.reduce(function(k,_){var A={item:_.item,position:{offset:v.offset+v.size+d,size:p?x:_.barSize}},T=[].concat(HR(k),[A]);return v=T[T.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(D){T.push({item:D,position:v})}),T},m)}else{var N=gc(n,i,0,!0);i-2*N-(c-1)*d<=0&&(d=0);var j=(i-2*N-(c-1)*d)/c;j>1&&(j>>=0);var E=l===+l?Math.min(j,l):j;h=o.reduce(function(k,_,A){var T=[].concat(HR(k),[{item:_.item,position:{offset:N+(j+d)*A+(j-E)/2,size:E}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(D){T.push({item:D,position:T[T.length-1].position})}),T},m)}return h},ahe=function(t,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=n8({children:a,legendWidth:c});if(d){var h=i||{},m=h.width,p=h.height,x=d.align,b=d.verticalAlign,y=d.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&x!=="center"&&Ke(t[x]))return zr(zr({},t),{},Bu({},x,t[x]+(m||0)));if((y==="horizontal"||y==="vertical"&&x==="center")&&b!=="middle"&&Ke(t[b]))return zr(zr({},t),{},Bu({},b,t[b]+(p||0)))}return t},ohe=function(t,r,n){return Bt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},s8=function(t,r,n,i,a){var o=r.props.children,l=bi(o,Tm).filter(function(d){return ohe(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var m=os(h,n);if(Bt(m))return d;var p=Array.isArray(m)?[f0(m),Go(m)]:[m,m],x=c.reduce(function(b,y){var v=os(h,y,0),N=p[0]-Math.abs(Array.isArray(v)?v[0]:v),j=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,b[0]),Math.max(j,b[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},lhe=function(t,r,n,i,a){var o=r.map(function(l){return s8(t,l,n,a,i)}).filter(function(l){return!Bt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},i8=function(t,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&s8(t,c,d,i)||sf(t,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},a8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},o8=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Ka=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&l?.length>=2?qi(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var p=a?a.indexOf(m):m;return{coordinate:i(p)+d,value:m,offset:d}});return h.filter(function(m){return!$d(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,p){return{coordinate:i(m)+d,value:m,index:p,offset:d}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,p){return{coordinate:i(m)+d,value:a?a[m]:m,index:p,offset:d}})},vN=new WeakMap,fg=function(t,r){if(typeof r!="function")return t;vN.has(t)||vN.set(t,new WeakMap);var n=vN.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},che=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:kf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Ax(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:nf(),realScaleType:"point"}:a==="category"?{scale:kf(),realScaleType:"band"}:{scale:Ax(),realScaleType:"linear"};if(pc(i)){var c="scale".concat(e0(i));return{scale:(TR[c]||nf)(),realScaleType:TR[c]?c:"point"}}return It(i)?{scale:i}:{scale:nf(),realScaleType:"point"}},GR=1e-4,uhe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-GR,o=Math.max(i[0],i[1])+GR,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},dhe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},hhe=function(t,r){if(!r||r.length!==2||!Ke(r[0])||!Ke(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!Ke(t[0])||t[0]<n)&&(a[0]=n),(!Ke(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},fhe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=$d(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},mhe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=$d(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},phe={sign:fhe,expand:Jse,none:Qu,silhouette:Zse,wiggle:eie,positive:mhe},ghe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=phe[n],o=Qse().keys(i).value(function(l,c){return+os(l,c,0)}).order(d2).offset(a);return o(t)},xhe=function(t,r,n,i,a,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,p){var x,b=(x=p.type)!==null&&x!==void 0&&x.defaultProps?zr(zr({},p.type.defaultProps),p.props):p.props,y=b.stackId,v=b.hide;if(v)return m;var N=b[n],j=m[N]||{hasStack:!1,stackGroups:{}};if(un(y)){var E=j.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(p),j.hasStack=!0,j.stackGroups[y]=E}else j.stackGroups[Ld("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return zr(zr({},m),{},Bu({},N,j))},c),h={};return Object.keys(d).reduce(function(m,p){var x=d[p];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(y,v){var N=x.stackGroups[v];return zr(zr({},y),{},Bu({},v,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:ghe(t,N.items,a)}))},b)}return zr(zr({},m),{},Bu({},p,x))},h)},vhe=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=Ade(d,a,l);return t.domain([f0(h),Go(h)]),{niceTicks:h}}if(a&&i==="number"){var m=t.domain(),p=Pde(m,a,l);return{niceTicks:p}}return null};function Dx(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Bt(i[t.dataKey])){var l=cx(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=os(i,Bt(o)?t.dataKey:o);return Bt(c)?null:t.scale(c)}var YR=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=os(o,r.dataKey,r.domain[l]);return Bt(c)?null:r.scale(c)-a/2+i},yhe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},bhe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(un(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},whe=function(t){return t.reduce(function(r,n){return[f0(n.concat([r[0]]).filter(Ke)),Go(n.concat([r[1]]).filter(Ke))]},[1/0,-1/0])},l8=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,h){var m=whe(h.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},XR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D2=function(t,r,n){if(It(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Ke(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(XR.test(t[0])){var a=+XR.exec(t[0])[1];i[0]=r[0]-a}else It(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ke(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(QR.test(t[1])){var o=+QR.exec(t[1])[1];i[1]=r[1]+o}else It(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Fx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=jC(r,function(m){return m.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],h=a[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},JR=function(t,r,n){return!t||!t.length||id(t,yi(n,"type.defaultProps.domain"))?r:t},c8=function(t,r){var n=t.type.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,h=n.hide;return zr(zr({},Ft(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:GC(t),value:os(r,i),type:c,payload:r,chartType:d,hide:h})};function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){jhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jhe(e,t,r){return t=Nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nhe(e){var t=She(e,"string");return Ff(t)=="symbol"?t:t+""}function She(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $x=Math.PI/180,Ehe=function(t){return t*180/Math.PI},An=function(t,r,n,i){return{x:t+Math.cos(-$x*i)*n,y:r+Math.sin(-$x*i)*n}},_he=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Che=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,l=_he({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:Ehe(d),angleInRadian:d}},khe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Ahe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},tM=function(t,r){var n=t.x,i=t.y,a=Che({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=khe(r),m=h.startAngle,p=h.endAngle,x=l,b;if(m<=p){for(;x>p;)x-=360;for(;x<m;)x+=360;b=x>=m&&x<=p}else{for(;x>m;)x-=360;for(;x<p;)x+=360;b=x>=p&&x<=m}return b?eM(eM({},r),{},{radius:o,angle:Ahe(x,r)}):null};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}var Phe=["offset"];function Ohe(e){return Ihe(e)||Mhe(e)||Rhe(e)||The()}function The(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return F2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F2(e,t)}}function Mhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ihe(e){if(Array.isArray(e))return F2(e)}function F2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dhe(e,t){if(e==null)return{};var r=Fhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){$he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $he(e,t,r){return t=Lhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lhe(e){var t=Bhe(e,"string");return $f(t)=="symbol"?t:t+""}function Bhe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}var zhe=function(t){var r=t.value,n=t.formatter,i=Bt(t.children)?r:t.children;return It(n)?n(i):i},Whe=function(t,r){var n=qi(r-t),i=Math.min(Math.abs(r-t),360);return n*i},Uhe=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,h=c.cy,m=c.innerRadius,p=c.outerRadius,x=c.startAngle,b=c.endAngle,y=c.clockWise,v=(m+p)/2,N=Whe(x,b),j=N>=0?1:-1,E,k;i==="insideStart"?(E=x+j*o,k=y):i==="insideEnd"?(E=b-j*o,k=!y):i==="end"&&(E=b+j*o,k=y),k=N<=0?k:!k;var _=An(d,h,v,E),A=An(d,h,v,E+(k?1:-1)*359),T="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),D=Bt(t.id)?Ld("recharts-radial-line-"):t.id;return Z.createElement("text",Lf({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:D,d:T})),Z.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Vhe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,h=a.startAngle,m=a.endAngle,p=(h+m)/2;if(i==="outside"){var x=An(o,l,d+n,p),b=x.x,y=x.y;return{x:b,y,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,N=An(o,l,v,p),j=N.x,E=N.y;return{x:j,y:E,textAnchor:"middle",verticalAnchor:"middle"}},qhe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,l=o.x,c=o.y,d=o.width,h=o.height,m=h>=0?1:-1,p=m*i,x=m>0?"end":"start",b=m>0?"start":"end",y=d>=0?1:-1,v=y*i,N=y>0?"end":"start",j=y>0?"start":"end";if(a==="top"){var E={x:l+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return an(an({},E),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var k={x:l+d/2,y:c+h+p,textAnchor:"middle",verticalAnchor:b};return an(an({},k),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(a==="left"){var _={x:l-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return an(an({},_),n?{width:Math.max(_.x-n.x,0),height:h}:{})}if(a==="right"){var A={x:l+d+v,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return an(an({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:h}:{})}var T=n?{width:d,height:h}:{};return a==="insideLeft"?an({x:l+v,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},T):a==="insideRight"?an({x:l+d-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},T):a==="insideTop"?an({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:b},T):a==="insideBottom"?an({x:l+d/2,y:c+h-p,textAnchor:"middle",verticalAnchor:x},T):a==="insideTopLeft"?an({x:l+v,y:c+p,textAnchor:j,verticalAnchor:b},T):a==="insideTopRight"?an({x:l+d-v,y:c+p,textAnchor:N,verticalAnchor:b},T):a==="insideBottomLeft"?an({x:l+v,y:c+h-p,textAnchor:j,verticalAnchor:x},T):a==="insideBottomRight"?an({x:l+d-v,y:c+h-p,textAnchor:N,verticalAnchor:x},T):Fd(a)&&(Ke(a.x)||Xl(a.x))&&(Ke(a.y)||Xl(a.y))?an({x:l+gc(a.x,d),y:c+gc(a.y,h),textAnchor:"end",verticalAnchor:"end"},T):an({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Hhe=function(t){return"cx"in t&&Ke(t.cx)};function Bn(e){var t=e.offset,r=t===void 0?5:t,n=Dhe(e,Phe),i=an({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,h=i.className,m=h===void 0?"":h,p=i.textBreakAll;if(!a||Bt(l)&&Bt(c)&&!w.isValidElement(d)&&!It(d))return null;if(w.isValidElement(d))return w.cloneElement(d,i);var x;if(It(d)){if(x=w.createElement(d,i),w.isValidElement(x))return x}else x=zhe(i);var b=Hhe(a),y=Ft(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Uhe(i,x,y);var v=b?Vhe(i):qhe(i);return Z.createElement(jx,Lf({className:qt("recharts-label",m)},y,v,{breakAll:p}),x)}Bn.displayName="Label";var u8=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,h=t.outerRadius,m=t.x,p=t.y,x=t.top,b=t.left,y=t.width,v=t.height,N=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ke(y)&&Ke(v)){if(Ke(m)&&Ke(p))return{x:m,y:p,width:y,height:v};if(Ke(x)&&Ke(b))return{x,y:b,width:y,height:v}}return Ke(m)&&Ke(p)?{x:m,y:p,width:0,height:0}:Ke(r)&&Ke(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},Khe=function(t,r){return t?t===!0?Z.createElement(Bn,{key:"label-implicit",viewBox:r}):un(t)?Z.createElement(Bn,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===Bn?w.cloneElement(t,{key:"label-implicit",viewBox:r}):Z.createElement(Bn,{key:"label-implicit",content:t,viewBox:r}):It(t)?Z.createElement(Bn,{key:"label-implicit",content:t,viewBox:r}):Fd(t)?Z.createElement(Bn,Lf({viewBox:r},t,{key:"label-implicit"})):null:null},Ghe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=u8(t),o=bi(i,Bn).map(function(c,d){return w.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=Khe(t.label,r||a);return[l].concat(Ohe(o))};Bn.parseViewBox=u8;Bn.renderCallByParent=Ghe;var yN,nM;function Yhe(){if(nM)return yN;nM=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return yN=e,yN}var Xhe=Yhe();const Qhe=rr(Xhe);function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}var Jhe=["valueAccessor"],Zhe=["data","dataKey","clockWise","id","textBreakAll"];function efe(e){return sfe(e)||nfe(e)||rfe(e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(e,t){if(e){if(typeof e=="string")return $2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $2(e,t)}}function nfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sfe(e){if(Array.isArray(e))return $2(e)}function $2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(this,arguments)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){ife(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ife(e,t,r){return t=afe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=ofe(e,"string");return Bf(t)=="symbol"?t:t+""}function ofe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aM(e,t){if(e==null)return{};var r=lfe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cfe=function(t){return Array.isArray(t.value)?Qhe(t.value):t.value};function Ja(e){var t=e.valueAccessor,r=t===void 0?cfe:t,n=aM(e,Jhe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=aM(n,Zhe);return!i||!i.length?null:Z.createElement(xr,{className:"recharts-label-list"},i.map(function(h,m){var p=Bt(a)?r(h,m):os(h&&h.payload,a),x=Bt(l)?{}:{id:"".concat(l,"-").concat(m)};return Z.createElement(Bn,Lx({},Ft(h,!0),d,x,{parentViewBox:h.parentViewBox,value:p,textBreakAll:c,viewBox:Bn.parseViewBox(Bt(o)?h:iM(iM({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ja.displayName="LabelList";function ufe(e,t){return e?e===!0?Z.createElement(Ja,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||It(e)?Z.createElement(Ja,{key:"labelList-implicit",data:t,content:e}):Fd(e)?Z.createElement(Ja,Lx({data:t},e,{key:"labelList-implicit"})):null:null}function dfe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=bi(n,Ja).map(function(o,l){return w.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=ufe(e.label,t);return[a].concat(efe(i))}Ja.renderCallByParent=dfe;function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(this,arguments)}function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){hfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hfe(e,t,r){return t=ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=mfe(e,"string");return zf(t)=="symbol"?t:t+""}function mfe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pfe=function(t,r){var n=qi(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},mg=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/$x,p=d?a:a+o*m,x=An(r,n,h,p),b=An(r,n,i,p),y=d?a-o*m:a,v=An(r,n,h*Math.cos(m*$x),y);return{center:x,circleTangency:b,lineTangency:v,theta:m}},d8=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=pfe(o,l),d=o+c,h=An(r,n,a,o),m=An(r,n,a,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=An(r,n,i,o),b=An(r,n,i,d);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},gfe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,m=qi(h-d),p=mg({cx:r,cy:n,radius:a,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),x=p.circleTangency,b=p.lineTangency,y=p.theta,v=mg({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,j=v.lineTangency,E=v.theta,k=c?Math.abs(d-h):Math.abs(d-h)-y-E;if(k<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):d8({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var A=mg({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=A.circleTangency,D=A.lineTangency,q=A.theta,K=mg({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=K.circleTangency,H=K.lineTangency,W=K.theta,B=c?Math.abs(d-h):Math.abs(d-h)-q-W;if(B<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},xfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},h8=function(t){var r=lM(lM({},xfe),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,p=r.className;if(o<a||h===m)return null;var x=qt("recharts-sector",p),b=o-a,y=gc(l,b,0,!0),v;return y>0&&Math.abs(h-m)<360?v=gfe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):v=d8({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:m}),Z.createElement("path",L2({},Ft(r,!0),{className:x,d:v,role:"img"}))};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B2.apply(this,arguments)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vfe(e,t,r){return t=yfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yfe(e){var t=bfe(e,"string");return Wf(t)=="symbol"?t:t+""}function bfe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dM={curveBasisClosed:Bse,curveBasisOpen:zse,curveBasis:Lse,curveBumpX:Ese,curveBumpY:_se,curveLinearClosed:Wse,curveLinear:r0,curveMonotoneX:Use,curveMonotoneY:Vse,curveNatural:qse,curveStep:Hse,curveStepAfter:Gse,curveStepBefore:Kse},pg=function(t){return t.x===+t.x&&t.y===+t.y},Lh=function(t){return t.x},Bh=function(t){return t.y},wfe=function(t,r){if(It(t))return t;var n="curve".concat(e0(t));return(n==="curveMonotone"||n==="curveBump")&&r?dM["".concat(n).concat(r==="vertical"?"Y":"X")]:dM[n]||r0},jfe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,h=wfe(n,l),m=d?a.filter(function(y){return pg(y)}):a,p;if(Array.isArray(o)){var x=d?o.filter(function(y){return pg(y)}):o,b=m.map(function(y,v){return uM(uM({},y),{},{base:x[v]})});return l==="vertical"?p=ag().y(Bh).x1(Lh).x0(function(y){return y.base.x}):p=ag().x(Lh).y1(Bh).y0(function(y){return y.base.y}),p.defined(pg).curve(h),p(b)}return l==="vertical"&&Ke(o)?p=ag().y(Bh).x1(Lh).x0(o):Ke(o)?p=ag().x(Lh).y1(Bh).y0(o):p=gz().x(Lh).y(Bh),p.defined(pg).curve(h),p(m)},zu=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?jfe(t):i;return w.createElement("path",B2({},Ft(t,!1),ux(t),{className:qt("recharts-curve",r),d:o,ref:a}))},bN={exports:{}},wN,hM;function Nfe(){if(hM)return wN;hM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wN=e,wN}var jN,fM;function Sfe(){if(fM)return jN;fM=1;var e=Nfe();function t(){}function r(){}return r.resetWarningCache=t,jN=function(){function n(o,l,c,d,h,m){if(m!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return a.PropTypes=a,a},jN}var mM;function Efe(){return mM||(mM=1,bN.exports=Sfe()()),bN.exports}var _fe=Efe();const sr=rr(_fe);var Cfe=Object.getOwnPropertyNames,kfe=Object.getOwnPropertySymbols,Afe=Object.prototype.hasOwnProperty;function pM(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function gg(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function Pfe(e){return e?.[Symbol.toStringTag]}function gM(e){return Cfe(e).concat(kfe(e))}var Ofe=Object.hasOwn||(function(e,t){return Afe.call(e,t)});function Ac(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Tfe="__v",Rfe="__o",Mfe="_owner",xM=Object.getOwnPropertyDescriptor,vM=Object.keys;function Ife(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Dfe(e,t){return Ac(e.getTime(),t.getTime())}function Ffe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function $fe(e,t){return e===t}function yM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var d=t.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(i[m]){m++;continue}var p=o.value,x=l.value;if(r.equals(p[0],x[0],c,m,e,t,r)&&r.equals(p[1],x[1],p[0],x[0],e,t,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var Lfe=Ac;function Bfe(e,t,r){var n=vM(e),i=n.length;if(vM(t).length!==i)return!1;for(;i-- >0;)if(!f8(e,t,r,n[i]))return!1;return!0}function zh(e,t,r){var n=gM(e),i=n.length;if(gM(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],!f8(e,t,r,a)||(o=xM(e,a),l=xM(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function zfe(e,t){return Ac(e.valueOf(),t.valueOf())}function Wfe(e,t){return e.source===t.source&&e.flags===t.flags}function bM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function Ufe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Vfe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function f8(e,t,r,n){return(n===Mfe||n===Rfe||n===Tfe)&&(e.$$typeof||t.$$typeof)?!0:Ofe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var qfe="[object Arguments]",Hfe="[object Boolean]",Kfe="[object Date]",Gfe="[object Error]",Yfe="[object Map]",Xfe="[object Number]",Qfe="[object Object]",Jfe="[object RegExp]",Zfe="[object Set]",eme="[object String]",tme="[object URL]",rme=Array.isArray,wM=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,jM=Object.assign,nme=Object.prototype.toString.call.bind(Object.prototype.toString);function sme(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,p=e.areUrlsEqual,x=e.unknownTagComparators;return function(y,v,N){if(y===v)return!0;if(y==null||v==null)return!1;var j=typeof y;if(j!==typeof v)return!1;if(j!=="object")return j==="number"?o(y,v,N):j==="function"?i(y,v,N):!1;var E=y.constructor;if(E!==v.constructor)return!1;if(E===Object)return l(y,v,N);if(rme(y))return t(y,v,N);if(wM!=null&&wM(y))return m(y,v,N);if(E===Date)return r(y,v,N);if(E===RegExp)return d(y,v,N);if(E===Map)return a(y,v,N);if(E===Set)return h(y,v,N);var k=nme(y);if(k===Kfe)return r(y,v,N);if(k===Jfe)return d(y,v,N);if(k===Yfe)return a(y,v,N);if(k===Zfe)return h(y,v,N);if(k===Qfe)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,N);if(k===tme)return p(y,v,N);if(k===Gfe)return n(y,v,N);if(k===qfe)return l(y,v,N);if(k===Hfe||k===Xfe||k===eme)return c(y,v,N);if(x){var _=x[k];if(!_){var A=Pfe(y);A&&(_=x[A])}if(_)return _(y,v,N)}return!1}}function ime(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?zh:Ife,areDatesEqual:Dfe,areErrorsEqual:Ffe,areFunctionsEqual:$fe,areMapsEqual:n?pM(yM,zh):yM,areNumbersEqual:Lfe,areObjectsEqual:n?zh:Bfe,arePrimitiveWrappersEqual:zfe,areRegExpsEqual:Wfe,areSetsEqual:n?pM(bM,zh):bM,areTypedArraysEqual:n?zh:Ufe,areUrlsEqual:Vfe,unknownTagComparators:void 0};if(r&&(i=jM({},i,r(i))),t){var a=gg(i.areArraysEqual),o=gg(i.areMapsEqual),l=gg(i.areObjectsEqual),c=gg(i.areSetsEqual);i=jM({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function ame(e){return function(t,r,n,i,a,o,l){return e(t,r,l)}}function ome(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,d){var h=n(),m=h.cache,p=m===void 0?t?new WeakMap:void 0:m,x=h.meta;return r(c,d,{cache:p,equals:i,meta:x,strict:a})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return r(c,d,o)}}var lme=fl();fl({strict:!0});fl({circular:!0});fl({circular:!0,strict:!0});fl({createInternalComparator:function(){return Ac}});fl({strict:!0,createInternalComparator:function(){return Ac}});fl({circular:!0,createInternalComparator:function(){return Ac}});fl({circular:!0,createInternalComparator:function(){return Ac},strict:!0});function fl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=ime(e),c=sme(l),d=n?n(c):ame(c);return ome({circular:r,comparator:c,createState:i,equals:d,strict:o})}function cme(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function NM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):cme(i)};requestAnimationFrame(n)}function z2(e){"@babel/helpers - typeof";return z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z2(e)}function ume(e){return mme(e)||fme(e)||hme(e)||dme()}function dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return SM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(e,t)}}function SM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mme(e){if(Array.isArray(e))return e}function pme(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=ume(o),c=l[0],d=l.slice(1);if(typeof c=="number"){NM(i.bind(null,d),c);return}i(c),NM(i.bind(null,d));return}z2(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){m8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8(e,t,r){return t=gme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gme(e){var t=xme(e,"string");return Uf(t)==="symbol"?t:String(t)}function xme(e,t){if(Uf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vme=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},yme=function(t){return t},bme=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},af=function(t,r){return Object.keys(r).reduce(function(n,i){return _M(_M({},n),{},m8({},i,t(i,r[i])))},{})},CM=function(t,r,n){return t.map(function(i){return"".concat(bme(i)," ").concat(r,"ms ").concat(n)}).join(",")};function wme(e,t){return Sme(e)||Nme(e,t)||p8(e,t)||jme()}function jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Sme(e){if(Array.isArray(e))return e}function Eme(e){return kme(e)||Cme(e)||p8(e)||_me()}function _me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p8(e,t){if(e){if(typeof e=="string")return W2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W2(e,t)}}function Cme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kme(e){if(Array.isArray(e))return W2(e)}function W2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bx=1e-4,g8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},x8=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},kM=function(t,r){return function(n){var i=g8(t,r);return x8(i,n)}},Ame=function(t,r){return function(n){var i=g8(t,r),a=[].concat(Eme(i.map(function(o,l){return o*l}).slice(1)),[0]);return x8(a,n)}},AM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=wme(d,4);i=h[0],a=h[1],o=h[2],l=h[3]}}}var m=kM(i,o),p=kM(a,l),x=Ame(i,o),b=function(N){return N>1?1:N<0?0:N},y=function(N){for(var j=N>1?1:N,E=j,k=0;k<8;++k){var _=m(E)-j,A=x(E);if(Math.abs(_-j)<Bx||A<Bx)return p(E);E=b(E-_/A)}return p(E)};return y.isStepper=!1,y},Pme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(h,m,p){var x=-(h-m)*n,b=p*a,y=p+(x-b)*l/1e3,v=p*l/1e3+h;return Math.abs(v-m)<Bx&&Math.abs(y)<Bx?[m,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},Ome=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AM(i);case"spring":return Pme();default:if(i.split("(")[0]==="cubic-bezier")return AM(i)}return typeof i=="function"?i:null};function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function PM(e){return Mme(e)||Rme(e)||v8(e)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mme(e){if(Array.isArray(e))return V2(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){U2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U2(e,t,r){return t=Ime(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ime(e){var t=Dme(e,"string");return Vf(t)==="symbol"?t:String(t)}function Dme(e,t){if(Vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fme(e,t){return Bme(e)||Lme(e,t)||v8(e,t)||$me()}function $me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8(e,t){if(e){if(typeof e=="string")return V2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V2(e,t)}}function V2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Bme(e){if(Array.isArray(e))return e}var zx=function(t,r,n){return t+(r-t)*n},q2=function(t){var r=t.from,n=t.to;return r!==n},zme=function e(t,r,n){var i=af(function(a,o){if(q2(o)){var l=t(o.from,o.to,o.velocity),c=Fme(l,2),d=c[0],h=c[1];return jn(jn({},o),{},{from:d,velocity:h})}return o},r);return n<1?af(function(a,o){return q2(o)?jn(jn({},o),{},{velocity:zx(o.velocity,i[a].velocity,n),from:zx(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const Wme=(function(e,t,r,n,i){var a=vme(e,t),o=a.reduce(function(v,N){return jn(jn({},v),{},U2({},N,[e[N],t[N]]))},{}),l=a.reduce(function(v,N){return jn(jn({},v),{},U2({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,d,h,m=function(){return null},p=function(){return af(function(N,j){return j.from},l)},x=function(){return!Object.values(l).filter(q2).length},b=function(N){d||(d=N);var j=N-d,E=j/r.dt;l=zme(r,l,E),i(jn(jn(jn({},e),t),p())),d=N,x()||(c=requestAnimationFrame(m))},y=function(N){h||(h=N);var j=(N-h)/n,E=af(function(_,A){return zx.apply(void 0,PM(A).concat([r(j)]))},o);if(i(jn(jn(jn({},e),t),E)),j<1)c=requestAnimationFrame(m);else{var k=af(function(_,A){return zx.apply(void 0,PM(A).concat([r(1)]))},o);i(jn(jn(jn({},e),t),k))}};return m=r.isStepper?b:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}var Ume=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vme(e,t){if(e==null)return{};var r=qme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qme(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function NN(e){return Yme(e)||Gme(e)||Kme(e)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(e,t){if(e){if(typeof e=="string")return H2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(e,t)}}function Gme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yme(e){if(Array.isArray(e))return H2(e)}function H2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gh(e,t,r){return t=y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y8(n.key),n)}}function Jme(e,t,r){return t&&Qme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y8(e){var t=Zme(e,"string");return od(t)==="symbol"?t:String(t)}function Zme(e,t){if(od(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function epe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K2(e,t)}function K2(e,t){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K2(e,t)}function tpe(e){var t=rpe();return function(){var n=Wx(e),i;if(t){var a=Wx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return G2(this,i)}}function G2(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y2(e)}function Y2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wx(e){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wx(e)}var wa=(function(e){epe(r,e);var t=tpe(r);function r(n,i){var a;Xme(this,r),a=t.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,m=o.steps,p=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Y2(a)),a.changeStyle=a.changeStyle.bind(Y2(a)),!l||x<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:h}),G2(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof p=="function")return a.state={style:d},G2(a);a.state={style:c?Gh({},c,d):d}}else a.state={style:{}};return a}return Jme(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,h=a.to,m=a.from,p=this.state.style;if(l){if(!o){var x={style:c?Gh({},c,h):h};this.state&&p&&(c&&p[c]!==h||!c&&p!==h)&&this.setState(x);return}if(!(lme(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||d?m:i.to;if(this.state&&p){var v={style:c?Gh({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(v)}this.runAnimation(Mi(Mi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,h=i.begin,m=i.onAnimationEnd,p=i.onAnimationStart,x=Wme(o,l,Ome(d),c,this.changeStyle),b=function(){a.stopJSAnimation=x()};this.manager.start([p,h,b,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],h=d.style,m=d.duration,p=m===void 0?0:m,x=function(y,v,N){if(N===0)return y;var j=v.duration,E=v.easing,k=E===void 0?"ease":E,_=v.style,A=v.properties,T=v.onAnimationEnd,D=N>0?o[N-1]:v,q=A||Object.keys(_);if(typeof k=="function"||k==="spring")return[].concat(NN(y),[a.runJSAnimation.bind(a,{from:D.style,to:_,duration:j,easing:k}),j]);var K=CM(q,j,k),$=Mi(Mi(Mi({},D.style),_),{},{transition:K});return[].concat(NN(y),[$,j,T]).filter(yme)};return this.manager.start([c].concat(NN(o.reduce(x,[h,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pme());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,p=i.steps,x=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var y=l?Gh({},l,c):c,v=CM(Object.keys(y),o,d);b.start([h,a,Mi(Mi({},y),{},{transition:v}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Vme(i,Ume),d=w.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||d===0||o<=0)return a;var m=function(x){var b=x.props,y=b.style,v=y===void 0?{}:y,N=b.className,j=w.cloneElement(x,Mi(Mi({},c),{},{style:Mi(Mi({},v),h),className:N}));return j};return d===1?m(w.Children.only(a)):Z.createElement("div",null,w.Children.map(a,function(p){return m(p)}))}}]),r})(w.PureComponent);wa.displayName="Animate";wa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wa.propTypes={from:sr.oneOfType([sr.object,sr.string]),to:sr.oneOfType([sr.object,sr.string]),attributeName:sr.string,duration:sr.number,begin:sr.number,easing:sr.oneOfType([sr.string,sr.func]),steps:sr.arrayOf(sr.shape({duration:sr.number.isRequired,style:sr.object.isRequired,easing:sr.oneOfType([sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sr.func]),properties:sr.arrayOf("string"),onAnimationEnd:sr.func})),children:sr.oneOfType([sr.node,sr.func]),isActive:sr.bool,canBegin:sr.bool,onAnimationEnd:sr.func,shouldReAnimate:sr.bool,onAnimationStart:sr.func,onAnimationReStart:sr.func};function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function npe(e,t){return ope(e)||ape(e,t)||ipe(e,t)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(e,t){if(e){if(typeof e=="string")return RM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RM(e,t)}}function RM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ape(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function ope(e){if(Array.isArray(e))return e}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){lpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lpe(e,t,r){return t=cpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cpe(e){var t=upe(e,"string");return qf(t)=="symbol"?t:t+""}function upe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DM=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,h;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],p=0,x=4;p<x;p++)m[p]=a[p]>o?o:a[p];h="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(r)),h+="L ".concat(t+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*m[1])),h+="L ".concat(t+n,",").concat(r+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(r+i)),h+="L ".concat(t+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-l*m[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);h="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+n-c*b,",").concat(r+i,`
            L `).concat(t+c*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t,",").concat(r+i-l*b," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},dpe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return n>=d&&n<=h&&i>=m&&i<=p}return!1},hpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YC=function(t){var r=IM(IM({},hpe),t),n=w.useRef(),i=w.useState(-1),a=npe(i,2),o=a[0],l=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,d=r.y,h=r.width,m=r.height,p=r.radius,x=r.className,b=r.animationEasing,y=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var E=qt("recharts-rectangle",x);return j?Z.createElement(wa,{canBegin:o>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:y,animationEasing:b,isActive:j},function(k){var _=k.width,A=k.height,T=k.x,D=k.y;return Z.createElement(wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:N,easing:b},Z.createElement("path",Ux({},Ft(r,!0),{className:E,d:DM(T,D,_,A,p),ref:n})))}):Z.createElement("path",Ux({},Ft(r,!0),{className:E,d:DM(c,d,h,m,p)}))};function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X2.apply(this,arguments)}var g0=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=qt("recharts-dot",a);return r===+r&&n===+n&&i===+i?w.createElement("circle",X2({},Ft(t,!1),ux(t),{className:o,cx:r,cy:n,r:i})):null};function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}var fpe=["x","y","top","left","width","height","className"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q2.apply(this,arguments)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(n){ppe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ppe(e,t,r){return t=gpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gpe(e){var t=xpe(e,"string");return Hf(t)=="symbol"?t:t+""}function xpe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vpe(e,t){if(e==null)return{};var r=ype(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ype(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bpe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},wpe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,h=t.width,m=h===void 0?0:h,p=t.height,x=p===void 0?0:p,b=t.className,y=vpe(t,fpe),v=mpe({x:n,y:a,top:l,left:d,width:m,height:x},y);return!Ke(n)||!Ke(a)||!Ke(m)||!Ke(x)||!Ke(l)||!Ke(d)?null:Z.createElement("path",Q2({},Ft(v,!0),{className:qt("recharts-cross",b),d:bpe(n,a,m,x,l,d)}))},SN,$M;function jpe(){if($M)return SN;$M=1;var e=Lz(),t=e(Object.getPrototypeOf,Object);return SN=t,SN}var EN,LM;function Npe(){if(LM)return EN;LM=1;var e=co(),t=jpe(),r=uo(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function d(h){if(!r(h)||e(h)!=n)return!1;var m=t(h);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return EN=d,EN}var Spe=Npe();const Epe=rr(Spe);var _N,BM;function _pe(){if(BM)return _N;BM=1;var e=co(),t=uo(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return _N=n,_N}var Cpe=_pe();const kpe=rr(Cpe);function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(this,arguments)}function Ape(e,t){return Rpe(e)||Tpe(e,t)||Ope(e,t)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ope(e,t){if(e){if(typeof e=="string")return zM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zM(e,t)}}function zM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Rpe(e){if(Array.isArray(e))return e}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){Mpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mpe(e,t,r){return t=Ipe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ipe(e){var t=Dpe(e,"string");return Kf(t)=="symbol"?t:t+""}function Dpe(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VM=function(t,r,n,i,a){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},Fpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$pe=function(t){var r=UM(UM({},Fpe),t),n=w.useRef(),i=w.useState(-1),a=Ape(i,2),o=a[0],l=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&l(E)}catch{}},[]);var c=r.x,d=r.y,h=r.upperWidth,m=r.lowerWidth,p=r.height,x=r.className,b=r.animationEasing,y=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||p!==+p||h===0&&m===0||p===0)return null;var j=qt("recharts-trapezoid",x);return N?Z.createElement(wa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:p,x:c,y:d},duration:y,animationEasing:b,isActive:N},function(E){var k=E.upperWidth,_=E.lowerWidth,A=E.height,T=E.x,D=E.y;return Z.createElement(wa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:b},Z.createElement("path",Vx({},Ft(r,!0),{className:j,d:VM(T,D,k,_,A),ref:n})))}):Z.createElement("g",null,Z.createElement("path",Vx({},Ft(r,!0),{className:j,d:VM(c,d,h,m,p)})))},Lpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function Bpe(e,t){if(e==null)return{};var r=zpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){Wpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wpe(e,t,r){return t=Upe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Upe(e){var t=Vpe(e,"string");return Gf(t)=="symbol"?t:t+""}function Vpe(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qpe(e,t){return qx(qx({},t),e)}function Hpe(e,t){return e==="symbols"}function HM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Z.createElement(YC,r);case"trapezoid":return Z.createElement($pe,r);case"sector":return Z.createElement(h8,r);case"symbols":if(Hpe(t))return Z.createElement(mC,r);break;default:return null}}function Kpe(e){return w.isValidElement(e)?e.props:e}function Gpe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?qpe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Bpe(e,Lpe),d;if(w.isValidElement(t))d=w.cloneElement(t,qx(qx({},c),Kpe(t)));else if(It(t))d=t(c);else if(Epe(t)&&!kpe(t)){var h=i(t,c);d=Z.createElement(HM,{shapeType:r,elementProps:h})}else{var m=c;d=Z.createElement(HM,{shapeType:r,elementProps:m})}return l?Z.createElement(xr,{className:o},d):d}function x0(e,t){return t!=null&&"trapezoids"in e.props}function v0(e,t){return t!=null&&"sectors"in e.props}function Yf(e,t){return t!=null&&"points"in e.props}function Ype(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function Xpe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Qpe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Jpe(e,t){var r;return x0(e,t)?r=Ype:v0(e,t)?r=Xpe:Yf(e,t)&&(r=Qpe),r}function Zpe(e,t){var r;return x0(e,t)?r="trapezoids":v0(e,t)?r="sectors":Yf(e,t)&&(r="points"),r}function ege(e,t){if(x0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(v0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yf(e,t)?t.payload:{}}function tge(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Zpe(r,t),a=ege(r,t),o=n.filter(function(c,d){var h=id(a,c),m=r.props[i].filter(function(b){var y=Jpe(r,t);return y(b,t)}),p=r.props[i].indexOf(m[m.length-1]),x=d===p;return h&&x}),l=n.indexOf(o[o.length-1]);return l}var CN,KM;function rge(){if(KM)return CN;KM=1;var e=Math.ceil,t=Math.max;function r(n,i,a,o){for(var l=-1,c=t(e((i-n)/(a||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=a;return d}return CN=r,CN}var kN,GM;function b8(){if(GM)return kN;GM=1;var e=t7(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*r}return i===i?i:0}return kN=n,kN}var AN,YM;function nge(){if(YM)return AN;YM=1;var e=rge(),t=a0(),r=b8();function n(i){return function(a,o,l){return l&&typeof l!="number"&&t(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),e(a,o,l,i)}}return AN=n,AN}var PN,XM;function sge(){if(XM)return PN;XM=1;var e=nge(),t=e();return PN=t,PN}var ige=sge();const Hx=rr(ige);function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){w8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8(e,t,r){return t=age(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function age(e){var t=oge(e,"string");return Xf(t)=="symbol"?t:t+""}function oge(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lge=["Webkit","Moz","O","ms"],cge=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=lge.reduce(function(a,o){return JM(JM({},a),{},w8({},o+n,r))},{});return i[t]=r,i};function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N8(n.key),n)}}function dge(e,t,r){return t&&eI(e.prototype,t),r&&eI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hge(e,t,r){return t=Gx(t),fge(e,j8()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function fge(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(e)}function mge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function pge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J2(e,t)}function J2(e,t){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J2(e,t)}function zs(e,t,r){return t=N8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N8(e){var t=gge(e,"string");return ld(t)=="symbol"?t:t+""}function gge(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xge=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=nf().domain(Hx(0,c)).range([a,a+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:h}},tI=function(t){return t.changedTouches&&!!t.changedTouches.length},cd=(function(e){function t(r){var n;return uge(this,t),n=hge(this,t,[r]),zs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),zs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),zs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),zs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zs(n,"handleSlideDragStart",function(i){var a=tI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return pge(t,e),dge(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(i,a),p=Math.max(i,a),x=t.getIndexInRange(o,m),b=t.getIndexInRange(o,p);return{startIndex:x-x%c,endIndex:b===h?h:b-b%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=os(a[n],l,n);return It(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,p=c.startIndex,x=c.endIndex,b=c.onChange,y=n.pageX-a;y>0?y=Math.min(y,d+h-m-l,d+h-m-o):y<0&&(y=Math.max(y,d-o,d-l));var v=this.getIndex({startX:o+y,endX:l+y});(v.startIndex!==p||v.endIndex!==x)&&b&&b(v),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=tI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],h=this.props,m=h.x,p=h.width,x=h.travellerWidth,b=h.onChange,y=h.gap,v=h.data,N={startX:this.state.startX,endX:this.state.endX},j=n.pageX-a;j>0?j=Math.min(j,m+p-x-d):j<0&&(j=Math.max(j,m-d)),N[o]=d+j;var E=this.getIndex(N),k=E.startIndex,_=E.endIndex,A=function(){var D=v.length-1;return o==="startX"&&(l>c?k%y===0:_%y===0)||l<c&&_===D||o==="endX"&&(l>c?_%y===0:k%y===0)||l>c&&_===D};this.setState(zs(zs({},o,d+j),"brushMoveStartX",n.pageX),function(){b&&A()&&b(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var x=l[p];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(zs({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Z.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,h=n.padding,m=w.Children.only(d);return m?Z.cloneElement(m,{x:i,y:a,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,p=c.traveller,x=c.ariaLabel,b=c.data,y=c.startIndex,v=c.endIndex,N=Math.max(n,this.props.x),j=ON(ON({},Ft(this.props,!1)),{},{x:N,y:d,width:h,height:m}),E=x||"Min value: ".concat((a=b[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[v])===null||o===void 0?void 0:o.name);return Z.createElement(xr,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,j))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,h=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,h=this.state,m=h.startX,p=h.endX,x=5,b={pointerEvents:"none",fill:d};return Z.createElement(xr,{className:"recharts-brush-texts"},Z.createElement(jx,Kx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-x,y:o+l/2},b),this.getTextOfTick(i)),Z.createElement(jx,Kx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+x,y:o+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,h=n.height,m=n.alwaysShowText,p=this.state,x=p.startX,b=p.endX,y=p.isTextActive,v=p.isSlideMoving,N=p.isTravellerMoving,j=p.isTravellerFocused;if(!i||!i.length||!Ke(l)||!Ke(c)||!Ke(d)||!Ke(h)||d<=0||h<=0)return null;var E=qt("recharts-brush",a),k=Z.Children.count(o)===1,_=cge("userSelect","none");return Z.createElement(xr,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(y||v||N||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Z.isValidElement(n)?a=Z.cloneElement(n,i):It(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return ON({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?xge({data:a,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var p=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])})(w.PureComponent);zs(cd,"displayName","Brush");zs(cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TN,rI;function vge(){if(rI)return TN;rI=1;var e=wC();function t(r,n){var i;return e(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return TN=t,TN}var RN,nI;function yge(){if(nI)return RN;nI=1;var e=Tz(),t=ul(),r=vge(),n=Ts(),i=a0();function a(o,l,c){var d=n(o)?e:r;return c&&i(o,l,c)&&(l=void 0),d(o,t(l,3))}return RN=a,RN}var bge=yge();const wge=rr(bge);var ga=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},MN,sI;function jge(){if(sI)return MN;sI=1;var e=Xz();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return MN=t,MN}var IN,iI;function Nge(){if(iI)return IN;iI=1;var e=jge(),t=Gz(),r=ul();function n(i,a){var o={};return a=r(a,3),t(i,function(l,c,d){e(o,c,a(l,c,d))}),o}return IN=n,IN}var Sge=Nge();const Ege=rr(Sge);var DN,aI;function _ge(){if(aI)return DN;aI=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return DN=e,DN}var FN,oI;function Cge(){if(oI)return FN;oI=1;var e=wC();function t(r,n){var i=!0;return e(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return FN=t,FN}var $N,lI;function kge(){if(lI)return $N;lI=1;var e=_ge(),t=Cge(),r=ul(),n=Ts(),i=a0();function a(o,l,c){var d=n(o)?e:t;return c&&i(o,l,c)&&(l=void 0),d(o,r(l,3))}return $N=a,$N}var Age=kge();const S8=rr(Age);var Pge=["x","y"];function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z2.apply(this,arguments)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){Oge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oge(e,t,r){return t=Tge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tge(e){var t=Rge(e,"string");return Qf(t)=="symbol"?t:t+""}function Rge(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mge(e,t){if(e==null)return{};var r=Ige(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ige(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dge(e,t){var r=e.x,n=e.y,i=Mge(e,Pge),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||i.height),h=parseInt(d,10),m="".concat(t.width||i.width),p=parseInt(m,10);return Wh(Wh(Wh(Wh(Wh({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function uI(e){return Z.createElement(Gpe,Z2({shapeType:"rectangle",propTransformer:Dge,activeClassName:"recharts-active-bar"},e))}var Fge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=Ke(n)||Kne(n);return a?t(n,i):(a||vc(),r)}},$ge=["value","background"],E8;function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function Lge(e,t){if(e==null)return{};var r=Bge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C8(n.key),n)}}function Wge(e,t,r){return t&&hI(e.prototype,t),r&&hI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uge(e,t,r){return t=Xx(t),Vge(e,_8()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function Vge(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qge(e)}function qge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_8=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function Hge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eE(e,t)}function Yo(e,t,r){return t=C8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8(e){var t=Kge(e,"string");return ud(t)=="symbol"?t:t+""}function Kge(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ja=(function(e){function t(){var r;zge(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Uge(this,t,[].concat(i)),Yo(r,"state",{isAnimationFinished:!1}),Yo(r,"id",Ld("recharts-bar-")),Yo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Yo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Hge(t,e),Wge(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,h=Ft(this.props,!1);return n&&n.map(function(m,p){var x=p===c,b=x?d:o,y=Hr(Hr(Hr({},h),m),{},{isActive:x,option:b,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Z.createElement(xr,Yx({className:"recharts-bar-rectangle"},dx(i.props,m,p),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(p)}),Z.createElement(uI,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,p=this.state.prevData;return Z.createElement(wa,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,y=a.map(function(v,N){var j=p&&p[N];if(j){var E=_n(j.x,v.x),k=_n(j.y,v.y),_=_n(j.width,v.width),A=_n(j.height,v.height);return Hr(Hr({},v),{},{x:E(b),y:k(b),width:_(b),height:A(b)})}if(o==="horizontal"){var T=_n(0,v.height),D=T(b);return Hr(Hr({},v),{},{y:v.y+v.height-D,height:D})}var q=_n(0,v.width),K=q(b);return Hr(Hr({},v),{},{width:K})});return Z.createElement(xr,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!id(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ft(this.props.background,!1);return a.map(function(d,h){d.value;var m=d.background,p=Lge(d,$ge);if(!m)return null;var x=Hr(Hr(Hr(Hr(Hr({},p),{},{fill:"#eee"},m),c),dx(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return Z.createElement(uI,Yx({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,m=bi(h,Tm);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,x=function(v,N){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:os(v,N)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Z.createElement(xr,b,m.map(function(y){return Z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,h=n.top,m=n.width,p=n.height,x=n.isAnimationActive,b=n.background,y=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,N=qt("recharts-bar",o),j=l&&l.allowDataOverflow,E=c&&c.allowDataOverflow,k=j||E,_=Bt(y)?this.id:y;return Z.createElement(xr,{className:N},j||E?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(_)},Z.createElement("rect",{x:j?d:d-m/2,y:E?h:h-p/2,width:j?m:m*2,height:E?p:p*2}))):null,Z.createElement(xr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(_,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,_),(!x||v)&&Ja.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(w.PureComponent);E8=ja;Yo(ja,"displayName","Bar");Yo(ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_c.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(ja,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,p=e.offset,x=dhe(n,r);if(!x)return null;var b=t.layout,y=r.type.defaultProps,v=y!==void 0?Hr(Hr({},y),r.props):r.props,N=v.dataKey,j=v.children,E=v.minPointSize,k=b==="horizontal"?o:a,_=d?k.scale.domain():null,A=yhe({numericAxis:k}),T=bi(j,n7),D=m.map(function(q,K){var $,H,W,B,M,z;d?$=hhe(d[h+K],_):($=os(q,N),Array.isArray($)||($=[A,$]));var P=Fge(E,E8.defaultProps.minPointSize)($[1],K);if(b==="horizontal"){var C,L=[o.scale($[0]),o.scale($[1])],U=L[0],R=L[1];H=YR({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:q,index:K}),W=(C=R??U)!==null&&C!==void 0?C:void 0,B=x.size;var I=U-R;if(M=Number.isNaN(I)?0:I,z={x:H,y:o.y,width:B,height:o.height},Math.abs(P)>0&&Math.abs(M)<Math.abs(P)){var V=qi(M||P)*(Math.abs(P)-Math.abs(M));W-=V,M+=V}}else{var re=[a.scale($[0]),a.scale($[1])],ce=re[0],me=re[1];if(H=ce,W=YR({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:q,index:K}),B=me-ce,M=x.size,z={x:a.x,y:W,width:a.width,height:M},Math.abs(P)>0&&Math.abs(B)<Math.abs(P)){var ae=qi(B||P)*(Math.abs(P)-Math.abs(B));B+=ae}}return Hr(Hr(Hr({},q),{},{x:H,y:W,width:B,height:M,value:d?$:$[1],payload:q,background:z},T&&T[K]&&T[K].props),{},{tooltipPayload:[c8(r,q)],tooltipPosition:{x:H+B/2,y:W+M/2}})});return Hr({data:D,layout:b},p)});function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k8(n.key),n)}}function Yge(e,t,r){return t&&fI(e.prototype,t),r&&fI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0(e,t,r){return t=k8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=Xge(e,"string");return Jf(t)=="symbol"?t:t+""}function Xge(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XC=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.layout,d=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Ws(d,ja);return h.reduce(function(x,b){var y=r[b],v=y.orientation,N=y.domain,j=y.padding,E=j===void 0?{}:j,k=y.mirror,_=y.reversed,A="".concat(v).concat(k?"Mirror":""),T,D,q,K,$;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var H=N[1]-N[0],W=1/0,B=y.categoricalDomain.sort(Xne);if(B.forEach(function(re,ce){ce>0&&(W=Math.min((re||0)-(B[ce-1]||0),W))}),Number.isFinite(W)){var M=W/H,z=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(T=M*z/2),y.padding==="no-gap"){var P=gc(t.barCategoryGap,M*z),C=M*z/2;T=C-P-(C-P)/z*P}}}i==="xAxis"?D=[n.left+(E.left||0)+(T||0),n.left+n.width-(E.right||0)-(T||0)]:i==="yAxis"?D=c==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(T||0),n.top+n.height-(E.bottom||0)-(T||0)]:D=y.range,_&&(D=[D[1],D[0]]);var L=che(y,a,p),U=L.scale,R=L.realScaleType;U.domain(N).range(D),uhe(U);var I=vhe(U,zi(zi({},y),{},{realScaleType:R}));i==="xAxis"?($=v==="top"&&!k||v==="bottom"&&k,q=n.left,K=m[A]-$*y.height):i==="yAxis"&&($=v==="left"&&!k||v==="right"&&k,q=m[A]-$*y.width,K=n.top);var V=zi(zi(zi({},y),I),{},{realScaleType:R,x:q,y:K,scale:U,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return V.bandSize=Fx(V,I),!y.hide&&i==="xAxis"?m[A]+=($?-1:1)*V.height:y.hide||(m[A]+=($?-1:1)*V.width),zi(zi({},x),{},y0({},b,V))},{})},A8=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Qge=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return A8({x:r,y:n},{x:i,y:a})},P8=(function(){function e(t){Gge(this,e),this.scale=t}return Yge(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();y0(P8,"EPS",1e-4);var QC=function(t){var r=Object.keys(t).reduce(function(n,i){return zi(zi({},n),{},y0({},i,P8.create(t[i])))},{});return zi(zi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Ege(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return S8(i,function(a,o){return r[o].isInRange(a)})}})};function Jge(e){return(e%180+180)%180}var Zge=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jge(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},LN,pI;function exe(){if(pI)return LN;pI=1;var e=ul(),t=Cm(),r=s0();function n(i){return function(a,o,l){var c=Object(a);if(!t(a)){var d=e(o,3);a=r(a),o=function(m){return d(c[m],m,c)}}var h=i(a,o,l);return h>-1?c[d?a[h]:h]:void 0}}return LN=n,LN}var BN,gI;function txe(){if(gI)return BN;gI=1;var e=b8();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return BN=t,BN}var zN,xI;function rxe(){if(xI)return zN;xI=1;var e=Uz(),t=ul(),r=txe(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),e(a,t(o,3),d)}return zN=i,zN}var WN,vI;function nxe(){if(vI)return WN;vI=1;var e=exe(),t=rxe(),r=e(t);return WN=r,WN}var sxe=nxe();const ixe=rr(sxe);var axe=sz();const oxe=rr(axe);var lxe=oxe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),JC=w.createContext(void 0),ZC=w.createContext(void 0),O8=w.createContext(void 0),T8=w.createContext({}),R8=w.createContext(void 0),M8=w.createContext(0),I8=w.createContext(0),yI=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,h=lxe(a);return Z.createElement(JC.Provider,{value:n},Z.createElement(ZC.Provider,{value:i},Z.createElement(T8.Provider,{value:a},Z.createElement(O8.Provider,{value:h},Z.createElement(R8.Provider,{value:o},Z.createElement(M8.Provider,{value:d},Z.createElement(I8.Provider,{value:c},l)))))))},cxe=function(){return w.useContext(R8)},D8=function(t){var r=w.useContext(JC);r==null&&vc();var n=r[t];return n==null&&vc(),n},uxe=function(){var t=w.useContext(JC);return Bo(t)},dxe=function(){var t=w.useContext(ZC),r=ixe(t,function(n){return S8(n.domain,Number.isFinite)});return r||Bo(t)},F8=function(t){var r=w.useContext(ZC);r==null&&vc();var n=r[t];return n==null&&vc(),n},hxe=function(){var t=w.useContext(O8);return t},fxe=function(){return w.useContext(T8)},ek=function(){return w.useContext(I8)},tk=function(){return w.useContext(M8)};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L8(n.key),n)}}function gxe(e,t,r){return t&&pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xxe(e,t,r){return t=Qx(t),vxe(e,$8()?Reflect.construct(t,r||[],Qx(e).constructor):t.apply(e,r))}function vxe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yxe(e)}function yxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(e)}function bxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tE(e,t)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){rk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rk(e,t,r){return t=L8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=wxe(e,"string");return dd(t)=="symbol"?t:t+""}function wxe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jxe(e,t){return _xe(e)||Exe(e,t)||Sxe(e,t)||Nxe()}function Nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sxe(e,t){if(e){if(typeof e=="string")return jI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jI(e,t)}}function jI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Exe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _xe(e){if(Array.isArray(e))return e}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}var Cxe=function(t,r){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,r):It(t)?n=t(r):n=Z.createElement("line",rE({},r,{className:"recharts-reference-line-line"})),n},kxe=function(t,r,n,i,a,o,l,c,d){var h=a.x,m=a.y,p=a.width,x=a.height;if(n){var b=d.y,y=t.y.apply(b,{position:o});if(ga(d,"discard")&&!t.y.isInRange(y))return null;var v=[{x:h+p,y},{x:h,y}];return c==="left"?v.reverse():v}if(r){var N=d.x,j=t.x.apply(N,{position:o});if(ga(d,"discard")&&!t.x.isInRange(j))return null;var E=[{x:j,y:m+x},{x:j,y:m}];return l==="top"?E.reverse():E}if(i){var k=d.segment,_=k.map(function(A){return t.apply(A,{position:o})});return ga(d,"discard")&&wge(_,function(A){return!t.isInRange(A)})?null:_}return null};function Axe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=cxe(),h=D8(i),m=F8(a),p=hxe();if(!d||!p)return null;Xa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=QC({x:h.scale,y:m.scale}),b=un(t),y=un(r),v=n&&n.length===2,N=kxe(x,b,y,v,p,e.position,h.orientation,m.orientation,e);if(!N)return null;var j=jxe(N,2),E=j[0],k=E.x,_=E.y,A=j[1],T=A.x,D=A.y,q=ga(e,"hidden")?"url(#".concat(d,")"):void 0,K=wI(wI({clipPath:q},Ft(e,!0)),{},{x1:k,y1:_,x2:T,y2:D});return Z.createElement(xr,{className:qt("recharts-reference-line",l)},Cxe(o,K),Bn.renderCallByParent(e,Qge({x1:k,y1:_,x2:T,y2:D})))}var nk=(function(e){function t(){return mxe(this,t),xxe(this,t,arguments)}return bxe(t,e),gxe(t,[{key:"render",value:function(){return Z.createElement(Axe,this.props)}}])})(Z.Component);rk(nk,"displayName","ReferenceLine");rk(nk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(this,arguments)}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){b0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function Txe(e,t,r){return t&&Oxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rxe(e,t,r){return t=Jx(t),Mxe(e,B8()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function Mxe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixe(e)}function Ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function Dxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sE(e,t)}function sE(e,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sE(e,t)}function b0(e,t,r){return t=z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8(e){var t=Fxe(e,"string");return hd(t)=="symbol"?t:t+""}function Fxe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $xe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=QC({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ga(t,"discard")&&!o.isInRange(l)?null:l},w0=(function(e){function t(){return Pxe(this,t),Rxe(this,t,arguments)}return Dxe(t,e),Txe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=un(i),h=un(a);if(Xa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=$xe(this.props);if(!m)return null;var p=m.x,x=m.y,b=this.props,y=b.shape,v=b.className,N=ga(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=SI(SI({clipPath:N},Ft(this.props,!0)),{},{cx:p,cy:x});return Z.createElement(xr,{className:qt("recharts-reference-dot",v)},t.renderDot(y,j),Bn.renderCallByParent(this.props,{x:p-o,y:x-o,width:2*o,height:2*o}))}}])})(Z.Component);b0(w0,"displayName","ReferenceDot");b0(w0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});b0(w0,"renderDot",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):It(e)?r=e(t):r=Z.createElement(g0,nE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iE.apply(this,arguments)}function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U8(n.key),n)}}function zxe(e,t,r){return t&&Bxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wxe(e,t,r){return t=Zx(t),Uxe(e,W8()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function Uxe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vxe(e)}function Vxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function qxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(e,t)}function j0(e,t,r){return t=U8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U8(e){var t=Hxe(e,"string");return fd(t)=="symbol"?t:t+""}function Hxe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kxe=function(t,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var p=QC({x:h.scale,y:m.scale}),x={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},b={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(d,{position:"end"}):p.y.rangeMax};return ga(a,"discard")&&(!p.isInRange(x)||!p.isInRange(b))?null:A8(x,b)},N0=(function(e){function t(){return Lxe(this,t),Wxe(this,t,arguments)}return qxe(t,e),zxe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,h=n.clipPathId;Xa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=un(i),p=un(a),x=un(o),b=un(l),y=this.props.shape;if(!m&&!p&&!x&&!b&&!y)return null;var v=Kxe(m,p,x,b,this.props);if(!v&&!y)return null;var N=ga(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Z.createElement(xr,{className:qt("recharts-reference-area",c)},t.renderRect(y,_I(_I({clipPath:N},Ft(this.props,!0)),v)),Bn.renderCallByParent(this.props,v))}}])})(Z.Component);j0(N0,"displayName","ReferenceArea");j0(N0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});j0(N0,"renderRect",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):It(e)?r=e(t):r=Z.createElement(YC,iE({},t,{className:"recharts-reference-area-rect"})),r});function V8(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function Gxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Zge(n,r)}function Yxe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function ev(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Xxe(e,t){return V8(e,t+1)}function Qxe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,h=o,m=function(){var b=n?.[c];if(b===void 0)return{v:V8(n,d)};var y=c,v,N=function(){return v===void 0&&(v=r(b,y)),v},j=b.coordinate,E=c===0||ev(e,j,N,h,l);E||(c=0,h=o,d+=1),E&&(h=j+e*(N()/2+i),c+=d)},p;d<=a.length;)if(p=m(),p)return p.v;return[]}function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){Jxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jxe(e,t,r){return t=Zxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxe(e){var t=eve(e,"string");return Zf(t)=="symbol"?t:t+""}function eve(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tve(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(p){var x=a[p],b,y=function(){return b===void 0&&(b=r(x,p)),b};if(p===o-1){var v=e*(x.coordinate+e*y()/2-c);a[p]=x=$n($n({},x),{},{tickCoord:v>0?x.coordinate-v*e:x.coordinate})}else a[p]=x=$n($n({},x),{},{tickCoord:x.coordinate});var N=ev(e,x.tickCoord,y,l,c);N&&(c=x.tickCoord-e*(y()/2+i),a[p]=$n($n({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return a}function rve(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var h=n[l-1],m=r(h,l-1),p=e*(h.coordinate+e*m/2-d);o[l-1]=h=$n($n({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var x=ev(e,h.tickCoord,function(){return m},c,d);x&&(d=h.tickCoord-e*(m/2+i),o[l-1]=$n($n({},h),{},{isShow:!0}))}for(var b=a?l-1:l,y=function(j){var E=o[j],k,_=function(){return k===void 0&&(k=r(E,j)),k};if(j===0){var A=e*(E.coordinate-e*_()/2-c);o[j]=E=$n($n({},E),{},{tickCoord:A<0?E.coordinate-A*e:E.coordinate})}else o[j]=E=$n($n({},E),{},{tickCoord:E.coordinate});var T=ev(e,E.tickCoord,_,c,d);T&&(c=E.tickCoord+e*(_()/2+i),o[j]=$n($n({},E),{},{isShow:!0}))},v=0;v<b;v++)y(v);return o}function sk(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,h=e.unit,m=e.angle;if(!i||!i.length||!n)return[];if(Ke(c)||_c.isSsr)return Xxe(i,typeof c=="number"&&Ke(c)?c:0);var p=[],x=l==="top"||l==="bottom"?"width":"height",b=h&&x==="width"?rf(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(E,k){var _=It(d)?d(E.value,k):E.value;return x==="width"?Gxe(rf(_,{fontSize:t,letterSpacing:r}),b,m):rf(_,{fontSize:t,letterSpacing:r})[x]},v=i.length>=2?qi(i[1].coordinate-i[0].coordinate):1,N=Yxe(a,v,x);return c==="equidistantPreserveStart"?Qxe(v,N,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=rve(v,N,y,i,o,c==="preserveStartEnd"):p=tve(v,N,y,i,o),p.filter(function(j){return j.isShow}))}var nve=["viewBox"],sve=["viewBox"],ive=["ticks"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UN(e,t){if(e==null)return{};var r=ave(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ave(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ove(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H8(n.key),n)}}function lve(e,t,r){return t&&AI(e.prototype,t),r&&AI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cve(e,t,r){return t=tv(t),uve(e,q8()?Reflect.construct(t,r||[],tv(e).constructor):t.apply(e,r))}function uve(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dve(e)}function dve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!e})()}function tv(e){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(e)}function hve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oE(e,t)}function ik(e,t,r){return t=H8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=fve(e,"string");return md(t)=="symbol"?t:t+""}function fve(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vd=(function(e){function t(r){var n;return ove(this,t),n=cve(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return hve(t,e),lve(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=UN(n,nve),l=this.props,c=l.viewBox,d=UN(l,sve);return!Fu(a,c)||!Fu(o,d)||!Fu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,h=i.tickSize,m=i.mirror,p=i.tickMargin,x,b,y,v,N,j,E=m?-1:1,k=n.tickSize||h,_=Ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":x=b=n.coordinate,v=o+ +!m*c,y=v-E*k,j=y-E*p,N=_;break;case"left":y=v=n.coordinate,b=a+ +!m*l,x=b-E*k,N=x-E*p,j=_;break;case"right":y=v=n.coordinate,b=a+ +m*l,x=b+E*k,N=x+E*p,j=_;break;default:x=b=n.coordinate,v=o+ +m*c,y=v+E*k,j=y+E*p,N=_;break}return{line:{x1:x,y1:y,x2:b,y2:v},tick:{x:N,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,h=n.axisLine,m=sn(sn(sn({},Ft(this.props,!1)),Ft(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=sn(sn({},m),{},{x1:i,y1:a+p*l,x2:i+o,y2:a+p*l})}else{var x=+(c==="left"&&!d||c==="right"&&d);m=sn(sn({},m),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+l})}return Z.createElement("line",Su({},m,{className:qt("recharts-cartesian-axis-line",yi(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,p=l.unit,x=sk(sn(sn({},this.props),{},{ticks:n}),i,a),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=Ft(this.props,!1),N=Ft(h,!1),j=sn(sn({},v),{},{fill:"none"},Ft(c,!1)),E=x.map(function(k,_){var A=o.getTickLineCoord(k),T=A.line,D=A.tick,q=sn(sn(sn(sn({textAnchor:b,verticalAnchor:y},v),{},{stroke:"none",fill:d},N),D),{},{index:_,payload:k,visibleTicksCount:x.length,tickFormatter:m});return Z.createElement(xr,Su({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},dx(o.props,k,_)),c&&Z.createElement("line",Su({},j,T,{className:qt("recharts-cartesian-axis-tick-line",yi(c,"className"))})),h&&t.renderTickItem(h,q,"".concat(It(m)?m(k.value,_):k.value).concat(p||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var m=this.props,p=m.ticks,x=UN(m,ive),b=p;return It(c)&&(b=p&&p.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:Z.createElement(xr,{className:qt("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=qt(i.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(n)?o=Z.cloneElement(n,sn(sn({},i),{},{className:l})):It(n)?o=n(sn(sn({},i),{},{className:l})):o=Z.createElement(jx,Su({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(w.Component);ik(Vd,"displayName","CartesianAxis");ik(Vd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mve=["x1","y1","x2","y2","key"],pve=["offset"];function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){gve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gve(e,t,r){return t=xve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xve(e){var t=vve(e,"string");return yc(t)=="symbol"?t:t+""}function vve(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function OI(e,t){if(e==null)return{};var r=yve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bve=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function K8(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(It(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=OI(t,mve),d=Ft(c,!1);d.offset;var h=OI(d,pve);r=Z.createElement("line",Zl({},h,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function wve(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=zn(zn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return K8(i,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jve(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=zn(zn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return K8(i,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nve(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var h=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,x){return p-x});i!==h[0]&&h.unshift(0);var m=h.map(function(p,x){var b=!h[x+1],y=b?i+o-p:h[x+1]-p;if(y<=0)return null;var v=x%t.length;return Z.createElement("rect",{key:"react-".concat(x),y:p,x:n,height:y,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Sve(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(p){return Math.round(p+a-a)}).sort(function(p,x){return p-x});a!==h[0]&&h.unshift(0);var m=h.map(function(p,x){var b=!h[x+1],y=b?a+l-p:h[x+1]-p;if(y<=0)return null;var v=x%n.length;return Z.createElement("rect",{key:"react-".concat(x),x:p,y:o,width:y,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Eve=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return o8(sk(zn(zn(zn({},Vd.defaultProps),n),{},{ticks:Ka(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},_ve=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return o8(sk(zn(zn(zn({},Vd.defaultProps),n),{},{ticks:Ka(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},uu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Za(e){var t,r,n,i,a,o,l=ek(),c=tk(),d=fxe(),h=zn(zn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:uu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:uu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:uu.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:uu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:uu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:uu.verticalFill,x:Ke(e.x)?e.x:d.left,y:Ke(e.y)?e.y:d.top,width:Ke(e.width)?e.width:d.width,height:Ke(e.height)?e.height:d.height}),m=h.x,p=h.y,x=h.width,b=h.height,y=h.syncWithTicks,v=h.horizontalValues,N=h.verticalValues,j=uxe(),E=dxe();if(!Ke(x)||x<=0||!Ke(b)||b<=0||!Ke(m)||m!==+m||!Ke(p)||p!==+p)return null;var k=h.verticalCoordinatesGenerator||Eve,_=h.horizontalCoordinatesGenerator||_ve,A=h.horizontalPoints,T=h.verticalPoints;if((!A||!A.length)&&It(_)){var D=v&&v.length,q=_({yAxis:E?zn(zn({},E),{},{ticks:D?v:E.ticks}):void 0,width:l,height:c,offset:d},D?!0:y);Xa(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yc(q),"]")),Array.isArray(q)&&(A=q)}if((!T||!T.length)&&It(k)){var K=N&&N.length,$=k({xAxis:j?zn(zn({},j),{},{ticks:K?N:j.ticks}):void 0,width:l,height:c,offset:d},K?!0:y);Xa(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yc($),"]")),Array.isArray($)&&(T=$)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(bve,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Z.createElement(wve,Zl({},h,{offset:d,horizontalPoints:A,xAxis:j,yAxis:E})),Z.createElement(jve,Zl({},h,{offset:d,verticalPoints:T,xAxis:j,yAxis:E})),Z.createElement(Nve,Zl({},h,{horizontalPoints:A})),Z.createElement(Sve,Zl({},h,{verticalPoints:T})))}Za.displayName="CartesianGrid";var Cve=["type","layout","connectNulls","ref"],kve=["key"];function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function TI(e,t){if(e==null)return{};var r=Ave(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ave(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function du(e){return Rve(e)||Tve(e)||Ove(e)||Pve()}function Pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(e,t){if(e){if(typeof e=="string")return lE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(e,t)}}function Tve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rve(e){if(Array.isArray(e))return lE(e)}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y8(n.key),n)}}function Ive(e,t,r){return t&&MI(e.prototype,t),r&&MI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dve(e,t,r){return t=rv(t),Fve(e,G8()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function Fve(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ve(e)}function $ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G8=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(e)}function Lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cE(e,t)}function Wi(e,t,r){return t=Y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=Bve(e,"string");return pd(t)=="symbol"?t:t+""}function Bve(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rm=(function(e){function t(){var r;Mve(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Dve(this,t,[].concat(i)),Wi(r,"state",{isAnimationFinished:!0,totalLength:0}),Wi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Wi(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(N,j){return N+j});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/d),m=o%d,p=l-o,x=[],b=0,y=0;b<c.length;y+=c[b],++b)if(y+c[b]>m){x=[].concat(du(c.slice(0,b)),[m-y]);break}var v=x.length%2===0?[0,p]:[p];return[].concat(du(t.repeat(c,h)),du(x),v).map(function(N){return"".concat(N,"px")}).join(", ")}),Wi(r,"id",Ld("recharts-line-")),Wi(r,"pathRef",function(o){r.mainCurve=o}),Wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Lve(t,e),Ive(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,h=a.children,m=bi(h,Tm);if(!m)return null;var p=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:os(y.payload,v)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Z.createElement(xr,x,m.map(function(b){return Z.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,h=l.dataKey,m=Ft(this.props,!1),p=Ft(c,!0),x=d.map(function(y,v){var N=Ls(Ls(Ls({key:"dot-".concat(v),r:3},m),p),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:h,payload:y.payload,points:d});return t.renderDotItem(c,N)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Z.createElement(xr,of({className:"recharts-line-dots",key:"dots"},b),x)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,d=l.layout,h=l.connectNulls;l.ref;var m=TI(l,Cve),p=Ls(Ls(Ls({},Ft(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:h});return Z.createElement(zu,of({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,x=o.animationId,b=o.animateNewValues,y=o.width,v=o.height,N=this.state,j=N.prevPoints,E=N.totalLength;return Z.createElement(wa,{begin:h,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var _=k.t;if(j){var A=j.length/l.length,T=l.map(function(H,W){var B=Math.floor(W*A);if(j[B]){var M=j[B],z=_n(M.x,H.x),P=_n(M.y,H.y);return Ls(Ls({},H),{},{x:z(_),y:P(_)})}if(b){var C=_n(y*2,H.x),L=_n(v/2,H.y);return Ls(Ls({},H),{},{x:C(_),y:L(_)})}return Ls(Ls({},H),{},{x:H.x,y:H.y})});return a.renderCurveStatically(T,n,i)}var D=_n(0,E),q=D(_),K;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});K=a.getStrokeDasharray(q,E,$)}else K=a.generateSimpleStrokeDasharray(E,q);return a.renderCurveStatically(l,n,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!id(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,h=i.yAxis,m=i.top,p=i.left,x=i.width,b=i.height,y=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,E=qt("recharts-line",c),k=d&&d.allowDataOverflow,_=h&&h.allowDataOverflow,A=k||_,T=Bt(v)?this.id:v,D=(n=Ft(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},q=D.r,K=q===void 0?3:q,$=D.strokeWidth,H=$===void 0?2:$,W=cz(o)?o:{},B=W.clipDot,M=B===void 0?!0:B,z=K*2+H;return Z.createElement(xr,{className:E},k||_?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(T)},Z.createElement("rect",{x:k?p:p-x/2,y:_?m:m-b/2,width:k?x:x*2,height:_?b:b*2})),!M&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Z.createElement("rect",{x:p-z/2,y:m-z/2,width:x+z,height:b+z}))):null,!j&&this.renderCurve(A,T),this.renderErrorBar(A,T),(j||o)&&this.renderDots(A,M,T),(!y||N)&&Ja.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(du(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(du(o),du(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(Z.isValidElement(n))a=Z.cloneElement(n,i);else if(It(n))a=n(i);else{var o=i.key,l=TI(i,kve),c=qt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Z.createElement(g0,of({key:o},l,{className:c}))}return a}}])})(w.PureComponent);Wi(Rm,"displayName","Line");Wi(Rm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_c.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Wi(Rm,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,h=t.layout,m=c.map(function(p,x){var b=os(p,o);return h==="horizontal"?{x:Dx({axis:r,ticks:i,bandSize:l,entry:p,index:x}),y:Bt(b)?null:n.scale(b),value:b,payload:p}:{x:Bt(b)?null:r.scale(b),y:Dx({axis:n,ticks:a,bandSize:l,entry:p,index:x}),value:b,payload:p}});return Ls({points:m,layout:h},d)});var zve=["layout","type","stroke","connectNulls","isRange","ref"],Wve=["key"],X8;function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Q8(e,t){if(e==null)return{};var r=Uve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(this,arguments)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){da(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z8(n.key),n)}}function qve(e,t,r){return t&&DI(e.prototype,t),r&&DI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hve(e,t,r){return t=nv(t),Kve(e,J8()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function Kve(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(e)}function Gve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J8=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function Yve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uE(e,t)}function uE(e,t){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uE(e,t)}function da(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=Xve(e,"string");return gd(t)=="symbol"?t:t+""}function Xve(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _a=(function(e){function t(){var r;Vve(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hve(this,t,[].concat(i)),da(r,"state",{isAnimationFinished:!0}),da(r,"id",Ld("recharts-area-")),da(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),It(o)&&o()}),da(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),It(o)&&o()}),r}return Yve(t,e),qve(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,h=c.points,m=c.dataKey,p=Ft(this.props,!1),x=Ft(d,!0),b=h.map(function(v,N){var j=Fo(Fo(Fo({key:"dot-".concat(N),r:3},p),x),{},{index:N,cx:v.x,cy:v.y,dataKey:m,value:v.value,payload:v.payload,points:h});return t.renderDotItem(d,j)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Z.createElement(xr,ec({className:"recharts-area-dots"},y),b)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,h=n*Math.abs(c-d),m=Go(o.map(function(p){return p.y||0}));return Ke(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Go(a.map(function(p){return p.y||0})),m)),Ke(m)?Z.createElement("rect",{x:c<d?c:c-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,h=n*Math.abs(c-d),m=Go(o.map(function(p){return p.x||0}));return Ke(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(Go(a.map(function(p){return p.x||0})),m)),Ke(m)?Z.createElement("rect",{x:0,y:c<d?c:c-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,c=l.layout,d=l.type,h=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var x=Q8(l,zve);return Z.createElement(xr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},Z.createElement(zu,ec({},Ft(x,!0),{points:n,connectNulls:m,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Z.createElement(zu,ec({},Ft(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:n})),h!=="none"&&p&&Z.createElement(zu,ec({},Ft(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,p=o.animationEasing,x=o.animationId,b=this.state,y=b.prevPoints,v=b.prevBaseLine;return Z.createElement(wa,{begin:h,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(y){var E=y.length/l.length,k=l.map(function(D,q){var K=Math.floor(q*E);if(y[K]){var $=y[K],H=_n($.x,D.x),W=_n($.y,D.y);return Fo(Fo({},D),{},{x:H(j),y:W(j)})}return D}),_;if(Ke(c)&&typeof c=="number"){var A=_n(v,c);_=A(j)}else if(Bt(c)||$d(c)){var T=_n(v,0);_=T(j)}else _=c.map(function(D,q){var K=Math.floor(q*E);if(v[K]){var $=v[K],H=_n($.x,D.x),W=_n($.y,D.y);return Fo(Fo({},D),{},{x:H(j),y:W(j)})}return D});return a.renderAreaStatically(k,_,n,i)}return Z.createElement(xr,null,Z.createElement("defs",null,Z.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(j))),Z.createElement(xr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!h&&p>0||!id(h,o)||!id(m,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,h=i.left,m=i.xAxis,p=i.yAxis,x=i.width,b=i.height,y=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var N=this.state.isAnimationFinished,j=l.length===1,E=qt("recharts-area",c),k=m&&m.allowDataOverflow,_=p&&p.allowDataOverflow,A=k||_,T=Bt(v)?this.id:v,D=(n=Ft(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},q=D.r,K=q===void 0?3:q,$=D.strokeWidth,H=$===void 0?2:$,W=cz(o)?o:{},B=W.clipDot,M=B===void 0?!0:B,z=K*2+H;return Z.createElement(xr,{className:E},k||_?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(T)},Z.createElement("rect",{x:k?h:h-x/2,y:_?d:d-b/2,width:k?x:x*2,height:_?b:b*2})),!M&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Z.createElement("rect",{x:h-z/2,y:d-z/2,width:x+z,height:b+z}))):null,j?null:this.renderArea(A,T),(o||j)&&this.renderDots(A,M,T),(!y||N)&&Ja.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(w.PureComponent);X8=_a;da(_a,"displayName","Area");da(_a,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!_c.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});da(_a,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(Ke(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});da(_a,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,p=e.offset,x=t.layout,b=d&&d.length,y=X8.getBaseValue(t,r,n,i),v=x==="horizontal",N=!1,j=m.map(function(k,_){var A;b?A=d[h+_]:(A=os(k,c),Array.isArray(A)?N=!0:A=[y,A]);var T=A[1]==null||b&&os(k,c)==null;return v?{x:Dx({axis:n,ticks:a,bandSize:l,entry:k,index:_}),y:T?null:i.scale(A[1]),value:A,payload:k}:{x:T?null:n.scale(A[1]),y:Dx({axis:i,ticks:o,bandSize:l,entry:k,index:_}),value:A,payload:k}}),E;return b||N?E=j.map(function(k){var _=Array.isArray(k.value)?k.value[0]:null;return v?{x:k.x,y:_!=null&&k.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:k.y}}):E=v?i.scale(y):n.scale(y),Fo({points:j,baseLine:E,layout:x,isRange:N},p)});da(_a,"renderDotItem",function(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(It(e))r=e(t);else{var n=qt("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Q8(t,Wve);r=Z.createElement(g0,ec({},a,{key:i,className:n}))}return r});function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function Qve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rW(n.key),n)}}function Zve(e,t,r){return t&&Jve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e0e(e,t,r){return t=sv(t),t0e(e,eW()?Reflect.construct(t,r||[],sv(e).constructor):t.apply(e,r))}function t0e(e,t){if(t&&(xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0e(e)}function r0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eW=function(){return!!e})()}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(e)}function n0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dE(e,t)}function tW(e,t,r){return t=rW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=s0e(e,"string");return xd(t)=="symbol"?t:t+""}function s0e(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function i0e(e){var t=e.xAxisId,r=ek(),n=tk(),i=D8(t);return i==null?null:w.createElement(Vd,hE({},i,{className:qt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ka(o,!0)}}))}var ei=(function(e){function t(){return Qve(this,t),e0e(this,t,arguments)}return n0e(t,e),Zve(t,[{key:"render",value:function(){return w.createElement(i0e,this.props)}}])})(w.Component);tW(ei,"displayName","XAxis");tW(ei,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function a0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iW(n.key),n)}}function l0e(e,t,r){return t&&o0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c0e(e,t,r){return t=iv(t),u0e(e,nW()?Reflect.construct(t,r||[],iv(e).constructor):t.apply(e,r))}function u0e(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0e(e)}function d0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!e})()}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(e)}function h0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fE(e,t)}function sW(e,t,r){return t=iW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iW(e){var t=f0e(e,"string");return vd(t)=="symbol"?t:t+""}function f0e(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mE(){return mE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mE.apply(this,arguments)}var m0e=function(t){var r=t.yAxisId,n=ek(),i=tk(),a=F8(r);return a==null?null:w.createElement(Vd,mE({},a,{className:qt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Ka(l,!0)}}))},ti=(function(e){function t(){return a0e(this,t),c0e(this,t,arguments)}return h0e(t,e),l0e(t,[{key:"render",value:function(){return w.createElement(m0e,this.props)}}])})(w.Component);sW(ti,"displayName","YAxis");sW(ti,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FI(e){return v0e(e)||x0e(e)||g0e(e)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(e,t){if(e){if(typeof e=="string")return pE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pE(e,t)}}function x0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v0e(e){if(Array.isArray(e))return pE(e)}function pE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gE=function(t,r,n,i,a){var o=bi(t,nk),l=bi(t,w0),c=[].concat(FI(o),FI(l)),d=bi(t,N0),h="".concat(i,"Id"),m=i[0],p=r;if(c.length&&(p=c.reduce(function(y,v){if(v.props[h]===n&&ga(v.props,"extendDomain")&&Ke(v.props[m])){var N=v.props[m];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},p)),d.length){var x="".concat(m,"1"),b="".concat(m,"2");p=d.reduce(function(y,v){if(v.props[h]===n&&ga(v.props,"extendDomain")&&Ke(v.props[x])&&Ke(v.props[b])){var N=v.props[x],j=v.props[b];return[Math.min(y[0],N,j),Math.max(y[1],N,j)]}return y},p)}return a&&a.length&&(p=a.reduce(function(y,v){return Ke(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},p)),p},VN={exports:{}},$I;function y0e(){return $I||($I=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||c,p),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,b=new Array(x);p<x;p++)b[p]=m[p].fn;return b},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,p,x,b){var y=r?r+d:d;if(!this._events[y])return!1;var v=this._events[y],N=arguments.length,j,E;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,p),!0;case 5:return v.fn.call(v.context,h,m,p,x),!0;case 6:return v.fn.call(v.context,h,m,p,x,b),!0}for(E=1,j=new Array(N-1);E<N;E++)j[E-1]=arguments[E];v.fn.apply(v.context,j)}else{var k=v.length,_;for(E=0;E<k;E++)switch(v[E].once&&this.removeListener(d,v[E].fn,void 0,!0),N){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,h);break;case 3:v[E].fn.call(v[E].context,h,m);break;case 4:v[E].fn.call(v[E].context,h,m,p);break;default:if(!j)for(_=1,j=new Array(N-1);_<N;_++)j[_-1]=arguments[_];v[E].fn.apply(v[E].context,j)}}return!0},l.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,p){var x=r?r+d:d;if(!this._events[x])return this;if(!h)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!p||b.once)&&(!m||b.context===m)&&o(this,x);else{for(var y=0,v=[],N=b.length;y<N;y++)(b[y].fn!==h||p&&!b[y].once||m&&b[y].context!==m)&&v.push(b[y]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(VN)),VN.exports}var b0e=y0e();const w0e=rr(b0e);var qN=new w0e,HN="recharts.syncMouseEvents";function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function j0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aW(n.key),n)}}function S0e(e,t,r){return t&&N0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KN(e,t,r){return t=aW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=E0e(e,"string");return em(t)=="symbol"?t:t+""}function E0e(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _0e=(function(){function e(){j0e(this,e),KN(this,"activeIndex",0),KN(this,"coordinateList",[]),KN(this,"layout","horizontal")}return S0e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,p=r.mouseHandlerCallback,x=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+d,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function C0e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&Ke(n)&&Ke(i))return!0}return!1}function k0e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oW(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=An(t,r,n,i),l=An(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function A0e(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,h=t.outerRadius,m=t.angle,p=An(l,c,d,m),x=An(l,c,h,m);n=p.x,i=p.y,a=x.x,o=x.y}else return oW(t);return[{x:n,y:i},{x:a,y:o}]}function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){P0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0e(e,t,r){return t=O0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O0e(e){var t=T0e(e,"string");return tm(t)=="symbol"?t:t+""}function T0e(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0e(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,p=e.chartName,x=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var b,y=zu;if(p==="ScatterChart")b=o,y=wpe;else if(p==="BarChart")b=k0e(m,o,c,h),y=YC;else if(m==="radial"){var v=oW(o),N=v.cx,j=v.cy,E=v.radius,k=v.startAngle,_=v.endAngle;b={cx:N,cy:j,startAngle:k,endAngle:_,innerRadius:E,outerRadius:E},y=h8}else b={points:A0e(m,o,c)},y=zu;var A=xg(xg(xg(xg({stroke:"#ccc",pointerEvents:"none"},c),b),Ft(x,!1)),{},{payload:l,payloadIndex:d,className:qt("recharts-tooltip-cursor",x.className)});return w.isValidElement(x)?w.cloneElement(x,A):w.createElement(y,A)}var M0e=["item"],I0e=["children","className","width","height","style","compact","title","desc"];function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eu.apply(this,arguments)}function BI(e,t){return $0e(e)||F0e(e,t)||cW(e,t)||D0e()}function D0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){d=!0,i=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function $0e(e){if(Array.isArray(e))return e}function zI(e,t){if(e==null)return{};var r=L0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uW(n.key),n)}}function W0e(e,t,r){return t&&z0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U0e(e,t,r){return t=av(t),V0e(e,lW()?Reflect.construct(t,r||[],av(e).constructor):t.apply(e,r))}function V0e(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0e(e)}function q0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lW=function(){return!!e})()}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(e)}function H0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xE(e,t)}function bd(e){return Y0e(e)||G0e(e)||cW(e)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cW(e,t){if(e){if(typeof e=="string")return vE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(e,t)}}function G0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y0e(e){if(Array.isArray(e))return vE(e)}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e,t,r){return t=uW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=X0e(e,"string");return yd(t)=="symbol"?t:t+""}function X0e(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q0e={xAxis:["bottom","top"],yAxis:["left","right"]},J0e={width:"100%",height:"100%"},dW={x:0,y:0};function vg(e){return e}var Z0e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},eye=function(t,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Re(Re(Re({},i),An(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return Re(Re(Re({},i),An(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return dW},S0=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(bd(l),bd(d)):l},[]);return o.length>0?o:t&&t.length&&Ke(i)&&Ke(a)?t.slice(i,a+1):[]};function hW(e){return e==="number"?[0,"auto"]:void 0}var yE=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,l=S0(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?l:m;p=cx(x,o.dataKey,i)}else p=m&&m[n]||l[n];return p?[].concat(bd(c),[c8(d,p)]):c},[])},UI=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=Z0e(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,h=nhe(o,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,p=yE(t,r,h,m),x=eye(n,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:p,activeCoordinate:x}}return null},tye=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=t.layout,m=t.children,p=t.stackOffset,x=a8(h,a);return n.reduce(function(b,y){var v,N=y.type.defaultProps!==void 0?Re(Re({},y.type.defaultProps),y.props):y.props,j=N.type,E=N.dataKey,k=N.allowDataOverflow,_=N.allowDuplicatedCategory,A=N.scale,T=N.ticks,D=N.includeHidden,q=N[o];if(b[q])return b;var K=S0(t.data,{graphicalItems:i.filter(function(I){var V,re=o in I.props?I.props[o]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[o];return re===q}),dataStartIndex:c,dataEndIndex:d}),$=K.length,H,W,B;C0e(N.domain,k,j)&&(H=D2(N.domain,null,k),x&&(j==="number"||A!=="auto")&&(B=sf(K,E,"category")));var M=hW(j);if(!H||H.length===0){var z,P=(z=N.domain)!==null&&z!==void 0?z:M;if(E){if(H=sf(K,E,j),j==="category"&&x){var C=Yne(H);_&&C?(W=H,H=Hx(0,$)):_||(H=JR(P,H,y).reduce(function(I,V){return I.indexOf(V)>=0?I:[].concat(bd(I),[V])},[]))}else if(j==="category")_?H=H.filter(function(I){return I!==""&&!Bt(I)}):H=JR(P,H,y).reduce(function(I,V){return I.indexOf(V)>=0||V===""||Bt(V)?I:[].concat(bd(I),[V])},[]);else if(j==="number"){var L=lhe(K,i.filter(function(I){var V,re,ce=o in I.props?I.props[o]:(V=I.type.defaultProps)===null||V===void 0?void 0:V[o],me="hide"in I.props?I.props.hide:(re=I.type.defaultProps)===null||re===void 0?void 0:re.hide;return ce===q&&(D||!me)}),E,a,h);L&&(H=L)}x&&(j==="number"||A!=="auto")&&(B=sf(K,E,"category"))}else x?H=Hx(0,$):l&&l[q]&&l[q].hasStack&&j==="number"?H=p==="expand"?[0,1]:l8(l[q].stackGroups,c,d):H=i8(K,i.filter(function(I){var V=o in I.props?I.props[o]:I.type.defaultProps[o],re="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return V===q&&(D||!re)}),j,h,!0);if(j==="number")H=gE(m,H,q,a,T),P&&(H=D2(P,H,k));else if(j==="category"&&P){var U=P,R=H.every(function(I){return U.indexOf(I)>=0});R&&(H=U)}}return Re(Re({},b),{},Et({},q,Re(Re({},N),{},{axisType:a,domain:H,categoricalDomain:B,duplicateDomain:W,originalDomain:(v=N.domain)!==null&&v!==void 0?v:M,isCategorical:x,layout:h})))},{})},rye=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=t.layout,m=t.children,p=S0(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),x=p.length,b=a8(h,a),y=-1;return n.reduce(function(v,N){var j=N.type.defaultProps!==void 0?Re(Re({},N.type.defaultProps),N.props):N.props,E=j[o],k=hW("number");if(!v[E]){y++;var _;return b?_=Hx(0,x):l&&l[E]&&l[E].hasStack?(_=l8(l[E].stackGroups,c,d),_=gE(m,_,E,a)):(_=D2(k,i8(p,n.filter(function(A){var T,D,q=o in A.props?A.props[o]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[o],K="hide"in A.props?A.props.hide:(D=A.type.defaultProps)===null||D===void 0?void 0:D.hide;return q===E&&!K}),"number",h),i.defaultProps.allowDataOverflow),_=gE(m,_,E,a)),Re(Re({},v),{},Et({},E,Re(Re({axisType:a},i.defaultProps),{},{hide:!0,orientation:yi(Q0e,"".concat(a,".").concat(y%2),null),domain:_,originalDomain:k,isCategorical:b,layout:h})))}return v},{})},nye=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=t.children,m="".concat(i,"Id"),p=bi(h,a),x={};return p&&p.length?x=tye(t,{axes:p,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(x=rye(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),x},sye=function(t){var r=Bo(t),n=Ka(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jC(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fx(r,n)}},VI=function(t){var r=t.children,n=t.defaultShowTooltip,i=Ws(r,cd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},iye=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ya(r&&r.type);return n&&n.indexOf("Bar")>=0})},qI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aye=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,h=n.height,m=n.children,p=n.margin||{},x=Ws(m,cd),b=Ws(m,$u),y=Object.keys(c).reduce(function(_,A){var T=c[A],D=T.orientation;return!T.mirror&&!T.hide?Re(Re({},_),{},Et({},D,_[D]+T.width)):_},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(_,A){var T=o[A],D=T.orientation;return!T.mirror&&!T.hide?Re(Re({},_),{},Et({},D,yi(_,"".concat(D))+T.height)):_},{top:p.top||0,bottom:p.bottom||0}),N=Re(Re({},v),y),j=N.bottom;x&&(N.bottom+=x.props.height||cd.defaultProps.height),b&&r&&(N=ahe(N,i,n,r));var E=d-N.left-N.right,k=h-N.top-N.bottom;return Re(Re({brushBottom:j},N),{},{width:Math.max(E,0),height:Math.max(k,0)})},oye=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ak=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,p=function(N,j){var E=j.graphicalItems,k=j.stackGroups,_=j.offset,A=j.updateId,T=j.dataStartIndex,D=j.dataEndIndex,q=N.barSize,K=N.layout,$=N.barGap,H=N.barCategoryGap,W=N.maxBarSize,B=qI(K),M=B.numericAxisName,z=B.cateAxisName,P=iye(E),C=[];return E.forEach(function(L,U){var R=S0(N.data,{graphicalItems:[L],dataStartIndex:T,dataEndIndex:D}),I=L.type.defaultProps!==void 0?Re(Re({},L.type.defaultProps),L.props):L.props,V=I.dataKey,re=I.maxBarSize,ce=I["".concat(M,"Id")],me=I["".concat(z,"Id")],ae={},ue=c.reduce(function(ve,J){var je=j["".concat(J.axisType,"Map")],Ae=I["".concat(J.axisType,"Id")];je&&je[Ae]||J.axisType==="zAxis"||vc();var Te=je[Ae];return Re(Re({},ve),{},Et(Et({},J.axisType,Te),"".concat(J.axisType,"Ticks"),Ka(Te)))},ae),pe=ue[z],ee=ue["".concat(z,"Ticks")],xe=k&&k[ce]&&k[ce].hasStack&&bhe(L,k[ce].stackGroups),X=Ya(L.type).indexOf("Bar")>=0,fe=Fx(pe,ee),de=[],te=P&&she({barSize:q,stackGroups:k,totalSize:oye(ue,z)});if(X){var he,we,ze=Bt(re)?W:re,se=(he=(we=Fx(pe,ee,!0))!==null&&we!==void 0?we:ze)!==null&&he!==void 0?he:0;de=ihe({barGap:$,barCategoryGap:H,bandSize:se!==fe?se:fe,sizeList:te[me],maxBarSize:ze}),se!==fe&&(de=de.map(function(ve){return Re(Re({},ve),{},{position:Re(Re({},ve.position),{},{offset:ve.position.offset-se/2})})}))}var ne=L&&L.type&&L.type.getComposedData;ne&&C.push({props:Re(Re({},ne(Re(Re({},ue),{},{displayedData:R,props:N,dataKey:V,item:L,bandSize:fe,barPosition:de,offset:_,stackedData:xe,layout:K,dataStartIndex:T,dataEndIndex:D}))),{},Et(Et(Et({key:L.key||"item-".concat(U)},M,ue[M]),z,ue[z]),"animationId",A)),childIndex:ose(L,N.children),item:L})}),C},x=function(N,j){var E=N.props,k=N.dataStartIndex,_=N.dataEndIndex,A=N.updateId;if(!f4({props:E}))return null;var T=E.children,D=E.layout,q=E.stackOffset,K=E.data,$=E.reverseStackOrder,H=qI(D),W=H.numericAxisName,B=H.cateAxisName,M=bi(T,n),z=xhe(K,M,"".concat(W,"Id"),"".concat(B,"Id"),q,$),P=c.reduce(function(I,V){var re="".concat(V.axisType,"Map");return Re(Re({},I),{},Et({},re,nye(E,Re(Re({},V),{},{graphicalItems:M,stackGroups:V.axisType===W&&z,dataStartIndex:k,dataEndIndex:_}))))},{}),C=aye(Re(Re({},P),{},{props:E,graphicalItems:M}),j?.legendBBox);Object.keys(P).forEach(function(I){P[I]=h(E,P[I],C,I.replace("Map",""),r)});var L=P["".concat(B,"Map")],U=sye(L),R=p(E,Re(Re({},P),{},{dataStartIndex:k,dataEndIndex:_,updateId:A,graphicalItems:M,stackGroups:z,offset:C}));return Re(Re({formattedGraphicalItems:R,graphicalItems:M,offset:C,stackGroups:z},U),P)},b=(function(v){function N(j){var E,k,_;return B0e(this,N),_=U0e(this,N,[j]),Et(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(_,"accessibilityManager",new _0e),Et(_,"handleLegendBBoxUpdate",function(A){if(A){var T=_.state,D=T.dataStartIndex,q=T.dataEndIndex,K=T.updateId;_.setState(Re({legendBBox:A},x({props:_.props,dataStartIndex:D,dataEndIndex:q,updateId:K},Re(Re({},_.state),{},{legendBBox:A}))))}}),Et(_,"handleReceiveSyncEvent",function(A,T,D){if(_.props.syncId===A){if(D===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(T)}}),Et(_,"handleBrushChange",function(A){var T=A.startIndex,D=A.endIndex;if(T!==_.state.dataStartIndex||D!==_.state.dataEndIndex){var q=_.state.updateId;_.setState(function(){return Re({dataStartIndex:T,dataEndIndex:D},x({props:_.props,dataStartIndex:T,dataEndIndex:D,updateId:q},_.state))}),_.triggerSyncEvent({dataStartIndex:T,dataEndIndex:D})}}),Et(_,"handleMouseEnter",function(A){var T=_.getMouseInfo(A);if(T){var D=Re(Re({},T),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var q=_.props.onMouseEnter;It(q)&&q(D,A)}}),Et(_,"triggeredAfterMouseMove",function(A){var T=_.getMouseInfo(A),D=T?Re(Re({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(D),_.triggerSyncEvent(D);var q=_.props.onMouseMove;It(q)&&q(D,A)}),Et(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Et(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Et(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Et(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var D=_.props.onMouseLeave;It(D)&&D(T,A)}),Et(_,"handleOuterEvent",function(A){var T=ase(A),D=yi(_.props,"".concat(T));if(T&&It(D)){var q,K;/.*touch.*/i.test(T)?K=_.getMouseInfo(A.changedTouches[0]):K=_.getMouseInfo(A),D((q=K)!==null&&q!==void 0?q:{},A)}}),Et(_,"handleClick",function(A){var T=_.getMouseInfo(A);if(T){var D=Re(Re({},T),{},{isTooltipActive:!0});_.setState(D),_.triggerSyncEvent(D);var q=_.props.onClick;It(q)&&q(D,A)}}),Et(_,"handleMouseDown",function(A){var T=_.props.onMouseDown;if(It(T)){var D=_.getMouseInfo(A);T(D,A)}}),Et(_,"handleMouseUp",function(A){var T=_.props.onMouseUp;if(It(T)){var D=_.getMouseInfo(A);T(D,A)}}),Et(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Et(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Et(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Et(_,"handleDoubleClick",function(A){var T=_.props.onDoubleClick;if(It(T)){var D=_.getMouseInfo(A);T(D,A)}}),Et(_,"handleContextMenu",function(A){var T=_.props.onContextMenu;if(It(T)){var D=_.getMouseInfo(A);T(D,A)}}),Et(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&qN.emit(HN,_.props.syncId,A,_.eventEmitterSymbol)}),Et(_,"applySyncEvent",function(A){var T=_.props,D=T.layout,q=T.syncMethod,K=_.state.updateId,$=A.dataStartIndex,H=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Re({dataStartIndex:$,dataEndIndex:H},x({props:_.props,dataStartIndex:$,dataEndIndex:H,updateId:K},_.state)));else if(A.activeTooltipIndex!==void 0){var W=A.chartX,B=A.chartY,M=A.activeTooltipIndex,z=_.state,P=z.offset,C=z.tooltipTicks;if(!P)return;if(typeof q=="function")M=q(C,A);else if(q==="value"){M=-1;for(var L=0;L<C.length;L++)if(C[L].value===A.activeLabel){M=L;break}}var U=Re(Re({},P),{},{x:P.left,y:P.top}),R=Math.min(W,U.x+U.width),I=Math.min(B,U.y+U.height),V=C[M]&&C[M].value,re=yE(_.state,_.props.data,M),ce=C[M]?{x:D==="horizontal"?C[M].coordinate:R,y:D==="horizontal"?I:C[M].coordinate}:dW;_.setState(Re(Re({},A),{},{activeLabel:V,activeCoordinate:ce,activePayload:re,activeTooltipIndex:M}))}else _.setState(A)}),Et(_,"renderCursor",function(A){var T,D=_.state,q=D.isTooltipActive,K=D.activeCoordinate,$=D.activePayload,H=D.offset,W=D.activeTooltipIndex,B=D.tooltipAxisBandSize,M=_.getTooltipEventType(),z=(T=A.props.active)!==null&&T!==void 0?T:q,P=_.props.layout,C=A.key||"_recharts-cursor";return Z.createElement(R0e,{key:C,activeCoordinate:K,activePayload:$,activeTooltipIndex:W,chartName:r,element:A,isActive:z,layout:P,offset:H,tooltipAxisBandSize:B,tooltipEventType:M})}),Et(_,"renderPolarAxis",function(A,T,D){var q=yi(A,"type.axisType"),K=yi(_.state,"".concat(q,"Map")),$=A.type.defaultProps,H=$!==void 0?Re(Re({},$),A.props):A.props,W=K&&K[H["".concat(q,"Id")]];return w.cloneElement(A,Re(Re({},W),{},{className:qt(q,W.className),key:A.key||"".concat(T,"-").concat(D),ticks:Ka(W,!0)}))}),Et(_,"renderPolarGrid",function(A){var T=A.props,D=T.radialLines,q=T.polarAngles,K=T.polarRadius,$=_.state,H=$.radiusAxisMap,W=$.angleAxisMap,B=Bo(H),M=Bo(W),z=M.cx,P=M.cy,C=M.innerRadius,L=M.outerRadius;return w.cloneElement(A,{polarAngles:Array.isArray(q)?q:Ka(M,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(K)?K:Ka(B,!0).map(function(U){return U.coordinate}),cx:z,cy:P,innerRadius:C,outerRadius:L,key:A.key||"polar-grid",radialLines:D})}),Et(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,T=_.props,D=T.children,q=T.width,K=T.height,$=_.props.margin||{},H=q-($.left||0)-($.right||0),W=n8({children:D,formattedGraphicalItems:A,legendWidth:H,legendContent:d});if(!W)return null;var B=W.item,M=zI(W,M0e);return w.cloneElement(B,Re(Re({},M),{},{chartWidth:q,chartHeight:K,margin:$,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Et(_,"renderTooltip",function(){var A,T=_.props,D=T.children,q=T.accessibilityLayer,K=Ws(D,En);if(!K)return null;var $=_.state,H=$.isTooltipActive,W=$.activeCoordinate,B=$.activePayload,M=$.activeLabel,z=$.offset,P=(A=K.props.active)!==null&&A!==void 0?A:H;return w.cloneElement(K,{viewBox:Re(Re({},z),{},{x:z.left,y:z.top}),active:P,label:M,payload:P?B:[],coordinate:W,accessibilityLayer:q})}),Et(_,"renderBrush",function(A){var T=_.props,D=T.margin,q=T.data,K=_.state,$=K.offset,H=K.dataStartIndex,W=K.dataEndIndex,B=K.updateId;return w.cloneElement(A,{key:A.key||"_recharts-brush",onChange:fg(_.handleBrushChange,A.props.onChange),data:q,x:Ke(A.props.x)?A.props.x:$.left,y:Ke(A.props.y)?A.props.y:$.top+$.height+$.brushBottom-(D.bottom||0),width:Ke(A.props.width)?A.props.width:$.width,startIndex:H,endIndex:W,updateId:"brush-".concat(B)})}),Et(_,"renderReferenceElement",function(A,T,D){if(!A)return null;var q=_,K=q.clipPathId,$=_.state,H=$.xAxisMap,W=$.yAxisMap,B=$.offset,M=A.type.defaultProps||{},z=A.props,P=z.xAxisId,C=P===void 0?M.xAxisId:P,L=z.yAxisId,U=L===void 0?M.yAxisId:L;return w.cloneElement(A,{key:A.key||"".concat(T,"-").concat(D),xAxis:H[C],yAxis:W[U],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:K})}),Et(_,"renderActivePoints",function(A){var T=A.item,D=A.activePoint,q=A.basePoint,K=A.childIndex,$=A.isRange,H=[],W=T.props.key,B=T.item.type.defaultProps!==void 0?Re(Re({},T.item.type.defaultProps),T.item.props):T.item.props,M=B.activeDot,z=B.dataKey,P=Re(Re({index:K,dataKey:z,cx:D.x,cy:D.y,r:4,fill:GC(T.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},Ft(M,!1)),ux(M));return H.push(N.renderActiveDot(M,P,"".concat(W,"-activePoint-").concat(K))),q?H.push(N.renderActiveDot(M,Re(Re({},P),{},{cx:q.x,cy:q.y}),"".concat(W,"-basePoint-").concat(K))):$&&H.push(null),H}),Et(_,"renderGraphicChild",function(A,T,D){var q=_.filterFormatItem(A,T,D);if(!q)return null;var K=_.getTooltipEventType(),$=_.state,H=$.isTooltipActive,W=$.tooltipAxis,B=$.activeTooltipIndex,M=$.activeLabel,z=_.props.children,P=Ws(z,En),C=q.props,L=C.points,U=C.isRange,R=C.baseLine,I=q.item.type.defaultProps!==void 0?Re(Re({},q.item.type.defaultProps),q.item.props):q.item.props,V=I.activeDot,re=I.hide,ce=I.activeBar,me=I.activeShape,ae=!!(!re&&H&&P&&(V||ce||me)),ue={};K!=="axis"&&P&&P.props.trigger==="click"?ue={onClick:fg(_.handleItemMouseEnter,A.props.onClick)}:K!=="axis"&&(ue={onMouseLeave:fg(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:fg(_.handleItemMouseEnter,A.props.onMouseEnter)});var pe=w.cloneElement(A,Re(Re({},q.props),ue));function ee(J){return typeof W.dataKey=="function"?W.dataKey(J.payload):null}if(ae)if(B>=0){var xe,X;if(W.dataKey&&!W.allowDuplicatedCategory){var fe=typeof W.dataKey=="function"?ee:"payload.".concat(W.dataKey.toString());xe=cx(L,fe,M),X=U&&R&&cx(R,fe,M)}else xe=L?.[B],X=U&&R&&R[B];if(me||ce){var de=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[w.cloneElement(A,Re(Re(Re({},q.props),ue),{},{activeIndex:de})),null,null]}if(!Bt(xe))return[pe].concat(bd(_.renderActivePoints({item:q,activePoint:xe,basePoint:X,childIndex:B,isRange:U})))}else{var te,he=(te=_.getItemByXY(_.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:pe},we=he.graphicalItem,ze=we.item,se=ze===void 0?A:ze,ne=we.childIndex,ve=Re(Re(Re({},q.props),ue),{},{activeIndex:ne});return[w.cloneElement(se,ve),null,null]}return U?[pe,null,null]:[pe,null]}),Et(_,"renderCustomized",function(A,T,D){return w.cloneElement(A,Re(Re({key:"recharts-customized-".concat(D)},_.props),_.state))}),Et(_,"renderMap",{CartesianGrid:{handler:vg,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:vg},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:vg},YAxis:{handler:vg},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((E=j.id)!==null&&E!==void 0?E:Ld("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=r7(_.triggeredAfterMouseMove,(k=j.throttleDelay)!==null&&k!==void 0?k:1e3/60),_.state={},_}return H0e(N,v),W0e(N,[{key:"componentDidMount",value:function(){var E,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,k=E.children,_=E.data,A=E.height,T=E.layout,D=Ws(k,En);if(D){var q=D.props.defaultIndex;if(!(typeof q!="number"||q<0||q>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[q]&&this.state.tooltipTicks[q].value,$=yE(this.state,_,q,K),H=this.state.tooltipTicks[q].coordinate,W=(this.state.offset.top+A)/2,B=T==="horizontal",M=B?{x:H,y:W}:{y:H,x:W},z=this.state.formattedGraphicalItems.find(function(C){var L=C.item;return L.type.name==="Scatter"});z&&(M=Re(Re({},M),z.props.points[q].tooltipPosition),$=z.props.points[q].tooltipPayload);var P={activeTooltipIndex:q,isTooltipActive:!0,activeLabel:K,activePayload:$,activeCoordinate:M};this.setState(P),this.renderCursor(D),this.accessibilityManager.setIndex(q)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(E){s2([Ws(E.children,En)],[Ws(this.props.children,En)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Ws(this.props.children,En);if(E&&typeof E.props.shared=="boolean"){var k=E.props.shared?"axis":"item";return l.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var k=this.container,_=k.getBoundingClientRect(),A=Koe(_),T={chartX:Math.round(E.pageX-A.left),chartY:Math.round(E.pageY-A.top)},D=_.width/k.offsetWidth||1,q=this.inRange(T.chartX,T.chartY,D);if(!q)return null;var K=this.state,$=K.xAxisMap,H=K.yAxisMap,W=this.getTooltipEventType(),B=UI(this.state,this.props.data,this.props.layout,q);if(W!=="axis"&&$&&H){var M=Bo($).scale,z=Bo(H).scale,P=M&&M.invert?M.invert(T.chartX):null,C=z&&z.invert?z.invert(T.chartY):null;return Re(Re({},T),{},{xValue:P,yValue:C},B)}return B?Re(Re({},T),B):null}},{key:"inRange",value:function(E,k){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=E/_,D=k/_;if(A==="horizontal"||A==="vertical"){var q=this.state.offset,K=T>=q.left&&T<=q.left+q.width&&D>=q.top&&D<=q.top+q.height;return K?{x:T,y:D}:null}var $=this.state,H=$.angleAxisMap,W=$.radiusAxisMap;if(H&&W){var B=Bo(H);return tM({x:T,y:D},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,k=this.getTooltipEventType(),_=Ws(E,En),A={};_&&k==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=ux(this.props,this.handleOuterEvent);return Re(Re({},T),A)}},{key:"addListener",value:function(){qN.on(HN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qN.removeListener(HN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,k,_){for(var A=this.state.formattedGraphicalItems,T=0,D=A.length;T<D;T++){var q=A[T];if(q.item===E||q.props.key===E.key||k===Ya(q.item.type)&&_===q.childIndex)return q}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,k=this.state.offset,_=k.left,A=k.top,T=k.height,D=k.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:E},Z.createElement("rect",{x:_,y:A,height:T,width:D})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(k,_){var A=BI(_,2),T=A[0],D=A[1];return Re(Re({},k),{},Et({},T,D.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(k,_){var A=BI(_,2),T=A[0],D=A[1];return Re(Re({},k),{},Et({},T,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(E){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[E])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(E){var k=this.state,_=k.formattedGraphicalItems,A=k.activeItem;if(_&&_.length)for(var T=0,D=_.length;T<D;T++){var q=_[T],K=q.props,$=q.item,H=$.type.defaultProps!==void 0?Re(Re({},$.type.defaultProps),$.props):$.props,W=Ya($.type);if(W==="Bar"){var B=(K.data||[]).find(function(C){return dpe(E,C)});if(B)return{graphicalItem:q,payload:B}}else if(W==="RadialBar"){var M=(K.data||[]).find(function(C){return tM(E,C)});if(M)return{graphicalItem:q,payload:M}}else if(x0(q,A)||v0(q,A)||Yf(q,A)){var z=tge({graphicalItem:q,activeTooltipItem:A,itemData:H.data}),P=H.activeIndex===void 0?z:H.activeIndex;return{graphicalItem:Re(Re({},q),{},{childIndex:P}),payload:Yf(q,A)?H.data[z]:q.props.data[z]}}}return null}},{key:"render",value:function(){var E=this;if(!f4(this))return null;var k=this.props,_=k.children,A=k.className,T=k.width,D=k.height,q=k.style,K=k.compact,$=k.title,H=k.desc,W=zI(k,I0e),B=Ft(W,!1);if(K)return Z.createElement(yI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(a2,Eu({},B,{width:T,height:D,title:$,desc:H}),this.renderClipPath(),p4(_,this.renderMap)));if(this.props.accessibilityLayer){var M,z;B.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,B.role=(z=this.props.role)!==null&&z!==void 0?z:"application",B.onKeyDown=function(C){E.accessibilityManager.keyboardEvent(C)},B.onFocus=function(){E.accessibilityManager.focus()}}var P=this.parseEventsOfWrapper();return Z.createElement(yI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",Eu({className:qt("recharts-wrapper",A),style:Re({position:"relative",cursor:"default",width:T,height:D},q)},P,{ref:function(L){E.container=L}}),Z.createElement(a2,Eu({},B,{width:T,height:D,title:$,desc:H,style:J0e}),this.renderClipPath(),p4(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);Et(b,"displayName",r),Et(b,"defaultProps",Re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Et(b,"getDerivedStateFromProps",function(v,N){var j=v.dataKey,E=v.data,k=v.children,_=v.width,A=v.height,T=v.layout,D=v.stackOffset,q=v.margin,K=N.dataStartIndex,$=N.dataEndIndex;if(N.updateId===void 0){var H=VI(v);return Re(Re(Re({},H),{},{updateId:0},x(Re(Re({props:v},H),{},{updateId:0}),N)),{},{prevDataKey:j,prevData:E,prevWidth:_,prevHeight:A,prevLayout:T,prevStackOffset:D,prevMargin:q,prevChildren:k})}if(j!==N.prevDataKey||E!==N.prevData||_!==N.prevWidth||A!==N.prevHeight||T!==N.prevLayout||D!==N.prevStackOffset||!Fu(q,N.prevMargin)){var W=VI(v),B={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},M=Re(Re({},UI(N,E,T)),{},{updateId:N.updateId+1}),z=Re(Re(Re({},W),B),M);return Re(Re(Re({},z),x(Re({props:v},z),N)),{},{prevDataKey:j,prevData:E,prevWidth:_,prevHeight:A,prevLayout:T,prevStackOffset:D,prevMargin:q,prevChildren:k})}if(!s2(k,N.prevChildren)){var P,C,L,U,R=Ws(k,cd),I=R&&(P=(C=R.props)===null||C===void 0?void 0:C.startIndex)!==null&&P!==void 0?P:K,V=R&&(L=(U=R.props)===null||U===void 0?void 0:U.endIndex)!==null&&L!==void 0?L:$,re=I!==K||V!==$,ce=!Bt(E),me=ce&&!re?N.updateId:N.updateId+1;return Re(Re({updateId:me},x(Re(Re({props:v},N),{},{updateId:me,dataStartIndex:I,dataEndIndex:V}),N)),{},{prevChildren:k,dataStartIndex:I,dataEndIndex:V})}return null}),Et(b,"renderActiveDot",function(v,N,j){var E;return w.isValidElement(v)?E=w.cloneElement(v,N):It(v)?E=v(N):E=Z.createElement(g0,N),Z.createElement(xr,{className:"recharts-active-dot",key:j},E)});var y=w.forwardRef(function(N,j){return Z.createElement(b,Eu({},N,{ref:j}))});return y.displayName=b.displayName,y},lye=ak({chartName:"LineChart",GraphicalChild:Rm,axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:XC}),ov=ak({chartName:"BarChart",GraphicalChild:ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:XC}),ok=ak({chartName:"AreaChart",GraphicalChild:_a,axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:XC});const lk=w.createContext({});function ck(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const uk=typeof window<"u",fW=uk?w.useLayoutEffect:w.useEffect,E0=w.createContext(null);function dk(e,t){e.indexOf(t)===-1&&e.push(t)}function hk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const oo=(e,t,r)=>r>t?t:r<e?e:r;let fk=()=>{};const lo={},mW=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function pW(e){return typeof e=="object"&&e!==null}const gW=e=>/^0[^.\s]+$/u.test(e);function mk(e){let t;return()=>(t===void 0&&(t=e()),t)}const wi=e=>e,cye=(e,t)=>r=>t(e(r)),Mm=(...e)=>e.reduce(cye),rm=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class pk{constructor(){this.subscriptions=[]}add(t){return dk(this.subscriptions,t),()=>hk(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xa=e=>e*1e3,gi=e=>e/1e3;function xW(e,t){return t?e*(1e3/t):0}const vW=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,uye=1e-7,dye=12;function hye(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=vW(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>uye&&++l<dye);return o}function Im(e,t,r,n){if(e===t&&r===n)return wi;const i=a=>hye(a,0,1,e,r);return a=>a===0||a===1?a:vW(i(a),t,n)}const yW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bW=e=>t=>1-e(1-t),wW=Im(.33,1.53,.69,.99),gk=bW(wW),jW=yW(gk),NW=e=>(e*=2)<1?.5*gk(e):.5*(2-Math.pow(2,-10*(e-1))),xk=e=>1-Math.sin(Math.acos(e)),SW=bW(xk),EW=yW(xk),fye=Im(.42,0,1,1),mye=Im(0,0,.58,1),_W=Im(.42,0,.58,1),pye=e=>Array.isArray(e)&&typeof e[0]!="number",CW=e=>Array.isArray(e)&&typeof e[0]=="number",gye={linear:wi,easeIn:fye,easeInOut:_W,easeOut:mye,circIn:xk,circInOut:EW,circOut:SW,backIn:gk,backInOut:jW,backOut:wW,anticipate:NW},xye=e=>typeof e=="string",HI=e=>{if(CW(e)){fk(e.length===4);const[t,r,n,i]=e;return Im(t,r,n,i)}else if(xye(e))return gye[e];return e},yg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vye(e,t){let r=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),e()),h(l)}const d={schedule:(h,m=!1,p=!1)=>{const b=p&&i?r:n;return m&&o.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,a&&(a=!1,d.process(h))}};return d}const yye=40;function kW(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=yg.reduce((E,k)=>(E[k]=vye(a),E),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:p,render:x,postRender:b}=o,y=()=>{const E=lo.useManualTiming?i.timestamp:performance.now();r=!1,lo.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,yye),1)),i.timestamp=E,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),h.process(i),m.process(i),p.process(i),x.process(i),b.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(y))},v=()=>{r=!0,n=!0,i.isProcessing||e(y)};return{schedule:yg.reduce((E,k)=>{const _=o[k];return E[k]=(A,T=!1,D=!1)=>(r||v(),_.schedule(A,T,D)),E},{}),cancel:E=>{for(let k=0;k<yg.length;k++)o[yg[k]].cancel(E)},state:i,steps:o}}const{schedule:Pr,cancel:il,state:Nn,steps:GN}=kW(typeof requestAnimationFrame<"u"?requestAnimationFrame:wi,!0);let Ug;function bye(){Ug=void 0}const Es={now:()=>(Ug===void 0&&Es.set(Nn.isProcessing||lo.useManualTiming?Nn.timestamp:performance.now()),Ug),set:e=>{Ug=e,queueMicrotask(bye)}},AW=e=>t=>typeof t=="string"&&t.startsWith(e),vk=AW("--"),wye=AW("var(--"),yk=e=>wye(e)?jye.test(e.split("/*")[0].trim()):!1,jye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nm={...qd,transform:e=>oo(0,1,e)},bg={...qd,default:1},lf=e=>Math.round(e*1e5)/1e5,bk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Nye(e){return e==null}const Sye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wk=(e,t)=>r=>!!(typeof r=="string"&&Sye.test(r)&&r.startsWith(e)||t&&!Nye(r)&&Object.prototype.hasOwnProperty.call(r,t)),PW=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(bk);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Eye=e=>oo(0,255,e),YN={...qd,transform:e=>Math.round(Eye(e))},tc={test:wk("rgb","red"),parse:PW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+YN.transform(e)+", "+YN.transform(t)+", "+YN.transform(r)+", "+lf(nm.transform(n))+")"};function _ye(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const bE={test:wk("#"),parse:_ye,transform:tc.transform},Dm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$o=Dm("deg"),va=Dm("%"),Ct=Dm("px"),Cye=Dm("vh"),kye=Dm("vw"),KI={...va,parse:e=>va.parse(e)/100,transform:e=>va.transform(e*100)},_u={test:wk("hsl","hue"),parse:PW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+va.transform(lf(t))+", "+va.transform(lf(r))+", "+lf(nm.transform(n))+")"},Gr={test:e=>tc.test(e)||bE.test(e)||_u.test(e),parse:e=>tc.test(e)?tc.parse(e):_u.test(e)?_u.parse(e):bE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?tc.transform(e):_u.transform(e),getAnimatableNone:e=>{const t=Gr.parse(e);return t.alpha=0,Gr.transform(t)}},Aye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Pye(e){return isNaN(e)&&typeof e=="string"&&(e.match(bk)?.length||0)+(e.match(Aye)?.length||0)>0}const OW="number",TW="color",Oye="var",Tye="var(",GI="${}",Rye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sm(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Rye,c=>(Gr.test(c)?(n.color.push(a),i.push(TW),r.push(Gr.parse(c))):c.startsWith(Tye)?(n.var.push(a),i.push(Oye),r.push(c)):(n.number.push(a),i.push(OW),r.push(parseFloat(c))),++a,GI)).split(GI);return{values:r,split:l,indexes:n,types:i}}function RW(e){return sm(e).values}function MW(e){const{split:t,types:r}=sm(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=r[o];l===OW?a+=lf(i[o]):l===TW?a+=Gr.transform(i[o]):a+=i[o]}return a}}const Mye=e=>typeof e=="number"?0:Gr.test(e)?Gr.getAnimatableNone(e):e;function Iye(e){const t=RW(e);return MW(e)(t.map(Mye))}const al={test:Pye,parse:RW,createTransformer:MW,getAnimatableNone:Iye};function XN(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Dye({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=XN(c,l,e+1/3),a=XN(c,l,e),o=XN(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function lv(e,t){return r=>r>0?t:e}const Ir=(e,t,r)=>e+(t-e)*r,QN=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Fye=[bE,tc,_u],$ye=e=>Fye.find(t=>t.test(e));function YI(e){const t=$ye(e);if(!t)return!1;let r=t.parse(e);return t===_u&&(r=Dye(r)),r}const XI=(e,t)=>{const r=YI(e),n=YI(t);if(!r||!n)return lv(e,t);const i={...r};return a=>(i.red=QN(r.red,n.red,a),i.green=QN(r.green,n.green,a),i.blue=QN(r.blue,n.blue,a),i.alpha=Ir(r.alpha,n.alpha,a),tc.transform(i))},wE=new Set(["none","hidden"]);function Lye(e,t){return wE.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Bye(e,t){return r=>Ir(e,t,r)}function jk(e){return typeof e=="number"?Bye:typeof e=="string"?yk(e)?lv:Gr.test(e)?XI:Uye:Array.isArray(e)?IW:typeof e=="object"?Gr.test(e)?XI:zye:lv}function IW(e,t){const r=[...e],n=r.length,i=e.map((a,o)=>jk(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function zye(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=jk(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function Wye(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][n[a]],l=e.values[o]??0;r[i]=l,n[a]++}return r}const Uye=(e,t)=>{const r=al.createTransformer(t),n=sm(e),i=sm(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?wE.has(e)&&!i.values.length||wE.has(t)&&!n.values.length?Lye(e,t):Mm(IW(Wye(n,i),i.values),r):lv(e,t)};function DW(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ir(e,t,r):jk(e)(e,t)}const Vye=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Pr.update(t,r),stop:()=>il(t),now:()=>Nn.isProcessing?Nn.timestamp:Es.now()}},FW=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},cv=2e4;function Nk(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<cv;)t+=r,n=e.next(t);return t>=cv?1/0:t}function qye(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(Nk(n),cv);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:gi(i)}}const Hye=5;function $W(e,t,r){const n=Math.max(t-Hye,0);return xW(r-e(n),t-n)}const Lr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},JN=.001;function Kye({duration:e=Lr.duration,bounce:t=Lr.bounce,velocity:r=Lr.velocity,mass:n=Lr.mass}){let i,a,o=1-t;o=oo(Lr.minDamping,Lr.maxDamping,o),e=oo(Lr.minDuration,Lr.maxDuration,gi(e)),o<1?(i=d=>{const h=d*o,m=h*e,p=h-r,x=jE(d,o),b=Math.exp(-m);return JN-p/x*b},a=d=>{const m=d*o*e,p=m*r+r,x=Math.pow(o,2)*Math.pow(d,2)*e,b=Math.exp(-m),y=jE(Math.pow(d,2),o);return(-i(d)+JN>0?-1:1)*((p-x)*b)/y}):(i=d=>{const h=Math.exp(-d*e),m=(d-r)*e+1;return-JN+h*m},a=d=>{const h=Math.exp(-d*e),m=(r-d)*(e*e);return h*m});const l=5/e,c=Yye(i,a,l);if(e=xa(e),isNaN(c))return{stiffness:Lr.stiffness,damping:Lr.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const Gye=12;function Yye(e,t,r){let n=r;for(let i=1;i<Gye;i++)n=n-e(n)/t(n);return n}function jE(e,t){return e*Math.sqrt(1-t*t)}const Xye=["duration","bounce"],Qye=["stiffness","damping","mass"];function QI(e,t){return t.some(r=>e[r]!==void 0)}function Jye(e){let t={velocity:Lr.velocity,stiffness:Lr.stiffness,damping:Lr.damping,mass:Lr.mass,isResolvedFromDuration:!1,...e};if(!QI(e,Qye)&&QI(e,Xye))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*oo(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Lr.mass,stiffness:i,damping:a}}else{const r=Kye(e);t={...t,...r,mass:Lr.mass},t.isResolvedFromDuration=!0}return t}function uv(e=Lr.visualDuration,t=Lr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=Jye({...r,velocity:-gi(r.velocity||0)}),b=p||0,y=d/(2*Math.sqrt(c*h)),v=o-a,N=gi(Math.sqrt(c/h)),j=Math.abs(v)<5;n||(n=j?Lr.restSpeed.granular:Lr.restSpeed.default),i||(i=j?Lr.restDelta.granular:Lr.restDelta.default);let E;if(y<1){const _=jE(N,y);E=A=>{const T=Math.exp(-y*N*A);return o-T*((b+y*N*v)/_*Math.sin(_*A)+v*Math.cos(_*A))}}else if(y===1)E=_=>o-Math.exp(-N*_)*(v+(b+N*v)*_);else{const _=N*Math.sqrt(y*y-1);E=A=>{const T=Math.exp(-y*N*A),D=Math.min(_*A,300);return o-T*((b+y*N*v)*Math.sinh(D)+_*v*Math.cosh(D))/_}}const k={calculatedDuration:x&&m||null,next:_=>{const A=E(_);if(x)l.done=_>=m;else{let T=_===0?b:0;y<1&&(T=_===0?xa(b):$W(E,_,A));const D=Math.abs(T)<=n,q=Math.abs(o-A)<=i;l.done=D&&q}return l.value=l.done?o:A,l},toString:()=>{const _=Math.min(Nk(k),cv),A=FW(T=>k.next(_*T).value,_,30);return _+"ms "+A},toTransition:()=>{}};return k}uv.applyToOptions=e=>{const t=qye(e,100,uv);return e.ease=t.ease,e.duration=xa(t.duration),e.type="keyframes",e};function NE({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=e[0],p={done:!1,value:m},x=D=>l!==void 0&&D<l||c!==void 0&&D>c,b=D=>l===void 0?c:c===void 0||Math.abs(l-D)<Math.abs(c-D)?l:c;let y=r*t;const v=m+y,N=o===void 0?v:o(v);N!==v&&(y=N-m);const j=D=>-y*Math.exp(-D/n),E=D=>N+j(D),k=D=>{const q=j(D),K=E(D);p.done=Math.abs(q)<=d,p.value=p.done?N:K};let _,A;const T=D=>{x(p.value)&&(_=D,A=uv({keyframes:[p.value,b(p.value)],velocity:$W(E,D,p.value),damping:i,stiffness:a,restDelta:d,restSpeed:h}))};return T(0),{calculatedDuration:null,next:D=>{let q=!1;return!A&&_===void 0&&(q=!0,k(D),T(D)),_!==void 0&&D>=_?A.next(D-_):(!q&&k(D),p)}}}function Zye(e,t,r){const n=[],i=r||lo.mix||DW,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||wi:t;l=Mm(c,l)}n.push(l)}return n}function ebe(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(fk(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Zye(t,n,i),c=l.length,d=h=>{if(o&&h<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const p=rm(e[m],e[m+1],h);return l[m](p)};return r?h=>d(oo(e[0],e[a-1],h)):d}function tbe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=rm(0,t,n);e.push(Ir(r,1,i))}}function rbe(e){const t=[0];return tbe(t,e.length-1),t}function nbe(e,t){return e.map(r=>r*t)}function sbe(e,t){return e.map(()=>t||_W).splice(0,e.length-1)}function cf({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=pye(n)?n.map(HI):HI(n),a={done:!1,value:t[0]},o=nbe(r&&r.length===t.length?r:rbe(t),e),l=ebe(o,t,{ease:Array.isArray(i)?i:sbe(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const ibe=e=>e!==null;function Sk(e,{repeat:t,repeatType:r="loop"},n,i=1){const a=e.filter(ibe),l=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const abe={decay:NE,inertia:NE,tween:cf,keyframes:cf,spring:uv};function LW(e){typeof e.type=="string"&&(e.type=abe[e.type])}class Ek{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const obe=e=>e/100;class _k extends Ek{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Es.now()&&this.tick(Es.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;LW(t);const{type:r=cf,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const c=r||cf;c!==cf&&typeof l[0]!="number"&&(this.mixKeyframes=Mm(obe,DW(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Nk(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:p,repeatDelay:x,type:b,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?N<0:N>i;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,k=n;if(m){const D=Math.min(this.currentTime,i)/l;let q=Math.floor(D),K=D%1;!K&&D>=1&&(K=1),K===1&&q--,q=Math.min(q,m+1),!!(q%2)&&(p==="reverse"?(K=1-K,x&&(K-=x/l)):p==="mirror"&&(k=o)),E=oo(0,1,K)*l}const _=j?{done:!1,value:h[0]}:k.next(E);a&&(_.value=a(_.value));let{done:A}=_;!j&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return T&&b!==NE&&(_.value=Sk(h,this.options,v,this.speed)),y&&y(_.value),T&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return gi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+gi(t)}get time(){return gi(this.currentTime)}set time(t){t=xa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Es.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=gi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Vye,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function lbe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const rc=e=>e*180/Math.PI,SE=e=>{const t=rc(Math.atan2(e[1],e[0]));return EE(t)},cbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:SE,rotateZ:SE,skewX:e=>rc(Math.atan(e[1])),skewY:e=>rc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},EE=e=>(e=e%360,e<0&&(e+=360),e),JI=SE,ZI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ube={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ZI,scaleY:eD,scale:e=>(ZI(e)+eD(e))/2,rotateX:e=>EE(rc(Math.atan2(e[6],e[5]))),rotateY:e=>EE(rc(Math.atan2(-e[2],e[0]))),rotateZ:JI,rotate:JI,skewX:e=>rc(Math.atan(e[4])),skewY:e=>rc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _E(e){return e.includes("scale")?1:0}function CE(e,t){if(!e||e==="none")return _E(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=ube,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=cbe,i=l}if(!i)return _E(t);const a=n[t],o=i[1].split(",").map(hbe);return typeof a=="function"?a(o):o[a]}const dbe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return CE(r,t)};function hbe(e){return parseFloat(e.trim())}const Hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kd=new Set(Hd),tD=e=>e===qd||e===Ct,fbe=new Set(["x","y","z"]),mbe=Hd.filter(e=>!fbe.has(e));function pbe(e){const t=[];return mbe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const cc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>CE(t,"x"),y:(e,{transform:t})=>CE(t,"y")};cc.translateX=cc.x;cc.translateY=cc.y;const uc=new Set;let kE=!1,AE=!1,PE=!1;function BW(){if(AE){const e=Array.from(uc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=pbe(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}AE=!1,kE=!1,uc.forEach(e=>e.complete(PE)),uc.clear()}function zW(){uc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AE=!0)})}function gbe(){PE=!0,zW(),BW(),PE=!1}class Ck{constructor(t,r,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(uc.add(this),kE||(kE=!0,Pr.read(zW),Pr.resolveKeyframes(BW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const a=i?.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}lbe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uc.delete(this)}cancel(){this.state==="scheduled"&&(uc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xbe=e=>e.startsWith("--");function vbe(e,t,r){xbe(t)?e.style.setProperty(t,r):e.style[t]=r}const ybe=mk(()=>window.ScrollTimeline!==void 0),bbe={};function wbe(e,t){const r=mk(e);return()=>bbe[t]??r()}const WW=wbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yh=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,rD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yh([0,.65,.55,1]),circOut:Yh([.55,0,1,.45]),backIn:Yh([.31,.01,.66,-.59]),backOut:Yh([.33,1.53,.69,.99])};function UW(e,t){if(e)return typeof e=="function"?WW()?FW(e,t):"ease-out":CW(e)?Yh(e):Array.isArray(e)?e.map(r=>UW(r,t)||rD.easeOut):rD[e]}function jbe(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[t]:r};c&&(h.offset=c);const m=UW(l,i);Array.isArray(m)&&(h.easing=m);const p={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),e.animate(h,p)}function VW(e){return typeof e=="function"&&"applyToOptions"in e}function Nbe({type:e,...t}){return VW(e)&&WW()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Sbe extends Ek{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,fk(typeof t.type!="string");const d=Nbe(t);this.animation=jbe(r,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const h=Sk(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):vbe(r,n,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return gi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+gi(t)}get time(){return gi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ybe()?(this.animation.timeline=t,wi):r(this)}}const qW={anticipate:NW,backInOut:jW,circInOut:EW};function Ebe(e){return e in qW}function _be(e){typeof e.ease=="string"&&Ebe(e.ease)&&(e.ease=qW[e.ease])}const nD=10;class Cbe extends Sbe{constructor(t){_be(t),LW(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new _k({...o,autoplay:!1}),c=xa(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-nD).value,l.sample(c).value,nD),l.stop()}}const sD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(al.test(e)||e==="0")&&!e.startsWith("url("));function kbe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Abe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=sD(i,t),l=sD(a,t);return!o||!l?!1:kbe(e)||(r==="spring"||VW(r))&&n}function OE(e){e.duration=0,e.type="keyframes"}const Pbe=new Set(["opacity","clipPath","filter","transform"]),Obe=mk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Tbe(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return Obe()&&r&&Pbe.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const Rbe=40;class Mbe extends Ek{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Es.now();const p={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,name:c,motionValue:d,element:h,...m},x=h?.KeyframeResolver||Ck;this.keyframeResolver=new x(l,(b,y,v)=>this.onKeyframesResolved(b,y,p,!v),c,d,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=n;this.resolvedAt=Es.now(),Abe(t,a,o,l)||((lo.instantAnimations||!c)&&h?.(Sk(t,n,r)),t[0]=t[t.length-1],OE(n),n.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Rbe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},x=!d&&Tbe(p)?new Cbe({...p,element:p.motionValue.owner.current}):new _k(p);x.finished.then(()=>this.notifyFinished()).catch(wi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gbe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Ibe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dbe(e){const t=Ibe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function HW(e,t,r=1){const[n,i]=Dbe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return mW(o)?parseFloat(o):o}return yk(i)?HW(i,t,r+1):i}function kk(e,t){return e?.[t]??e?.default??e}const KW=new Set(["width","height","top","left","right","bottom",...Hd]),Fbe={test:e=>e==="auto",parse:e=>e},GW=e=>t=>t.test(e),YW=[qd,Ct,va,$o,kye,Cye,Fbe],iD=e=>YW.find(GW(e));function $be(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gW(e):!0}const Lbe=new Set(["brightness","contrast","saturate","opacity"]);function Bbe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(bk)||[];if(!n)return e;const i=r.replace(n,"");let a=Lbe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const zbe=/\b([a-z-]*)\(.*?\)/gu,TE={...al,getAnimatableNone:e=>{const t=e.match(zbe);return t?t.map(Bbe).join(" "):e}},aD={...qd,transform:Math.round},Wbe={rotate:$o,rotateX:$o,rotateY:$o,rotateZ:$o,scale:bg,scaleX:bg,scaleY:bg,scaleZ:bg,skew:$o,skewX:$o,skewY:$o,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:nm,originX:KI,originY:KI,originZ:Ct},Ak={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...Wbe,zIndex:aD,fillOpacity:nm,strokeOpacity:nm,numOctaves:aD},Ube={...Ak,color:Gr,backgroundColor:Gr,outlineColor:Gr,fill:Gr,stroke:Gr,borderColor:Gr,borderTopColor:Gr,borderRightColor:Gr,borderBottomColor:Gr,borderLeftColor:Gr,filter:TE,WebkitFilter:TE},XW=e=>Ube[e];function QW(e,t){let r=XW(e);return r!==TE&&(r=al),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Vbe=new Set(["auto","none","0"]);function qbe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Vbe.has(a)&&sm(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=QW(r,i)}class Hbe extends Ck{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),yk(d))){const h=HW(d,r.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!KW.has(n)||t.length!==2)return;const[i,a]=t,o=iD(i),l=iD(a);if(o!==l)if(tD(o)&&tD(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else cc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||$be(t[i]))&&n.push(i);n.length&&qbe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=cc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Kbe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=r?.[e]??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const JW=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ZW(e){return pW(e)&&"offsetHeight"in e}const oD=30,Gbe=e=>!isNaN(parseFloat(e));class Ybe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=Es.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Es.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Gbe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new pk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Pr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,oD);return xW(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wd(e,t){return new Ybe(e,t)}const{schedule:Pk}=kW(queueMicrotask,!1),$i={x:!1,y:!1};function eU(){return $i.x||$i.y}function Xbe(e){return e==="x"||e==="y"?$i[e]?null:($i[e]=!0,()=>{$i[e]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}function tU(e,t){const r=Kbe(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function lD(e){return!(e.pointerType==="touch"||eU())}function Qbe(e,t,r={}){const[n,i,a]=tU(e,r),o=l=>{if(!lD(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const h=m=>{lD(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const rU=(e,t)=>t?e===t?!0:rU(e,t.parentElement):!1,Ok=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Jbe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zbe(e){return Jbe.has(e.tagName)||e.tabIndex!==-1}const Vg=new WeakSet;function cD(e){return t=>{t.key==="Enter"&&e(t)}}function ZN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ewe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=cD(()=>{if(Vg.has(r))return;ZN(r,"down");const i=cD(()=>{ZN(r,"up")}),a=()=>ZN(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function uD(e){return Ok(e)&&!eU()}function twe(e,t,r={}){const[n,i,a]=tU(e,r),o=l=>{const c=l.currentTarget;if(!uD(l))return;Vg.add(c);const d=t(c,l),h=(x,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Vg.has(c)&&Vg.delete(c),uD(x)&&typeof d=="function"&&d(x,{success:b})},m=x=>{h(x,c===window||c===document||r.useGlobalTarget||rU(c,x.target))},p=x=>{h(x,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),ZW(l)&&(l.addEventListener("focus",d=>ewe(d,i)),!Zbe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function nU(e){return pW(e)&&"ownerSVGElement"in e}function rwe(e){return nU(e)&&e.tagName==="svg"}const Vn=e=>!!(e&&e.getVelocity),nwe=[...YW,Gr,al],swe=e=>nwe.find(GW(e)),Tk=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function dD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iwe(...e){return t=>{let r=!1;const n=e.map(i=>{const a=dD(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():dD(e[i],null)}}}}function awe(...e){return w.useCallback(iwe(...e),e)}class owe extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=ZW(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lwe({children:e,isPresent:t,anchorX:r,root:n}){const i=w.useId(),a=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=w.useContext(Tk),c=awe(a,e?.ref);return w.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:p,right:x}=o.current;if(t||!a.current||!d||!h)return;const b=r==="left"?`left: ${p}`:`right: ${x}`;a.current.dataset.motionPopId=i;const y=document.createElement("style");l&&(y.nonce=l);const v=n??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[t]),s.jsx(owe,{isPresent:t,childRef:a,sizeRef:o,children:w.cloneElement(e,{ref:c})})}const cwe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const d=ck(uwe),h=w.useId();let m=!0,p=w.useMemo(()=>(m=!1,{id:h,initial:t,isPresent:r,custom:i,onExitComplete:x=>{d.set(x,!0);for(const b of d.values())if(!b)return;n&&n()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[r,d,n]);return a&&m&&(p={...p}),w.useMemo(()=>{d.forEach((x,b)=>d.set(b,!1))},[r]),w.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(lwe,{isPresent:r,anchorX:l,root:c,children:e})),s.jsx(E0.Provider,{value:p,children:e})};function uwe(){return new Map}function sU(e=!0){const t=w.useContext(E0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=w.useId();w.useEffect(()=>{if(e)return i(a)},[e]);const o=w.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const wg=e=>e.key||"";function hD(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const fD=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=sU(o),m=w.useMemo(()=>hD(e),[e]),p=o&&!d?[]:m.map(wg),x=w.useRef(!0),b=w.useRef(m),y=ck(()=>new Map),[v,N]=w.useState(m),[j,E]=w.useState(m);fW(()=>{x.current=!1,b.current=m;for(let A=0;A<j.length;A++){const T=wg(j[A]);p.includes(T)?y.delete(T):y.get(T)!==!0&&y.set(T,!1)}},[j,p.length,p.join("-")]);const k=[];if(m!==v){let A=[...m];for(let T=0;T<j.length;T++){const D=j[T],q=wg(D);p.includes(q)||(A.splice(T,0,D),k.push(D))}return a==="wait"&&k.length&&(A=k),E(hD(A)),N(m),null}const{forceRender:_}=w.useContext(lk);return s.jsx(s.Fragment,{children:j.map(A=>{const T=wg(A),D=o&&!d?!1:m===j||p.includes(T),q=()=>{if(y.has(T))y.set(T,!0);else return;let K=!0;y.forEach($=>{$||(K=!1)}),K&&(_?.(),E(b.current),o&&h?.(),n&&n())};return s.jsx(cwe,{isPresent:D,initial:!x.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:D?void 0:q,anchorX:l,children:A},T)})})},iU=w.createContext({strict:!1}),mD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jd={};for(const e in mD)jd[e]={isEnabled:t=>mD[e].some(r=>!!t[r])};function dwe(e){for(const t in e)jd[t]={...jd[t],...e[t]}}const hwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hwe.has(e)}let aU=e=>!dv(e);function fwe(e){typeof e=="function"&&(aU=t=>t.startsWith("on")?!dv(t):e(t))}try{fwe(require("@emotion/is-prop-valid").default)}catch{}function mwe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(aU(i)||r===!0&&dv(i)||!t&&!dv(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const _0=w.createContext({});function C0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function im(e){return typeof e=="string"||Array.isArray(e)}const Rk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mk=["initial",...Rk];function k0(e){return C0(e.animate)||Mk.some(t=>im(e[t]))}function oU(e){return!!(k0(e)||e.variants)}function pwe(e,t){if(k0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||im(r)?r:void 0,animate:im(n)?n:void 0}}return e.inherit!==!1?t:{}}function gwe(e){const{initial:t,animate:r}=pwe(e,w.useContext(_0));return w.useMemo(()=>({initial:t,animate:r}),[pD(t),pD(r)])}function pD(e){return Array.isArray(e)?e.join(" "):e}const am={};function xwe(e){for(const t in e)am[t]=e[t],vk(t)&&(am[t].isCSSVariable=!0)}function lU(e,{layout:t,layoutId:r}){return Kd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!am[e]||e==="opacity")}const vwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ywe=Hd.length;function bwe(e,t,r){let n="",i=!0;for(let a=0;a<ywe;a++){const o=Hd[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=JW(l,Ak[o]);if(!c){i=!1;const h=vwe[o]||o;n+=`${h}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Ik(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Kd.has(c)){o=!0;continue}else if(vk(c)){i[c]=d;continue}else{const h=JW(d,Ak[c]);c.startsWith("origin")?(l=!0,a[c]=h):n[c]=h}}if(t.transform||(o||r?n.transform=bwe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=a;n.transformOrigin=`${c} ${d} ${h}`}}const Dk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cU(e,t,r){for(const n in t)!Vn(t[n])&&!lU(n,r)&&(e[n]=t[n])}function wwe({transformTemplate:e},t){return w.useMemo(()=>{const r=Dk();return Ik(r,t,e),Object.assign({},r.vars,r.style)},[t])}function jwe(e,t){const r=e.style||{},n={};return cU(n,r,e),Object.assign(n,wwe(e,t)),n}function Nwe(e,t){const r={},n=jwe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Swe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ewe={offset:"strokeDashoffset",array:"strokeDasharray"};function _we(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?Swe:Ewe;e[a.offset]=Ct.transform(-n);const o=Ct.transform(t),l=Ct.transform(r);e[a.array]=`${o} ${l}`}function uU(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...l},c,d,h){if(Ik(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p}=e;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=h?.transformBox??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&_we(m,i,a,o,!1)}const dU=()=>({...Dk(),attrs:{}}),hU=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Cwe(e,t,r,n){const i=w.useMemo(()=>{const a=dU();return uU(a,t,hU(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};cU(a,e.style,e),i.style={...a,...i.style}}return i}const kwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fk(e){return typeof e!="string"||e.includes("-")?!1:!!(kwe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Awe(e,t,r,{latestValues:n},i,a=!1){const l=(Fk(e)?Cwe:Nwe)(t,n,i,e),c=mwe(t,typeof e=="string",a),d=e!==w.Fragment?{...c,...l,ref:r}:{},{children:h}=t,m=w.useMemo(()=>Vn(h)?h.get():h,[h]);return w.createElement(e,{...d,children:m})}function gD(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function $k(e,t,r,n){if(typeof t=="function"){const[i,a]=gD(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=gD(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function qg(e){return Vn(e)?e.get():e}function Pwe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:Owe(r,n,i,e),renderState:t()}}function Owe(e,t,r,n){const i={},a=n(e,{});for(const p in a)i[p]=qg(a[p]);let{initial:o,animate:l}=e;const c=k0(e),d=oU(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!C0(m)){const p=Array.isArray(m)?m:[m];for(let x=0;x<p.length;x++){const b=$k(e,p[x]);if(b){const{transitionEnd:y,transition:v,...N}=b;for(const j in N){let E=N[j];if(Array.isArray(E)){const k=h?E.length-1:0;E=E[k]}E!==null&&(i[j]=E)}for(const j in y)i[j]=y[j]}}}return i}const fU=e=>(t,r)=>{const n=w.useContext(_0),i=w.useContext(E0),a=()=>Pwe(e,t,n,i);return r?a():ck(a)};function Lk(e,t,r){const{style:n}=e,i={};for(const a in n)(Vn(n[a])||t.style&&Vn(t.style[a])||lU(a,e)||r?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}const Twe=fU({scrapeMotionValuesFromProps:Lk,createRenderState:Dk});function mU(e,t,r){const n=Lk(e,t,r);for(const i in e)if(Vn(e[i])||Vn(t[i])){const a=Hd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const Rwe=fU({scrapeMotionValuesFromProps:mU,createRenderState:dU}),Mwe=Symbol.for("motionComponentSymbol");function Cu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Iwe(e,t,r){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Cu(r)&&(r.current=n))},[t])}const Bk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dwe="framerAppearId",pU="data-"+Bk(Dwe),gU=w.createContext({});function Fwe(e,t,r,n,i){const{visualElement:a}=w.useContext(_0),o=w.useContext(iU),l=w.useContext(E0),c=w.useContext(Tk).reducedMotion,d=w.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=w.useContext(gU);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&$we(d.current,r,i,m);const p=w.useRef(!1);w.useInsertionEffect(()=>{h&&p.current&&h.update(r,l)});const x=r[pU],b=w.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return fW(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),b.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),b.current=!1),h.enteringChildren=void 0)}),h}function $we(e,t,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:xU(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Cu(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:d})}function xU(e){if(e)return e.options.allowProjection!==!1?e.projection:xU(e.parent)}function eS(e,{forwardMotionProps:t=!1}={},r,n){r&&dwe(r);const i=Fk(e)?Rwe:Twe;function a(l,c){let d;const h={...w.useContext(Tk),...l,layoutId:Lwe(l)},{isStatic:m}=h,p=gwe(l),x=i(l,m);if(!m&&uk){Bwe();const b=zwe(h);d=b.MeasureLayout,p.visualElement=Fwe(e,x,h,n,b.ProjectionNode)}return s.jsxs(_0.Provider,{value:p,children:[d&&p.visualElement?s.jsx(d,{visualElement:p.visualElement,...h}):null,Awe(e,l,Iwe(x,p.visualElement,c),x,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(a);return o[Mwe]=e,o}function Lwe({layoutId:e}){const t=w.useContext(lk).id;return t&&e!==void 0?t+"-"+e:e}function Bwe(e,t){w.useContext(iU).strict}function zwe(e){const{drag:t,layout:r}=jd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Wwe(e,t){if(typeof Proxy>"u")return eS;const r=new Map,n=(a,o)=>eS(a,o,e,t),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,eS(o,void 0,e,t)),r.get(o))})}function vU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Uwe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Vwe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function tS(e){return e===void 0||e===1}function RE({scale:e,scaleX:t,scaleY:r}){return!tS(e)||!tS(t)||!tS(r)}function Ul(e){return RE(e)||yU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yU(e){return xD(e.x)||xD(e.y)}function xD(e){return e&&e!=="0%"}function hv(e,t,r){const n=e-r,i=t*n;return r+i}function vD(e,t,r,n,i){return i!==void 0&&(e=hv(e,i,n)),hv(e,r,n)+t}function ME(e,t=0,r=1,n,i){e.min=vD(e.min,t,r,n,i),e.max=vD(e.max,t,r,n,i)}function bU(e,{x:t,y:r}){ME(e.x,t.translate,t.scale,t.originPoint),ME(e.y,r.translate,r.scale,r.originPoint)}const yD=.999999999999,bD=1.0000000000001;function qwe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Au(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,bU(e,o)),n&&Ul(a.latestValues)&&Au(e,a.latestValues))}t.x<bD&&t.x>yD&&(t.x=1),t.y<bD&&t.y>yD&&(t.y=1)}function ku(e,t){e.min=e.min+t,e.max=e.max+t}function wD(e,t,r,n,i=.5){const a=Ir(e.min,e.max,i);ME(e,t,r,a,n)}function Au(e,t){wD(e.x,t.x,t.scaleX,t.scale,t.originX),wD(e.y,t.y,t.scaleY,t.scale,t.originY)}function wU(e,t){return vU(Vwe(e.getBoundingClientRect(),t))}function Hwe(e,t,r){const n=wU(e,r),{scroll:i}=t;return i&&(ku(n.x,i.offset.x),ku(n.y,i.offset.y)),n}const jD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pu=()=>({x:jD(),y:jD()}),ND=()=>({min:0,max:0}),ln=()=>({x:ND(),y:ND()}),IE={current:null},jU={current:!1};function Kwe(){if(jU.current=!0,!!uk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>IE.current=e.matches;e.addEventListener("change",t),t()}else IE.current=!1}const Gwe=new WeakMap;function Ywe(e,t,r){for(const n in t){const i=t[n],a=r[n];if(Vn(i))e.addValue(n,i);else if(Vn(a))e.addValue(n,wd(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,wd(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const SD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xwe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ck,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Es.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Pr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=k0(r),this.isVariantNode=oU(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const x=m[p];c[p]!==void 0&&Vn(x)&&x.set(c[p])}}mount(t){this.current=t,Gwe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),jU.current||Kwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),il(this.notifyUpdate),il(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Kd.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Pr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jd){const r=jd[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<SD.length;n++){const i=SD[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ywe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=wd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(mW(n)||gW(n))?n=parseFloat(n):!swe(n)&&al.test(r)&&(n=QW(t,r)),this.setBaseTarget(t,Vn(n)?n.get():n)),Vn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=$k(this.props,r,this.presenceContext?.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Vn(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new pk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Pk.render(this.render)}}class NU extends Xwe{constructor(){super(...arguments),this.KeyframeResolver=Hbe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function SU(e,{style:t,vars:r},n,i){const a=e.style;let o;for(o in t)a[o]=t[o];i?.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function Qwe(e){return window.getComputedStyle(e)}class Jwe extends NU{constructor(){super(...arguments),this.type="html",this.renderInstance=SU}readValueFromInstance(t,r){if(Kd.has(r))return this.projection?.isProjecting?_E(r):dbe(t,r);{const n=Qwe(t),i=(vk(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return wU(t,r)}build(t,r,n){Ik(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Lk(t,r,n)}}const EU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zwe(e,t,r,n){SU(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(EU.has(i)?i:Bk(i),t.attrs[i])}class e1e extends NU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Kd.has(r)){const n=XW(r);return n&&n.default||0}return r=EU.has(r)?r:Bk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return mU(t,r,n)}build(t,r,n){uU(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){Zwe(t,r,n,i)}mount(t){this.isSVGTag=hU(t.tagName),super.mount(t)}}const t1e=(e,t)=>Fk(e)?new e1e(t):new Jwe(t,{allowProjection:e!==w.Fragment});function Wu(e,t,r){const n=e.getProps();return $k(n,t,r!==void 0?r:n.custom,e)}const DE=e=>Array.isArray(e);function r1e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,wd(r))}function n1e(e){return DE(e)?e[e.length-1]||0:e}function s1e(e,t){const r=Wu(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=n1e(a[o]);r1e(e,o,l)}}function i1e(e){return!!(Vn(e)&&e.add)}function FE(e,t){const r=e.getValue("willChange");if(i1e(r))return r.add(t);if(!r&&lo.WillChange){const n=new lo.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function _U(e){return e.props[pU]}const a1e=e=>e!==null;function o1e(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(a1e),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[a]}const l1e={type:"spring",stiffness:500,damping:25,restSpeed:10},c1e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u1e={type:"keyframes",duration:.8},d1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h1e=(e,{keyframes:t})=>t.length>2?u1e:Kd.has(e)?e.startsWith("scale")?c1e(t[1]):l1e:d1e;function f1e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const zk=(e,t,r,n={},i,a)=>o=>{const l=kk(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-xa(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};f1e(l)||Object.assign(h,h1e(e,h)),h.duration&&(h.duration=xa(h.duration)),h.repeatDelay&&(h.repeatDelay=xa(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(OE(h),h.delay===0&&(m=!0)),(lo.instantAnimations||lo.skipAnimations)&&(m=!0,OE(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const p=o1e(h.keyframes,l);if(p!==void 0){Pr.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new _k(h):new Mbe(h)};function m1e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function CU(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(a=n);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),p=l[h];if(p===void 0||d&&m1e(d,h))continue;const x={delay:r,...kk(a||{},h)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===b&&!x.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const N=_U(e);if(N){const j=window.MotionHandoffAnimation(N,h,Pr);j!==null&&(x.startTime=j,y=!0)}}FE(e,h),m.start(zk(h,m,p,e.shouldReduceMotion&&KW.has(h)?{type:!1}:x,e,y));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Pr.update(()=>{o&&s1e(e,o)})}),c}function kU(e,t,r,n=0,i=1){const a=Array.from(e).sort((d,h)=>d.sortNodePosition(h)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(a,o):i===1?a*n:l-a*n}function $E(e,t,r={}){const n=Wu(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(CU(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return p1e(e,t,c,d,h,m,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>d())}else return Promise.all([a(),o(r.delay)])}function p1e(e,t,r=0,n=0,i=0,a=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push($E(c,t,{...o,delay:r+(typeof n=="function"?0:n)+kU(e.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function g1e(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>$E(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=$E(e,t,r);else{const i=typeof t=="function"?Wu(e,t,r.custom):t;n=Promise.all(CU(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function AU(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const x1e=Mk.length;function PU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?PU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<x1e;r++){const n=Mk[r],i=e.props[n];(im(i)||i===!1)&&(t[n]=i)}return t}const v1e=[...Rk].reverse(),y1e=Rk.length;function b1e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>g1e(e,r,n)))}function w1e(e){let t=b1e(e),r=ED(),n=!0;const i=c=>(d,h)=>{const m=Wu(e,h,c==="exit"?e.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:x,...b}=m;d={...d,...b,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,h=PU(e.parent)||{},m=[],p=new Set;let x={},b=1/0;for(let v=0;v<y1e;v++){const N=v1e[v],j=r[N],E=d[N]!==void 0?d[N]:h[N],k=im(E),_=N===c?j.isActive:null;_===!1&&(b=v);let A=E===h[N]&&E!==d[N]&&k;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),j.protectedKeys={...x},!j.isActive&&_===null||!E&&!j.prevProp||C0(E)||typeof E=="boolean")continue;const T=j1e(j.prevProp,E);let D=T||N===c&&j.isActive&&!A&&k||v>b&&k,q=!1;const K=Array.isArray(E)?E:[E];let $=K.reduce(i(N),{});_===!1&&($={});const{prevResolvedValues:H={}}=j,W={...H,...$},B=P=>{D=!0,p.has(P)&&(q=!0,p.delete(P)),j.needsAnimating[P]=!0;const C=e.getValue(P);C&&(C.liveStyle=!1)};for(const P in W){const C=$[P],L=H[P];if(x.hasOwnProperty(P))continue;let U=!1;DE(C)&&DE(L)?U=!AU(C,L):U=C!==L,U?C!=null?B(P):p.add(P):C!==void 0&&p.has(P)?B(P):j.protectedKeys[P]=!0}j.prevProp=E,j.prevResolvedValues=$,j.isActive&&(x={...x,...$}),n&&e.blockInitialAnimation&&(D=!1);const M=A&&T;D&&(!M||q)&&m.push(...K.map(P=>{const C={type:N};if(typeof P=="string"&&n&&!M&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,U=Wu(L,P);if(L.enteringChildren&&U){const{delayChildren:R}=U.transition||{};C.delay=kU(L.enteringChildren,e,R)}}return{animation:P,options:C}}))}if(p.size){const v={};if(typeof d.initial!="boolean"){const N=Wu(e,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}p.forEach(N=>{const j=e.getBaseTarget(N),E=e.getValue(N);E&&(E.liveStyle=!0),v[N]=j??null}),m.push({animation:v})}let y=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(m):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();e.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),r[c].isActive=d;const h=o(c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=ED()}}}function j1e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AU(t,e):!1}function Fl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ED(){return{animate:Fl(!0),whileInView:Fl(),whileHover:Fl(),whileTap:Fl(),whileDrag:Fl(),whileFocus:Fl(),exit:Fl()}}class ml{constructor(t){this.isMounted=!1,this.node=t}update(){}}class N1e extends ml{constructor(t){super(t),t.animationState||(t.animationState=w1e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();C0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let S1e=0;class E1e extends ml{constructor(){super(...arguments),this.id=S1e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _1e={animation:{Feature:N1e},exit:{Feature:E1e}};function om(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Fm(e){return{point:{x:e.pageX,y:e.pageY}}}const C1e=e=>t=>Ok(t)&&e(t,Fm(t));function uf(e,t,r,n){return om(e,t,C1e(r),n)}const OU=1e-4,k1e=1-OU,A1e=1+OU,TU=.01,P1e=0-TU,O1e=0+TU;function is(e){return e.max-e.min}function T1e(e,t,r){return Math.abs(e-t)<=r}function _D(e,t,r,n=.5){e.origin=n,e.originPoint=Ir(t.min,t.max,e.origin),e.scale=is(r)/is(t),e.translate=Ir(r.min,r.max,e.origin)-e.originPoint,(e.scale>=k1e&&e.scale<=A1e||isNaN(e.scale))&&(e.scale=1),(e.translate>=P1e&&e.translate<=O1e||isNaN(e.translate))&&(e.translate=0)}function df(e,t,r,n){_D(e.x,t.x,r.x,n?n.originX:void 0),_D(e.y,t.y,r.y,n?n.originY:void 0)}function CD(e,t,r){e.min=r.min+t.min,e.max=e.min+is(t)}function R1e(e,t,r){CD(e.x,t.x,r.x),CD(e.y,t.y,r.y)}function kD(e,t,r){e.min=t.min-r.min,e.max=e.min+is(t)}function fv(e,t,r){kD(e.x,t.x,r.x),kD(e.y,t.y,r.y)}function fi(e){return[e("x"),e("y")]}const RU=({current:e})=>e?e.ownerDocument.defaultView:null,AD=(e,t)=>Math.abs(e-t);function M1e(e,t){const r=AD(e.x,t.x),n=AD(e.y,t.y);return Math.sqrt(r**2+n**2)}class MU{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=nS(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=M1e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:y}=p,{timestamp:v}=Nn;this.history.push({...y,timestamp:v});const{onStart:N,onMove:j}=this.handlers;x||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=rS(x,this.transformPagePoint),Pr.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=nS(p.type==="pointercancel"?this.lastMoveEventInfo:rS(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,N),y&&y(p,N)},!Ok(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const l=Fm(t),c=rS(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Nn;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=r;m&&m(t,nS(c,this.history)),this.removeListeners=Mm(uf(this.contextWindow,"pointermove",this.handlePointerMove),uf(this.contextWindow,"pointerup",this.handlePointerUp),uf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),il(this.updatePoint)}}function rS(e,t){return t?{point:t(e.point)}:e}function PD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nS({point:e},t){return{point:e,delta:PD(e,IU(t)),offset:PD(e,I1e(t)),velocity:D1e(t,.1)}}function I1e(e){return e[0]}function IU(e){return e[e.length-1]}function D1e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=IU(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>xa(t)));)r--;if(!n)return{x:0,y:0};const a=gi(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function F1e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ir(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ir(r,e,n.max):Math.min(e,r)),e}function OD(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function $1e(e,{top:t,left:r,bottom:n,right:i}){return{x:OD(e.x,r,i),y:OD(e.y,t,n)}}function TD(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function L1e(e,t){return{x:TD(e.x,t.x),y:TD(e.y,t.y)}}function B1e(e,t){let r=.5;const n=is(e),i=is(t);return i>n?r=rm(t.min,t.max-n,e.min):n>i&&(r=rm(e.min,e.max-i,t.min)),oo(0,1,r)}function z1e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const LE=.35;function W1e(e=LE){return e===!1?e=0:e===!0&&(e=LE),{x:RD(e,"left","right"),y:RD(e,"top","bottom")}}function RD(e,t,r){return{min:MD(e,t),max:MD(e,r)}}function MD(e,t){return typeof e=="number"?e:e[t]||0}const U1e=new WeakMap;class V1e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Fm(m).point)},o=(m,p)=>{const{drag:x,dragPropagation:b,onDragStart:y}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xbe(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fi(N=>{let j=this.getAxisMotionValue(N).get()||0;if(va.test(j)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[N];k&&(j=is(k)*(parseFloat(j)/100))}}this.originPoint[N]=j}),y&&Pr.postRender(()=>y(m,p)),FE(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:y,onDrag:v}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=p;if(b&&this.currentDirection===null){this.currentDirection=q1e(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),v&&v(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>fi(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new MU(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:RU(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Pr.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!jg(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=F1e(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Cu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=$1e(n.layoutBox,t):this.constraints=!1,this.elastic=W1e(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&fi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=z1e(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Cu(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Hwe(n,i.root,this.visualElement.getTransformPagePoint());let o=L1e(i.layout.layoutBox,a);if(r){const l=r(Uwe(o));this.hasMutatedConstraints=!!l,l&&(o=vU(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=fi(h=>{if(!jg(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const p=i?200:1e6,x=i?40:1e7,b={type:"inertia",velocity:n?t[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(h,b)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return FE(this.visualElement,t),n.start(zk(t,n,0,r,this.visualElement,!1))}stopAnimation(){fi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){fi(r=>{const{drag:n}=this.getProps();if(!jg(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-Ir(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Cu(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=B1e({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),fi(o=>{if(!jg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ir(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;U1e.set(this.visualElement,this);const t=this.visualElement.current,r=uf(t,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Cu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pr.read(n);const o=om(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(fi(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=LE,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function jg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function q1e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class H1e extends ml{constructor(t){super(t),this.removeGroupControls=wi,this.removeListeners=wi,this.controls=new V1e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const ID=e=>(t,r)=>{e&&Pr.postRender(()=>e(t,r))};class K1e extends ml{constructor(){super(...arguments),this.removePointerDownListener=wi}onPointerDown(t){this.session=new MU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ID(t),onStart:ID(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Pr.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=uf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ct.test(e))e=parseFloat(e);else return e;const r=DD(e,t.target.x),n=DD(e,t.target.y);return`${r}% ${n}%`}},G1e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=al.parse(e);if(i.length>5)return n;const a=al.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Ir(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};let sS=!1;class Y1e extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;xwe(X1e),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),sS&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,sS=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Pr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;sS=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function DU(e){const[t,r]=sU(),n=w.useContext(lk);return s.jsx(Y1e,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(gU),isPresent:t,safeToRemove:r})}const X1e={borderRadius:{...Uh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uh,borderTopRightRadius:Uh,borderBottomLeftRadius:Uh,borderBottomRightRadius:Uh,boxShadow:G1e};function Q1e(e,t,r){const n=Vn(e)?e:wd(e);return n.start(zk("",n,t,r)),n.animation}const J1e=(e,t)=>e.depth-t.depth;class Z1e{constructor(){this.children=[],this.isDirty=!1}add(t){dk(this.children,t),this.isDirty=!0}remove(t){hk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(J1e),this.isDirty=!1,this.children.forEach(t)}}function eje(e,t){const r=Es.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(il(n),e(a-t))};return Pr.setup(n,!0),()=>il(n)}const FU=["TopLeft","TopRight","BottomLeft","BottomRight"],tje=FU.length,FD=e=>typeof e=="string"?parseFloat(e):e,$D=e=>typeof e=="number"||Ct.test(e);function rje(e,t,r,n,i,a){i?(e.opacity=Ir(0,r.opacity??1,nje(n)),e.opacityExit=Ir(t.opacity??1,0,sje(n))):a&&(e.opacity=Ir(t.opacity??1,r.opacity??1,n));for(let o=0;o<tje;o++){const l=`border${FU[o]}Radius`;let c=LD(t,l),d=LD(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||$D(c)===$D(d)?(e[l]=Math.max(Ir(FD(c),FD(d),n),0),(va.test(d)||va.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Ir(t.rotate||0,r.rotate||0,n))}function LD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nje=$U(0,.5,SW),sje=$U(.5,.95,wi);function $U(e,t,r){return n=>n<e?0:n>t?1:r(rm(e,t,n))}function BD(e,t){e.min=t.min,e.max=t.max}function Ii(e,t){BD(e.x,t.x),BD(e.y,t.y)}function zD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function WD(e,t,r,n,i){return e-=t,e=hv(e,1/r,n),i!==void 0&&(e=hv(e,1/i,n)),e}function ije(e,t=0,r=1,n=.5,i,a=e,o=e){if(va.test(t)&&(t=parseFloat(t),t=Ir(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ir(a.min,a.max,n);e===a&&(l-=t),e.min=WD(e.min,t,r,l,i),e.max=WD(e.max,t,r,l,i)}function UD(e,t,[r,n,i],a,o){ije(e,t[r],t[n],t[i],t.scale,a,o)}const aje=["x","scaleX","originX"],oje=["y","scaleY","originY"];function VD(e,t,r,n){UD(e.x,t,aje,r?r.x:void 0,n?n.x:void 0),UD(e.y,t,oje,r?r.y:void 0,n?n.y:void 0)}function qD(e){return e.translate===0&&e.scale===1}function LU(e){return qD(e.x)&&qD(e.y)}function HD(e,t){return e.min===t.min&&e.max===t.max}function lje(e,t){return HD(e.x,t.x)&&HD(e.y,t.y)}function KD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BU(e,t){return KD(e.x,t.x)&&KD(e.y,t.y)}function GD(e){return is(e.x)/is(e.y)}function YD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cje{constructor(){this.members=[]}add(t){dk(this.members,t),t.scheduleRender()}remove(t){if(hk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uje(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=r?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:p,skewX:x,skewY:b}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),x&&(n+=`skewX(${x}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const iS=["","X","Y","Z"],dje=1e3;let hje=0;function aS(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function zU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=_U(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Pr,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&zU(n)}function WU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=hje++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pje),this.nodes.forEach(yje),this.nodes.forEach(bje),this.nodes.forEach(gje)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z1e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=nU(o)&&!rwe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let h,m=0;const p=()=>this.root.updateBlockedByResize=!1;Pr.read(()=>{m=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,h&&h(),h=eje(p,250),Hg.hasAnimatedSinceResize&&(Hg.hasAnimatedSinceResize=!1,this.nodes.forEach(JD)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Eje,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!BU(this.targetLayout,x),j=!m&&p;if(this.options.layoutRoot||this.resumeFrom||j||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...kk(b,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,j)}else m||JD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),il(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wje),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vje),this.nodes.forEach(fje),this.nodes.forEach(mje)):this.nodes.forEach(QD),this.clearAllSnapshots();const l=Es.now();Nn.delta=oo(0,1e3/60,l-Nn.timestamp),Nn.timestamp=l,Nn.isProcessing=!0,GN.update.process(Nn),GN.preRender.process(Nn),GN.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xje),this.sharedNodes.forEach(jje)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!is(this.snapshot.measuredBox.x)&&!is(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!LU(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ul(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_je(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ln();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Cje))){const{scroll:d}=this.root;d&&(ku(l.x,d.offset.x),ku(l.y,d.offset.y))}return l}removeElementScroll(o){const l=ln();if(Ii(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Ii(l,o),ku(l.x,h.offset.x),ku(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=ln();Ii(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Au(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ul(h.latestValues)&&Au(c,h.latestValues)}return Ul(this.latestValues)&&Au(c,this.latestValues),c}removeTransform(o){const l=ln();Ii(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ul(d.latestValues))continue;RE(d.latestValues)&&d.updateSnapshot();const h=ln(),m=d.measurePageBox();Ii(h,m),VD(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Ul(this.latestValues)&&VD(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=Nn.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),bU(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||RE(this.parent.latestValues)||yU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),fv(this.relativeTargetOrigin,l,c),Ii(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ii(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;qwe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ln());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zD(this.prevProjectionDelta.x,this.projectionDelta.x),zD(this.prevProjectionDelta.y,this.projectionDelta.y)),df(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!YD(this.projectionDelta.x,this.prevProjectionDelta.x)||!YD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pu(),this.projectionDelta=Pu(),this.projectionDeltaWithTransform=Pu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=Pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=ln(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=x!==b,v=this.getStack(),N=!v||v.members.length<=1,j=!!(y&&!N&&this.options.crossfade===!0&&!this.path.some(Sje));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const _=k/1e3;ZD(m.x,o.x,_),ZD(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fv(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nje(this.relativeTarget,this.relativeTargetOrigin,p,_),E&&lje(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ln()),Ii(E,this.relativeTarget)),y&&(this.animationValues=h,rje(h,d,this.latestValues,_,j,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(il(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pr.update(()=>{Hg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wd(0)),this.currentAnimation=Q1e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dje),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&UU(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ln();const m=is(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=is(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Ii(l,c),Au(l,h),df(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new cje),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&aS("z",o,d,this.animationValues);for(let h=0;h<iS.length;h++)aS(`rotate${iS[h]}`,o,d,this.animationValues),aS(`skew${iS[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=qg(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=qg(l?.pointerEvents)||""),this.hasProjected&&!Ul(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=uje(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:p,y:x}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in am){if(h[b]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:N}=am[b],j=m==="none"?h[b]:y(h[b],d);if(v){const E=v.length;for(let k=0;k<E;k++)o[v[k]]=j}else N?this.options.visualElement.renderState.vars[b]=j:o[b]=j}this.options.layoutId&&(o.pointerEvents=d===this?qg(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(XD),this.root.sharedNodes.clear()}}}function fje(e){e.updateLayout()}function mje(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?fi(h=>{const m=a?t.measuredBox[h]:t.layoutBox[h],p=is(m);m.min=r[h].min,m.max=m.min+p}):UU(i,t.layoutBox,r)&&fi(h=>{const m=a?t.measuredBox[h]:t.layoutBox[h],p=is(r[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=Pu();df(o,r,t.layoutBox);const l=Pu();a?df(l,e.applyTransform(n,!0),t.measuredBox):df(l,r,t.layoutBox);const c=!LU(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const x=ln();fv(x,t.layoutBox,m.layoutBox);const b=ln();fv(b,r,p.layoutBox),BU(x,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function pje(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gje(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xje(e){e.clearSnapshot()}function XD(e){e.clearMeasurements()}function QD(e){e.isLayoutDirty=!1}function vje(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function JD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yje(e){e.resolveTargetDelta()}function bje(e){e.calcProjection()}function wje(e){e.resetSkewAndRotation()}function jje(e){e.removeLeadSnapshot()}function ZD(e,t,r){e.translate=Ir(t.translate,0,r),e.scale=Ir(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function eF(e,t,r,n){e.min=Ir(t.min,r.min,n),e.max=Ir(t.max,r.max,n)}function Nje(e,t,r,n){eF(e.x,t.x,r.x,n),eF(e.y,t.y,r.y,n)}function Sje(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Eje={duration:.45,ease:[.4,0,.1,1]},tF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rF=tF("applewebkit/")&&!tF("chrome/")?Math.round:wi;function nF(e){e.min=rF(e.min),e.max=rF(e.max)}function _je(e){nF(e.x),nF(e.y)}function UU(e,t,r){return e==="position"||e==="preserve-aspect"&&!T1e(GD(t),GD(r),.2)}function Cje(e){return e!==e.root&&e.scroll?.wasRoot}const kje=WU({attachResizeListener:(e,t)=>om(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oS={current:void 0},VU=WU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oS.current){const e=new kje({});e.mount(window),e.setOptions({layoutScroll:!0}),oS.current=e}return oS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Aje={pan:{Feature:K1e},drag:{Feature:H1e,ProjectionNode:VU,MeasureLayout:DU}};function sF(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Pr.postRender(()=>a(t,Fm(t)))}class Pje extends ml{mount(){const{current:t}=this.node;t&&(this.unmount=Qbe(t,(r,n)=>(sF(this.node,n,"Start"),i=>sF(this.node,i,"End"))))}unmount(){}}class Oje extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mm(om(this.node.current,"focus",()=>this.onFocus()),om(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iF(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Pr.postRender(()=>a(t,Fm(t)))}class Tje extends ml{mount(){const{current:t}=this.node;t&&(this.unmount=twe(t,(r,n)=>(iF(this.node,n,"Start"),(i,{success:a})=>iF(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BE=new WeakMap,lS=new WeakMap,Rje=e=>{const t=BE.get(e.target);t&&t(e)},Mje=e=>{e.forEach(Rje)};function Ije({root:e,...t}){const r=e||document;lS.has(r)||lS.set(r,{});const n=lS.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Mje,{root:e,...t})),n[i]}function Dje(e,t,r){const n=Ije(t);return BE.set(e,r),n.observe(e),()=>{BE.delete(e),n.unobserve(e)}}const Fje={some:0,all:1};class $je extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Fje[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=d?h:m;p&&p(c)};return Dje(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Lje(t,r))&&this.startObserver()}unmount(){}}function Lje({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Bje={inView:{Feature:$je},tap:{Feature:Tje},focus:{Feature:Oje},hover:{Feature:Pje}},zje={layout:{ProjectionNode:VU,MeasureLayout:DU}},Wje={..._1e,...Bje,...Aje,...zje},tr=Wwe(Wje,t1e);function Uje(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const Vje=e=>{switch(e){case"success":return Kje;case"info":return Yje;case"warning":return Gje;case"error":return Xje;default:return null}},qje=Array(12).fill(0),Hje=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},qje.map((r,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Kje=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gje=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Yje=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Xje=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Qje=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Jje=()=>{const[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let zE=1;class Zje{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...i}=t,a=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:zE++,o=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],Z.isValidElement(d))a=!1,this.create({id:n,type:"default",message:d});else if(tNe(d)&&!d.ok){a=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description,b=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...b})}else if(d instanceof Error){a=!1;const m=typeof r.error=="function"?await r.error(d):r.error,p=typeof r.description=="function"?await r.description(d):r.description,b=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...b})}else if(r.success!==void 0){a=!1;const m=typeof r.success=="function"?await r.success(d):r.success,p=typeof r.description=="function"?await r.description(d):r.description,b=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:p,...b})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){a=!1;const h=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description,x=typeof h=="object"&&!Z.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:m,...x})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=r?.id||zE++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ys=new Zje,eNe=(e,t)=>{const r=t?.id||zE++;return ys.addToast({title:e,...t,id:r}),r},tNe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",rNe=eNe,nNe=()=>ys.toasts,sNe=()=>ys.getActiveToasts(),Q=Object.assign(rNe,{success:ys.success,info:ys.info,warning:ys.warning,error:ys.error,custom:ys.custom,message:ys.message,promise:ys.promise,dismiss:ys.dismiss,loading:ys.loading},{getHistory:nNe,getToasts:sNe});Uje("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ng(e){return e.label!==void 0}const iNe=3,aNe="24px",oNe="16px",aF=4e3,lNe=356,cNe=14,uNe=45,dNe=200;function aa(...e){return e.filter(Boolean).join(" ")}function hNe(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const fNe=e=>{var t,r,n,i,a,o,l,c,d;const{invert:h,toast:m,unstyled:p,interacting:x,setHeights:b,visibleToasts:y,heights:v,index:N,toasts:j,expanded:E,removeToast:k,defaultRichColors:_,closeButton:A,style:T,cancelButtonStyle:D,actionButtonStyle:q,className:K="",descriptionClassName:$="",duration:H,position:W,gap:B,expandByDefault:M,classNames:z,icons:P,closeButtonAriaLabel:C="Close toast"}=e,[L,U]=Z.useState(null),[R,I]=Z.useState(null),[V,re]=Z.useState(!1),[ce,me]=Z.useState(!1),[ae,ue]=Z.useState(!1),[pe,ee]=Z.useState(!1),[xe,X]=Z.useState(!1),[fe,de]=Z.useState(0),[te,he]=Z.useState(0),we=Z.useRef(m.duration||H||aF),ze=Z.useRef(null),se=Z.useRef(null),ne=N===0,ve=N+1<=y,J=m.type,je=m.dismissible!==!1,Ae=m.className||"",Te=m.descriptionClassName||"",Be=Z.useMemo(()=>v.findIndex(yt=>yt.toastId===m.id)||0,[v,m.id]),De=Z.useMemo(()=>{var yt;return(yt=m.closeButton)!=null?yt:A},[m.closeButton,A]),et=Z.useMemo(()=>m.duration||H||aF,[m.duration,H]),vt=Z.useRef(0),Ue=Z.useRef(0),pt=Z.useRef(0),Ht=Z.useRef(null),[ur,Wr]=W.split("-"),Jr=Z.useMemo(()=>v.reduce((yt,zt,Xt)=>Xt>=Be?yt:yt+zt.height,0),[v,Be]),ir=Jje(),fo=m.invert||h,Rs=J==="loading";Ue.current=Z.useMemo(()=>Be*B+Jr,[Be,Jr]),Z.useEffect(()=>{we.current=et},[et]),Z.useEffect(()=>{re(!0)},[]),Z.useEffect(()=>{const yt=se.current;if(yt){const zt=yt.getBoundingClientRect().height;return he(zt),b(Xt=>[{toastId:m.id,height:zt,position:m.position},...Xt]),()=>b(Xt=>Xt.filter(Vr=>Vr.toastId!==m.id))}},[b,m.id]),Z.useLayoutEffect(()=>{if(!V)return;const yt=se.current,zt=yt.style.height;yt.style.height="auto";const Xt=yt.getBoundingClientRect().height;yt.style.height=zt,he(Xt),b(Vr=>Vr.find(Kt=>Kt.toastId===m.id)?Vr.map(Kt=>Kt.toastId===m.id?{...Kt,height:Xt}:Kt):[{toastId:m.id,height:Xt,position:m.position},...Vr])},[V,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const Tn=Z.useCallback(()=>{me(!0),de(Ue.current),b(yt=>yt.filter(zt=>zt.toastId!==m.id)),setTimeout(()=>{k(m)},dNe)},[m,k,b,Ue]);Z.useEffect(()=>{if(m.promise&&J==="loading"||m.duration===1/0||m.type==="loading")return;let yt;return E||x||ir?(()=>{if(pt.current<vt.current){const Vr=new Date().getTime()-vt.current;we.current=we.current-Vr}pt.current=new Date().getTime()})():(()=>{we.current!==1/0&&(vt.current=new Date().getTime(),yt=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Tn()},we.current))})(),()=>clearTimeout(yt)},[E,x,m,J,ir,Tn]),Z.useEffect(()=>{m.delete&&(Tn(),m.onDismiss==null||m.onDismiss.call(m,m))},[Tn,m.delete]);function Xe(){var yt;if(P?.loading){var zt;return Z.createElement("div",{className:aa(z?.loader,m==null||(zt=m.classNames)==null?void 0:zt.loader,"sonner-loader"),"data-visible":J==="loading"},P.loading)}return Z.createElement(Hje,{className:aa(z?.loader,m==null||(yt=m.classNames)==null?void 0:yt.loader),visible:J==="loading"})}const ds=m.icon||P?.[J]||Vje(J);var Ms,Ca;return Z.createElement("li",{tabIndex:0,ref:se,className:aa(K,Ae,z?.toast,m==null||(t=m.classNames)==null?void 0:t.toast,z?.default,z?.[J],m==null||(r=m.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(Ms=m.richColors)!=null?Ms:_,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":xe,"data-removed":ce,"data-visible":ve,"data-y-position":ur,"data-x-position":Wr,"data-index":N,"data-front":ne,"data-swiping":ae,"data-dismissible":je,"data-type":J,"data-invert":fo,"data-swipe-out":pe,"data-swipe-direction":R,"data-expanded":!!(E||M&&V),"data-testid":m.testId,style:{"--index":N,"--toasts-before":N,"--z-index":j.length-N,"--offset":`${ce?fe:Ue.current}px`,"--initial-height":M?"auto":`${te}px`,...T,...m.style},onDragEnd:()=>{ue(!1),U(null),Ht.current=null},onPointerDown:yt=>{yt.button!==2&&(Rs||!je||(ze.current=new Date,de(Ue.current),yt.target.setPointerCapture(yt.pointerId),yt.target.tagName!=="BUTTON"&&(ue(!0),Ht.current={x:yt.clientX,y:yt.clientY})))},onPointerUp:()=>{var yt,zt,Xt;if(pe||!je)return;Ht.current=null;const Vr=Number(((yt=se.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number(((zt=se.current)==null?void 0:zt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Kt=new Date().getTime()-((Xt=ze.current)==null?void 0:Xt.getTime()),Dr=L==="x"?Vr:Yn,Xn=Math.abs(Dr)/Kt;if(Math.abs(Dr)>=uNe||Xn>.11){de(Ue.current),m.onDismiss==null||m.onDismiss.call(m,m),I(L==="x"?Vr>0?"right":"left":Yn>0?"down":"up"),Tn(),ee(!0);return}else{var Fr,Qt;(Fr=se.current)==null||Fr.style.setProperty("--swipe-amount-x","0px"),(Qt=se.current)==null||Qt.style.setProperty("--swipe-amount-y","0px")}X(!1),ue(!1),U(null)},onPointerMove:yt=>{var zt,Xt,Vr;if(!Ht.current||!je||((zt=window.getSelection())==null?void 0:zt.toString().length)>0)return;const Kt=yt.clientY-Ht.current.y,Dr=yt.clientX-Ht.current.x;var Xn;const Fr=(Xn=e.swipeDirections)!=null?Xn:hNe(W);!L&&(Math.abs(Dr)>1||Math.abs(Kt)>1)&&U(Math.abs(Dr)>Math.abs(Kt)?"x":"y");let Qt={x:0,y:0};const hs=xn=>1/(1.5+Math.abs(xn)/20);if(L==="y"){if(Fr.includes("top")||Fr.includes("bottom"))if(Fr.includes("top")&&Kt<0||Fr.includes("bottom")&&Kt>0)Qt.y=Kt;else{const xn=Kt*hs(Kt);Qt.y=Math.abs(xn)<Math.abs(Kt)?xn:Kt}}else if(L==="x"&&(Fr.includes("left")||Fr.includes("right")))if(Fr.includes("left")&&Dr<0||Fr.includes("right")&&Dr>0)Qt.x=Dr;else{const xn=Dr*hs(Dr);Qt.x=Math.abs(xn)<Math.abs(Dr)?xn:Dr}(Math.abs(Qt.x)>0||Math.abs(Qt.y)>0)&&X(!0),(Xt=se.current)==null||Xt.style.setProperty("--swipe-amount-x",`${Qt.x}px`),(Vr=se.current)==null||Vr.style.setProperty("--swipe-amount-y",`${Qt.y}px`)}},De&&!m.jsx&&J!=="loading"?Z.createElement("button",{"aria-label":C,"data-disabled":Rs,"data-close-button":!0,onClick:Rs||!je?()=>{}:()=>{Tn(),m.onDismiss==null||m.onDismiss.call(m,m)},className:aa(z?.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(Ca=P?.close)!=null?Ca:Qje):null,(J||m.icon||m.promise)&&m.icon!==null&&(P?.[J]!==null||m.icon)?Z.createElement("div",{"data-icon":"",className:aa(z?.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Xe():null,m.type!=="loading"?ds:null):null,Z.createElement("div",{"data-content":"",className:aa(z?.content,m==null||(a=m.classNames)==null?void 0:a.content)},Z.createElement("div",{"data-title":"",className:aa(z?.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Z.createElement("div",{"data-description":"",className:aa($,Te,z?.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),Z.isValidElement(m.cancel)?m.cancel:m.cancel&&Ng(m.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||D,onClick:yt=>{Ng(m.cancel)&&je&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,yt),Tn())},className:aa(z?.cancelButton,m==null||(c=m.classNames)==null?void 0:c.cancelButton)},m.cancel.label):null,Z.isValidElement(m.action)?m.action:m.action&&Ng(m.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||q,onClick:yt=>{Ng(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,yt),!yt.defaultPrevented&&Tn())},className:aa(z?.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function oF(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mNe(e,t){const r={};return[e,t].forEach((n,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",l=a?oNe:aNe;function c(d){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}const pNe=Z.forwardRef(function(t,r){const{id:n,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:h,mobileOffset:m,theme:p="light",richColors:x,duration:b,style:y,visibleToasts:v=iNe,toastOptions:N,dir:j=oF(),gap:E=cNe,icons:k,containerAriaLabel:_="Notifications"}=t,[A,T]=Z.useState([]),D=Z.useMemo(()=>n?A.filter(V=>V.toasterId===n):A.filter(V=>!V.toasterId),[A,n]),q=Z.useMemo(()=>Array.from(new Set([a].concat(D.filter(V=>V.position).map(V=>V.position)))),[D,a]),[K,$]=Z.useState([]),[H,W]=Z.useState(!1),[B,M]=Z.useState(!1),[z,P]=Z.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=Z.useRef(null),L=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Z.useRef(null),R=Z.useRef(!1),I=Z.useCallback(V=>{T(re=>{var ce;return(ce=re.find(me=>me.id===V.id))!=null&&ce.delete||ys.dismiss(V.id),re.filter(({id:me})=>me!==V.id)})},[]);return Z.useEffect(()=>ys.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{T(re=>re.map(ce=>ce.id===V.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{r9.flushSync(()=>{T(re=>{const ce=re.findIndex(me=>me.id===V.id);return ce!==-1?[...re.slice(0,ce),{...re[ce],...V},...re.slice(ce+1)]:[V,...re]})})})}),[A]),Z.useEffect(()=>{if(p!=="system"){P(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:re})=>{P(re?"dark":"light")})}catch{V.addListener(({matches:ce})=>{try{P(ce?"dark":"light")}catch(me){console.error(me)}})}},[p]),Z.useEffect(()=>{A.length<=1&&W(!1)},[A]),Z.useEffect(()=>{const V=re=>{var ce;if(o.every(ue=>re[ue]||re.code===ue)){var ae;W(!0),(ae=C.current)==null||ae.focus()}re.code==="Escape"&&(document.activeElement===C.current||(ce=C.current)!=null&&ce.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),Z.useEffect(()=>{if(C.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,R.current=!1)}},[C.current]),Z.createElement("section",{ref:r,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((V,re)=>{var ce;const[me,ae]=V.split("-");return D.length?Z.createElement("ol",{key:V,dir:j==="auto"?oF():j,tabIndex:-1,ref:C,className:d,"data-sonner-toaster":!0,"data-sonner-theme":z,"data-y-position":me,"data-x-position":ae,style:{"--front-toast-height":`${((ce=K[0])==null?void 0:ce.height)||0}px`,"--width":`${lNe}px`,"--gap":`${E}px`,...y,...mNe(h,m)},onBlur:ue=>{R.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(R.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||R.current||(R.current=!0,U.current=ue.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{B||W(!1)},onDragEnd:()=>W(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},D.filter(ue=>!ue.position&&re===0||ue.position===V).map((ue,pe)=>{var ee,xe;return Z.createElement(fNe,{key:ue.id,icons:k,index:pe,toast:ue,defaultRichColors:x,duration:(ee=N?.duration)!=null?ee:b,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:i,visibleToasts:v,closeButton:(xe=N?.closeButton)!=null?xe:c,interacting:B,position:V,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:I,toasts:D.filter(X=>X.position==ue.position),heights:K.filter(X=>X.position==ue.position),setHeights:$,expandByDefault:l,gap:E,expanded:H,swipeDirections:t.swipeDirections})})):null}))}),cS=({radius:e,stroke:t,progress:r,color:n,label:i,value:a})=>{const o=2*Math.PI*e,l=o-r/100*o;return s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{width:e*2+t*2,height:e*2+t*2,className:"transform -rotate-90",children:[s.jsx("circle",{cx:e+t,cy:e+t,r:e,stroke:"#E5E7EB",strokeWidth:t,fill:"none"}),s.jsx(tr.circle,{cx:e+t,cy:e+t,r:e,stroke:n,strokeWidth:t,fill:"none",strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round",initial:{strokeDashoffset:o},animate:{strokeDashoffset:l},transition:{duration:1.5,delay:.2,ease:"easeOut"},style:{filter:`drop-shadow(0 0 8px ${n})`}})]}),s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:s.jsxs(tr.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5},className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:i})]})})]})},Sg=({value:e,suffix:t=""})=>{const[r,n]=w.useState(0);return w.useEffect(()=>{let i=0;const o=e/(1500/16),l=setInterval(()=>{i+=o,i>=e?(n(e),clearInterval(l)):n(Math.floor(i))},16);return()=>clearInterval(l)},[e]),s.jsxs("span",{children:[r.toLocaleString("ru-RU"),t]})},gNe=({orders:e})=>{const n=o=>{const l=e.filter(c=>new Date(c.||c.created_at).toDateString()===o.toDateString()).length;return l===0?"bg-gray-100":l<=1?"bg-green-200":l<=3?"bg-green-400":"bg-green-600"},a=(()=>{const o=[],l=new Date;for(let c=11;c>=0;c--){const d=[];for(let h=0;h<7;h++){const m=new Date(l);m.setDate(m.getDate()-(c*7+(6-h))),d.push({date:m,activity:n(m)})}o.push(d)}return o})();return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ga,{className:"w-4 h-4"}),s.jsxs("span",{children:["    ",12," "]})]}),s.jsx("div",{className:"flex gap-1",children:a.map((o,l)=>s.jsx("div",{className:"flex flex-col gap-1",children:o.map((c,d)=>s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("div",{className:`w-3 h-3 rounded-sm ${c.activity} cursor-pointer hover:ring-2 hover:ring-offset-1 hover:ring-gray-400 transition-all`})}),s.jsx(Ko,{children:s.jsx("p",{className:"text-xs",children:c.date.toLocaleDateString("ru-RU")})})]})},d))},l))}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsx("span",{children:""}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-gray-100"}),s.jsx("div",{className:"w-3 h-3 rounded-sm bg-green-200"}),s.jsx("div",{className:"w-3 h-3 rounded-sm bg-green-400"}),s.jsx("div",{className:"w-3 h-3 rounded-sm bg-green-600"})]}),s.jsx("span",{children:""})]})]})};function lF({currentUser:e,onNavigate:t,onRefresh:r,refreshTrigger:n}){const[i,a]=w.useState(!0),[o,l]=w.useState([]),[c,d]=w.useState([]),[h,m]=w.useState([]),[p,x]=w.useState([]);w.useEffect(()=>{b()},[e,n]);const b=async()=>{try{a(!0);const C=await Cv(e.id),L=Array.isArray(C)?C:[];l(L);const U=await kv(),R=Array.isArray(U)?U:U?.orders?U.orders:[];d(R);const I=R.filter(ae=>ae.Id===e.id);m(I);const V=[],re=new Date;re.setDate(re.getDate()-7),L.filter(ae=>new Date(ae.||ae.)>=re).forEach(ae=>{V.push({type:"partner",icon:ac,color:"text-blue-500",bg:"bg-blue-50",title:" ",description:`${ae.}    `,time:new Date(ae.||ae.)})}),[...R||[]].filter(ae=>ae.Id===e.id||L.some(ue=>ue.id===ae.Id)).sort((ae,ue)=>new Date(ue.||ue.created_at).getTime()-new Date(ae.||ae.created_at).getTime()).slice(0,10).forEach(ae=>{const ue=ae.Id===e.id;V.push({type:"order",icon:Xo,color:ue?"text-green-500":"text-purple-500",bg:ue?"bg-green-50":"bg-purple-50",title:ue?" ":" ",description:`${ae.?.length||0}   ${ae.?.toLocaleString("ru-RU")}`,time:new Date(ae.||ae.created_at)})}),V.sort((ae,ue)=>ue.time.getTime()-ae.time.getTime()),x(V.slice(0,10))}catch(C){console.error("Error loading dashboard data:",C),Q.error("  ")}finally{a(!1)}},y=()=>{if(!Array.isArray(c))return 0;const C=new Date,L=new Date(C.getFullYear(),C.getMonth(),1);let U=0;return c.forEach(R=>{const I=new Date(R.||R.created_at);I>=L&&I<=C&&(R.d1===e.id&&(U+=R.D1||0),R.d2===e.id&&(U+=R.D2||0),R.d3===e.id&&(U+=R.D3||0))}),U},v=()=>{if(!Array.isArray(c))return 0;const C=new Date,L=new Date(C.getFullYear(),C.getMonth()-1,1),U=new Date(C.getFullYear(),C.getMonth(),0);let R=0;return c.forEach(I=>{const V=new Date(I.||I.created_at);V>=L&&V<=U&&(I.d1===e.id&&(R+=I.D1||0),I.d2===e.id&&(R+=I.D2||0),I.d3===e.id&&(R+=I.D3||0))}),R},N=()=>{if(!Array.isArray(c))return[];const C=[],L=new Date;for(let U=5;U>=0;U--){const R=new Date(L.getFullYear(),L.getMonth()-U,1),I=new Date(L.getFullYear(),L.getMonth()-U+1,0),V=R.toLocaleDateString("ru-RU",{month:"short"});let re=0;c.forEach(ce=>{const me=new Date(ce.||ce.created_at);me>=R&&me<=I&&(ce.d1===e.id&&(re+=ce.D1||0),ce.d2===e.id&&(re+=ce.D2||0),ce.d3===e.id&&(re+=ce.D3||0))}),C.push({month:V,:Math.floor(re)})}return C},j=()=>{if(!Array.isArray(o))return[];const C=[],L=new Date;for(let U=5;U>=0;U--){const R=new Date(L.getFullYear(),L.getMonth()-U,1),I=R.toLocaleDateString("ru-RU",{month:"short"}),V=o.filter(re=>!re.&&!re.?!1:new Date(re.||re.)<=R).length;C.push({month:I,:V})}return C},E=()=>{if(!Array.isArray(c)||!Array.isArray(o))return[];const C={};return c.forEach(L=>{L.Id!==e.id&&!o.some(U=>U.id===L.Id)||(L.||[]).forEach(U=>{const R=U.Id||U.;C[R]||(C[R]={name:U.||"",count:0,revenue:0}),C[R].count+=U.||1,C[R].revenue+=(U.||0)*(U.||1)})}),Object.values(C).sort((L,U)=>U.revenue-L.revenue).slice(0,5).map(L=>({:L.name,:L.count,:L.revenue}))},k=()=>!Array.isArray(c)||!Array.isArray(o)?0:c.filter(C=>{const L=C.||C.status;return(C.Id===e.id||o.some(U=>U.id===C.Id))&&(L===" "||L==="pending"||!L)}).length,_=()=>{if(!Array.isArray(o))return 0;const C=new Date;return C.setDate(C.getDate()-7),o.filter(L=>new Date(L.||L.)>=C).length},A=()=>{if(!Array.isArray(c)||!Array.isArray(o))return{income:{value:0,progress:0,goal:1e5},team:{value:0,progress:0,goal:50},activity:{value:0,progress:0,goal:0}};const C=y(),L=1e5,U=o.length,R=50,I=new Date;I.setDate(I.getDate()-7);const V=o.filter(ce=>c.some(me=>{const ae=new Date(me.||me.created_at);return me.Id===ce.id&&ae>=I})).length,re=U>0?V/U*100:0;return{income:{value:C,progress:Math.min(100,C/L*100),goal:L},team:{value:U,progress:Math.min(100,U/R*100),goal:R},activity:{value:V,progress:re,goal:U}}},T=()=>{if(!Array.isArray(c)||!Array.isArray(o))return{current:e.||1,next:(e.||1)+1,teamProgress:0,revenueProgress:0,requirements:null,currentTeam:0,currentRevenue:0};const C=e.||1,L=C+1,U={2:{team:15,revenue:5e5},3:{team:50,revenue:2e6}};if(L>3)return{current:3,next:3,teamProgress:100,revenueProgress:100,requirements:null,currentTeam:o.length,currentRevenue:0};const R=U[L],I=c.reduce((V,re)=>re.Id===e.id||o.some(ce=>ce.id===re.Id)?V+(re.||0):V,0);return{current:C,next:L,teamProgress:Math.min(100,o.length/R.team*100),revenueProgress:Math.min(100,I/R.revenue*100),requirements:R,currentTeam:o.length,currentRevenue:I}};if(i)return s.jsx("div",{className:"flex items-center justify-center h-screen",style:{backgroundColor:"#F7FAFC"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#39B7FF] mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:" ..."})]})});const D=y(),q=v(),K=q>0?(D-q)/q*100:D>0?100:0,$=N(),H=j(),W=E(),B=A(),M=T(),z=k(),P=_();return s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:"700"},children:" "}),s.jsxs("p",{className:"text-[#666] text-sm md:text-base",children:[" , ",e.,"!   "]})]}),s.jsx(tr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl md:rounded-3xl shadow-lg bg-gradient-to-br from-white to-blue-50 mb-6 md:mb-8",children:s.jsxs(Ee,{className:"p-4 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6",children:[s.jsx(Wo,{className:"w-5 h-5 md:w-6 md:h-6 text-[#39B7FF]"}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:" "})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 md:gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(cS,{radius:50,stroke:10,progress:B.income.progress,color:"#39B7FF",label:"",value:`${Math.floor(B.income.value/1e3)}K`}),s.jsx("div",{className:"mt-2 md:mt-4 text-center",children:s.jsxs("div",{className:"text-xs md:text-sm text-gray-600",children:[": ",(B.income.goal/1e3).toLocaleString("ru-RU"),"K"]})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(cS,{radius:50,stroke:10,progress:B.team.progress,color:"#12C9B6",label:"",value:B.team.value}),s.jsx("div",{className:"mt-2 md:mt-4 text-center",children:s.jsxs("div",{className:"text-xs md:text-sm text-gray-600",children:[": ",B.team.goal]})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(cS,{radius:50,stroke:10,progress:B.activity.progress,color:"#EF4444",label:"",value:B.activity.value}),s.jsx("div",{className:"mt-2 md:mt-4 text-center",children:s.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:" "})})]})]}),s.jsx("div",{className:"mt-6 md:mt-8 p-3 md:p-4 bg-blue-50 rounded-xl md:rounded-2xl border border-blue-100",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-800 text-sm md:text-base",children:[s.jsx(Mu,{className:"w-4 h-4 md:w-5 md:h-5 flex-shrink-0"}),s.jsx("span",{className:"font-semibold",children:B.income.progress>=100&&B.team.progress>=100&&B.activity.progress>=80?"   !  !":" ,    !"})]})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8",children:[s.jsx(tr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white hover:shadow-md transition-shadow",children:s.jsxs(Ee,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-green-50 rounded-xl",children:s.jsx(Wn,{className:"w-5 h-5 text-green-600"})}),K!==0&&s.jsxs(Qe,{className:`${K>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"} border-0`,children:[K>0?s.jsx(Us,{className:"w-3 h-3 mr-1"}):s.jsx(JY,{className:"w-3 h-3 mr-1"}),Math.abs(K).toFixed(0),"%"]})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:s.jsx(Sg,{value:D,suffix:""})}),s.jsx("div",{className:"text-sm text-gray-600",children:"  "})]})})}),s.jsx(tr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white hover:shadow-md transition-shadow",children:s.jsxs(Ee,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:s.jsx(Ot,{className:"w-5 h-5 text-blue-600"})}),P>0&&s.jsxs(Qe,{className:"bg-blue-100 text-blue-700 border-0",children:["+",P,"  "]})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:s.jsx(Sg,{value:o.length})}),s.jsx("div",{className:"text-sm text-gray-600",children:"  "})]})})}),s.jsx(tr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white hover:shadow-md transition-shadow",children:s.jsxs(Ee,{className:"p-4 md:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("div",{className:"p-2 bg-purple-50 rounded-xl",children:s.jsx(On,{className:"w-5 h-5 text-purple-600"})})}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:s.jsx(Sg,{value:e.||0,suffix:""})}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"  "}),s.jsx(ie,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>t?.(""),children:""})]})})}),s.jsx(tr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white hover:shadow-md transition-shadow",children:s.jsxs(Ee,{className:"p-4 md:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("div",{className:"p-2 bg-orange-50 rounded-xl",children:s.jsx(Ns,{className:"w-5 h-5 text-orange-600"})})}),s.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:s.jsx(Sg,{value:z})}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:" "}),s.jsx(ie,{size:"sm",variant:"outline",className:"w-full",onClick:()=>t?.(""),children:""})]})})})]}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.7},className:"mb-6 md:mb-8",children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white",children:s.jsx(Ee,{className:"p-4 md:p-6",children:s.jsxs(Ni,{defaultValue:"income",className:"w-full",children:[s.jsxs(Si,{className:"grid w-full grid-cols-3 mb-6",children:[s.jsx(Dt,{value:"income",children:" "}),s.jsx(Dt,{value:"team",children:" "}),s.jsx(Dt,{value:"products",children:" "})]}),s.jsxs(Vt,{value:"income",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[s.jsx($t,{className:"w-5 h-5 text-green-500"}),"  (6 )"]})}),s.jsx(Qo,{width:"100%",height:300,children:s.jsxs(ok,{data:$,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#12C9B6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#12C9B6",stopOpacity:.1})]})}),s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),s.jsx(ei,{dataKey:"month",stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(En,{contentStyle:{backgroundColor:"#FFF",border:"1px solid #E5E7EB",borderRadius:"8px"},formatter:C=>[`${C.toLocaleString("ru-RU")}`,""]}),s.jsx(_a,{type:"monotone",dataKey:"",stroke:"#12C9B6",fillOpacity:1,fill:"url(#colorIncome)",strokeWidth:2,animationDuration:1500})]})}),$.every(C=>C.===0)&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 p-3 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsx(Mu,{size:16,className:"text-blue-600 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-blue-700",children:"      "})]})]}),s.jsxs(Vt,{value:"team",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5 text-blue-500"}),"  (6 )"]})}),s.jsx(Qo,{width:"100%",height:300,children:s.jsxs(ov,{data:H,children:[s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),s.jsx(ei,{dataKey:"month",stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(En,{contentStyle:{backgroundColor:"#FFF",border:"1px solid #E5E7EB",borderRadius:"8px"},formatter:C=>[C,""]}),s.jsx(ja,{dataKey:"",fill:"#39B7FF",radius:[8,8,0,0],animationDuration:1500})]})})]}),s.jsxs(Vt,{value:"products",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Pn,{className:"w-5 h-5 text-amber-500"}),"   "]})}),W.length>0?s.jsx(Qo,{width:"100%",height:300,children:s.jsxs(ov,{data:W,layout:"vertical",children:[s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),s.jsx(ei,{type:"number",stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(ti,{type:"category",dataKey:"",stroke:"#6B7280",style:{fontSize:"12px"},width:120}),s.jsx(En,{contentStyle:{backgroundColor:"#FFF",border:"1px solid #E5E7EB",borderRadius:"8px"},formatter:C=>[`${C.toLocaleString("ru-RU")}`,""]}),s.jsx(ja,{dataKey:"",fill:"#F59E0B",radius:[0,8,8,0],animationDuration:1500})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center p-6",children:[s.jsx(Xo,{className:"w-12 h-12 text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"    "}),s.jsx("p",{className:"text-sm text-gray-400",children:"  ,   "})]})]})]})})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 mb-6 md:mb-8",children:[s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white h-full",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(Ga,{className:"w-5 h-5 text-purple-500"})," "]})}),s.jsx(Ee,{children:s.jsx(gNe,{orders:c.filter(C=>C.Id===e.id)})})]})}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.9},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-gradient-to-br from-white to-amber-50 h-full",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(X$,{className:"w-5 h-5 text-amber-500"}),"   "]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:[" ",M.current]}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-blue-500 to-amber-500 rounded-full"}),s.jsx(VQ,{className:"w-6 h-6 text-amber-500"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-amber-600",children:[" ",M.next]}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:""})]})]}),M.requirements?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(Ot,{className:"w-4 h-4"}),""]}),s.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[M.currentTeam," / ",M.requirements.team]})]}),s.jsx(xf,{value:M.teamProgress,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),""]}),s.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[Math.floor(M.currentRevenue/1e3),"K / ",M.requirements.revenue/1e3,"K"]})]}),s.jsx(xf,{value:M.revenueProgress,className:"h-2"})]}),s.jsx("div",{className:"mt-6 p-4 bg-amber-50 rounded-xl border border-amber-200",children:s.jsxs("div",{className:"flex items-start gap-2 text-amber-800 text-sm",children:[s.jsx(Js,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold mb-1",children:"  !"}),s.jsx("div",{className:"text-xs",children:" ,       "})]})]})})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(gf,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-bold text-gray-800 mb-2",children:" !"}),s.jsx("p",{className:"text-sm text-gray-600",children:"    "})]})]})]})})]}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"mb-6 md:mb-8",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(tl,{className:"w-5 h-5 text-gray-600"})," "]})}),s.jsx(Ee,{children:p.length>0?s.jsx("div",{className:"space-y-4",children:p.map((C,L)=>s.jsxs(tr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:L*.05},className:"flex items-start gap-4 p-3 rounded-xl hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:`p-2 ${C.bg} rounded-lg`,children:s.jsx(C.icon,{className:`w-4 h-4 ${C.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:C.title}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:C.description})]}),s.jsx("div",{className:"text-xs text-gray-500 whitespace-nowrap",children:C.time.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})})]},L))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"  "}),s.jsx("p",{className:"text-sm text-gray-400",children:" ,    "})]})})]})}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.1},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]",children:s.jsxs(Ee,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Mu,{className:"w-6 h-6 text-white"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:" "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ie,{className:"bg-white text-[#39B7FF] hover:bg-gray-50 h-auto py-4 px-6 justify-start",onClick:()=>t?.(""),children:[s.jsx(rl,{className:"w-5 h-5 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold",children:" "}),s.jsx("div",{className:"text-xs opacity-80",children:" . "})]})]}),s.jsxs(ie,{className:"bg-white text-[#12C9B6] hover:bg-gray-50 h-auto py-4 px-6 justify-start",onClick:()=>t?.(""),children:[s.jsx(Ua,{className:"w-5 h-5 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold",children:" "}),s.jsx("div",{className:"text-xs opacity-80",children:"  "})]})]}),s.jsxs(ie,{className:"bg-white text-purple-600 hover:bg-gray-50 h-auto py-4 px-6 justify-start",onClick:()=>t?.(""),children:[s.jsx(JX,{className:"w-5 h-5 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-bold",children:""}),s.jsx("div",{className:"text-xs opacity-80",children:"  "})]})]})]})]})})})]})}function Wk({userName:e}){return s.jsxs("div",{className:"w-full bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 px-4 py-2.5 flex items-center gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-3 py-1.5 rounded-lg shadow flex items-center gap-2",children:[s.jsx(X$,{className:"w-3.5 h-3.5"}),s.jsx("span",{style:{fontWeight:"700",fontSize:"12px"},children:" "})]}),s.jsxs("div",{className:"bg-white border border-amber-300 text-amber-700 px-3 py-1.5 rounded-lg shadow-sm flex items-center gap-2",children:[s.jsx(qu,{className:"w-3.5 h-3.5"}),s.jsxs("span",{style:{fontWeight:"600",fontSize:"12px"},children:[" : ",e||""]})]})]})}function xNe({onNavigate:e}){const[t,r]=w.useState([]),[n,i]=w.useState({}),[a,o]=w.useState(!0);w.useEffect(()=>{l()},[]);const l=async()=>{try{const h=await R_();r(h.achievements||[]),i(h.stats||{})}catch(h){console.error("Error loading achievements:",h)}finally{o(!1)}};if(a)return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-[#1A202C]",children:[s.jsx(fa,{className:"w-5 h-5 text-[#F59E0B]"}),""]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-center py-6 text-[#666]",children:"..."})})]});const c=t.filter(h=>!h.&&h.>0).slice(0,3),d=t.filter(h=>h.).slice(0,2);return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ge,{className:"flex items-center gap-2 text-[#1A202C]",children:[s.jsx(fa,{className:"w-5 h-5 text-[#F59E0B]"}),""]}),s.jsxs("button",{onClick:e,className:"text-[#39B7FF] hover:text-[#2997d9] transition-colors flex items-center gap-1 text-sm",style:{fontWeight:"600"},children:["",s.jsx(mf,{className:"w-4 h-4"})]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 rounded-xl bg-[#10B981]/5",children:[s.jsx("div",{className:"text-[#666] text-xs mb-1",children:""}),s.jsxs("div",{className:"text-[#1A202C]",style:{fontSize:"20px",fontWeight:"700"},children:[n.completed||0,"/",n.total||0]})]}),s.jsxs("div",{className:"p-3 rounded-xl bg-[#39B7FF]/5",children:[s.jsx("div",{className:"text-[#666] text-xs mb-1",children:" "}),s.jsx("div",{className:"text-[#1A202C]",style:{fontSize:"20px",fontWeight:"700"},children:n.inProgress||0})]})]}),d.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-[#666] text-xs",style:{fontWeight:"600"},children:" "}),d.map(h=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-[#10B981]/5 border border-[#10B981]/20",children:[s.jsx("div",{className:"text-2xl",children:h.}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[#1A202C] text-sm",style:{fontWeight:"600"},children:h.}),s.jsxs("div",{className:"text-[#666] text-xs flex items-center gap-1",children:[s.jsx(gf,{className:"w-3 h-3 text-[#10B981]"}),h.]})]})]},h.id))]}),c.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[#666] text-xs",style:{fontWeight:"600"},children:"  "}),c.map(h=>s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-xl",children:h.}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[#1A202C] text-sm",style:{fontWeight:"600"},children:h.}),s.jsxs("div",{className:"flex items-center justify-between text-xs mt-1 mb-2",children:[s.jsxs("span",{className:"text-[#666]",children:[h..toLocaleString("ru-RU")," / ",h..toLocaleString("ru-RU")]}),s.jsxs("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:[Math.round(h./h.*100),"%"]})]}),s.jsx(xf,{value:h./h.*100,className:"h-2",style:{backgroundColor:"#E6E9EE"}})]})]})},h.id))]}),c.length===0&&d.length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(fa,{className:"w-12 h-12 text-[#E6E9EE] mx-auto mb-3"}),s.jsx("p",{className:"text-[#666] text-sm",children:"    ,   !"})]})]})]})}function mv(e,[t,r]){return Math.min(r,Math.max(t,e))}function vNe(e){const t=yNe(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(wNe);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function yNe(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=NNe(i),l=jNe(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bNe=Symbol("radix.slottable");function wNe(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bNe}function jNe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function NNe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function A0(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var SNe=[" ","Enter","ArrowUp","ArrowDown"],ENe=[" ","Enter"],bc="Select",[P0,O0,_Ne]=wm(bc),[Gd]=ls(bc,[_Ne,ll]),T0=ll(),[CNe,pl]=Gd(bc),[kNe,ANe]=Gd(bc),qU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:m,disabled:p,required:x,form:b}=e,y=T0(t),[v,N]=w.useState(null),[j,E]=w.useState(null),[k,_]=w.useState(!1),A=Rd(d),[T,D]=Os({prop:n,defaultProp:i??!1,onChange:a,caller:bc}),[q,K]=Os({prop:o,defaultProp:l,onChange:c,caller:bc}),$=w.useRef(null),H=v?b||!!v.closest("form"):!0,[W,B]=w.useState(new Set),M=Array.from(W).map(z=>z.props.value).join(";");return s.jsx(Vv,{...y,children:s.jsxs(CNe,{required:x,scope:t,trigger:v,onTriggerChange:N,valueNode:j,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:_,contentId:As(),value:q,onValueChange:K,open:T,onOpenChange:D,dir:A,triggerPointerDownPosRef:$,disabled:p,children:[s.jsx(P0.Provider,{scope:t,children:s.jsx(kNe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(z=>{B(P=>new Set(P).add(z))},[]),onNativeOptionRemove:w.useCallback(z=>{B(P=>{const C=new Set(P);return C.delete(z),C})},[]),children:r})}),H?s.jsxs(fV,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:m,value:q,onChange:z=>K(z.target.value),disabled:p,form:b,children:[q===void 0?s.jsx("option",{value:""}):null,Array.from(W)]},M):null]})})};qU.displayName=bc;var HU="SelectTrigger",KU=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=T0(r),o=pl(HU,r),l=o.disabled||n,c=Mt(t,o.onTriggerChange),d=O0(r),h=w.useRef("touch"),[m,p,x]=pV(y=>{const v=d().filter(E=>!E.disabled),N=v.find(E=>E.value===o.value),j=gV(v,y,N);j!==void 0&&o.onValueChange(j.value)}),b=y=>{l||(o.onOpenChange(!0),x()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Sm,{asChild:!0,...a,children:s.jsx(xt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mV(o.value)?"":void 0,...i,ref:c,onClick:Je(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&b(y)}),onPointerDown:Je(i.onPointerDown,y=>{h.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Je(i.onKeyDown,y=>{const v=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(v&&y.key===" ")&&SNe.includes(y.key)&&(b(),y.preventDefault())})})})});KU.displayName=HU;var GU="SelectValue",YU=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=pl(GU,r),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,m=Mt(t,c.onValueNodeChange);return Qr(()=>{d(h)},[d,h]),s.jsx(xt.span,{...l,ref:m,style:{pointerEvents:"none"},children:mV(c.value)?s.jsx(s.Fragment,{children:o}):a})});YU.displayName=GU;var PNe="SelectIcon",XU=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(xt.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});XU.displayName=PNe;var ONe="SelectPortal",QU=e=>s.jsx(Td,{asChild:!0,...e});QU.displayName=ONe;var wc="SelectContent",JU=w.forwardRef((e,t)=>{const r=pl(wc,e.__scopeSelect),[n,i]=w.useState();if(Qr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Ad.createPortal(s.jsx(ZU,{scope:e.__scopeSelect,children:s.jsx(P0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(eV,{...e,ref:t})});JU.displayName=wc;var Li=10,[ZU,gl]=Gd(wc),TNe="SelectContentImpl",RNe=vNe("SelectContent.RemoveScroll"),eV=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:v,...N}=e,j=pl(wc,r),[E,k]=w.useState(null),[_,A]=w.useState(null),T=Mt(t,ae=>k(ae)),[D,q]=w.useState(null),[K,$]=w.useState(null),H=O0(r),[W,B]=w.useState(!1),M=w.useRef(!1);w.useEffect(()=>{if(E)return Mv(E)},[E]),Ov();const z=w.useCallback(ae=>{const[ue,...pe]=H().map(X=>X.ref.current),[ee]=pe.slice(-1),xe=document.activeElement;for(const X of ae)if(X===xe||(X?.scrollIntoView({block:"nearest"}),X===ue&&_&&(_.scrollTop=0),X===ee&&_&&(_.scrollTop=_.scrollHeight),X?.focus(),document.activeElement!==xe))return},[H,_]),P=w.useCallback(()=>z([D,E]),[z,D,E]);w.useEffect(()=>{W&&P()},[W,P]);const{onOpenChange:C,triggerPointerDownPosRef:L}=j;w.useEffect(()=>{if(E){let ae={x:0,y:0};const ue=ee=>{ae={x:Math.abs(Math.round(ee.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(L.current?.y??0))}},pe=ee=>{ae.x<=10&&ae.y<=10?ee.preventDefault():E.contains(ee.target)||C(!1),document.removeEventListener("pointermove",ue),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",pe,{capture:!0})}}},[E,C,L]),w.useEffect(()=>{const ae=()=>C(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[C]);const[U,R]=pV(ae=>{const ue=H().filter(xe=>!xe.disabled),pe=ue.find(xe=>xe.ref.current===document.activeElement),ee=gV(ue,ae,pe);ee&&setTimeout(()=>ee.ref.current.focus())}),I=w.useCallback((ae,ue,pe)=>{const ee=!M.current&&!pe;(j.value!==void 0&&j.value===ue||ee)&&(q(ae),ee&&(M.current=!0))},[j.value]),V=w.useCallback(()=>E?.focus(),[E]),re=w.useCallback((ae,ue,pe)=>{const ee=!M.current&&!pe;(j.value!==void 0&&j.value===ue||ee)&&$(ae)},[j.value]),ce=n==="popper"?WE:tV,me=ce===WE?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:v}:{};return s.jsx(ZU,{scope:r,content:E,viewport:_,onViewportChange:A,itemRefCallback:I,selectedItem:D,onItemLeave:V,itemTextRefCallback:re,focusSelectedItem:P,selectedItemText:K,position:n,isPositioned:W,searchRef:U,children:s.jsx(bm,{as:RNe,allowPinchZoom:!0,children:s.jsx(ym,{asChild:!0,trapped:j.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Je(i,ae=>{j.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:s.jsx(Od,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:s.jsx(ce,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ae=>ae.preventDefault(),...N,...me,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Je(N.onKeyDown,ae=>{const ue=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ue&&ae.key.length===1&&R(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ee=H().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const xe=ae.target,X=ee.indexOf(xe);ee=ee.slice(X+1)}setTimeout(()=>z(ee)),ae.preventDefault()}})})})})})})});eV.displayName=TNe;var MNe="SelectItemAlignedPosition",tV=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=pl(wc,r),o=gl(wc,r),[l,c]=w.useState(null),[d,h]=w.useState(null),m=Mt(t,T=>h(T)),p=O0(r),x=w.useRef(!1),b=w.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:N,focusSelectedItem:j}=o,E=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&y&&v&&N){const T=a.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),K=N.getBoundingClientRect();if(a.dir!=="rtl"){const xe=K.left-D.left,X=q.left-xe,fe=T.left-X,de=T.width+fe,te=Math.max(de,D.width),he=window.innerWidth-Li,we=mv(X,[Li,Math.max(Li,he-te)]);l.style.minWidth=de+"px",l.style.left=we+"px"}else{const xe=D.right-K.right,X=window.innerWidth-q.right-xe,fe=window.innerWidth-T.right-X,de=T.width+fe,te=Math.max(de,D.width),he=window.innerWidth-Li,we=mv(X,[Li,Math.max(Li,he-te)]);l.style.minWidth=de+"px",l.style.right=we+"px"}const $=p(),H=window.innerHeight-Li*2,W=y.scrollHeight,B=window.getComputedStyle(d),M=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),P=parseInt(B.borderBottomWidth,10),C=parseInt(B.paddingBottom,10),L=M+z+W+C+P,U=Math.min(v.offsetHeight*5,L),R=window.getComputedStyle(y),I=parseInt(R.paddingTop,10),V=parseInt(R.paddingBottom,10),re=T.top+T.height/2-Li,ce=H-re,me=v.offsetHeight/2,ae=v.offsetTop+me,ue=M+z+ae,pe=L-ue;if(ue<=re){const xe=$.length>0&&v===$[$.length-1].ref.current;l.style.bottom="0px";const X=d.clientHeight-y.offsetTop-y.offsetHeight,fe=Math.max(ce,me+(xe?V:0)+X+P),de=ue+fe;l.style.height=de+"px"}else{const xe=$.length>0&&v===$[0].ref.current;l.style.top="0px";const fe=Math.max(re,M+y.offsetTop+(xe?I:0)+me)+pe;l.style.height=fe+"px",y.scrollTop=ue-re+y.offsetTop}l.style.margin=`${Li}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=H+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[p,a.trigger,a.valueNode,l,d,y,v,N,a.dir,n]);Qr(()=>E(),[E]);const[k,_]=w.useState();Qr(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const A=w.useCallback(T=>{T&&b.current===!0&&(E(),j?.(),b.current=!1)},[E,j]);return s.jsx(DNe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:A,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(xt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tV.displayName=MNe;var INe="SelectPopperPosition",WE=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Li,...a}=e,o=T0(r);return s.jsx(qv,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WE.displayName=INe;var[DNe,Uk]=Gd(wc,{}),UE="SelectViewport",rV=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=gl(UE,r),o=Uk(UE,r),l=Mt(t,a.onViewportChange),c=w.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(P0.Slot,{scope:r,children:s.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Je(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p?.current&&m){const x=Math.abs(c.current-h.scrollTop);if(x>0){const b=window.innerHeight-Li*2,y=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),N=Math.max(y,v);if(N<b){const j=N+x,E=Math.min(b,j),k=j-E;m.style.height=E+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});rV.displayName=UE;var nV="SelectGroup",[FNe,$Ne]=Gd(nV),LNe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=As();return s.jsx(FNe,{scope:r,id:i,children:s.jsx(xt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});LNe.displayName=nV;var sV="SelectLabel",BNe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=$Ne(sV,r);return s.jsx(xt.div,{id:i.id,...n,ref:t})});BNe.displayName=sV;var pv="SelectItem",[zNe,iV]=Gd(pv),aV=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=pl(pv,r),c=gl(pv,r),d=l.value===n,[h,m]=w.useState(a??""),[p,x]=w.useState(!1),b=Mt(t,j=>c.itemRefCallback?.(j,n,i)),y=As(),v=w.useRef("touch"),N=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(zNe,{scope:r,value:n,disabled:i,textId:y,isSelected:d,onItemTextChange:w.useCallback(j=>{m(E=>E||(j?.textContent??"").trim())},[]),children:s.jsx(P0.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:s.jsx(xt.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:Je(o.onFocus,()=>x(!0)),onBlur:Je(o.onBlur,()=>x(!1)),onClick:Je(o.onClick,()=>{v.current!=="mouse"&&N()}),onPointerUp:Je(o.onPointerUp,()=>{v.current==="mouse"&&N()}),onPointerDown:Je(o.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:Je(o.onPointerMove,j=>{v.current=j.pointerType,i?c.onItemLeave?.():v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(o.onPointerLeave,j=>{j.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Je(o.onKeyDown,j=>{c.searchRef?.current!==""&&j.key===" "||(ENe.includes(j.key)&&N(),j.key===" "&&j.preventDefault())})})})})});aV.displayName=pv;var Xh="SelectItemText",oV=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=pl(Xh,r),l=gl(Xh,r),c=iV(Xh,r),d=ANe(Xh,r),[h,m]=w.useState(null),p=Mt(t,N=>m(N),c.onItemTextChange,N=>l.itemTextRefCallback?.(N,c.value,c.disabled)),x=h?.textContent,b=w.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=d;return Qr(()=>(y(b),()=>v(b)),[y,v,b]),s.jsxs(s.Fragment,{children:[s.jsx(xt.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ad.createPortal(a.children,o.valueNode):null]})});oV.displayName=Xh;var lV="SelectItemIndicator",cV=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return iV(lV,r).isSelected?s.jsx(xt.span,{"aria-hidden":!0,...n,ref:t}):null});cV.displayName=lV;var VE="SelectScrollUpButton",uV=w.forwardRef((e,t)=>{const r=gl(VE,e.__scopeSelect),n=Uk(VE,e.__scopeSelect),[i,a]=w.useState(!1),o=Mt(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(hV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uV.displayName=VE;var qE="SelectScrollDownButton",dV=w.forwardRef((e,t)=>{const r=gl(qE,e.__scopeSelect),n=Uk(qE,e.__scopeSelect),[i,a]=w.useState(!1),o=Mt(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(hV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dV.displayName=qE;var hV=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=gl("SelectScrollButton",r),o=w.useRef(null),l=O0(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Qr(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(xt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Je(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Je(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Je(i.onPointerLeave,()=>{c()})})}),WNe="SelectSeparator",UNe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(xt.div,{"aria-hidden":!0,...n,ref:t})});UNe.displayName=WNe;var HE="SelectArrow",VNe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=T0(r),a=pl(HE,r),o=gl(HE,r);return a.open&&o.position==="popper"?s.jsx(Hv,{...i,...n,ref:t}):null});VNe.displayName=HE;var qNe="SelectBubbleInput",fV=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=w.useRef(null),a=Mt(n,i),o=A0(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const m=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(xt.select,{...r,style:{...qB,...r.style},ref:a,defaultValue:t})});fV.displayName=qNe;function mV(e){return e===""||e===void 0}function pV(e){const t=Ki(e),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const l=r.current+o;t(l),(function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function gV(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=HNe(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function HNe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KNe=qU,GNe=KU,YNe=YU,XNe=XU,QNe=QU,JNe=JU,ZNe=rV,eSe=aV,tSe=oV,rSe=cV,nSe=uV,sSe=dV;function qn({...e}){return s.jsx(KNe,{"data-slot":"select",...e})}function Hn({...e}){return s.jsx(YNe,{"data-slot":"select-value",...e})}function Kn({className:e,size:t="default",children:r,...n}){return s.jsxs(GNe,{"data-slot":"select-trigger","data-size":t,className:ut("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(XNe,{asChild:!0,children:s.jsx(ns,{className:"size-4 opacity-50"})})]})}function Gn({className:e,children:t,position:r="popper",...n}){return s.jsx(QNe,{children:s.jsxs(JNe,{"data-slot":"select-content",className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(iSe,{}),s.jsx(ZNe,{className:ut("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(aSe,{})]})})}function gt({className:e,children:t,...r}){return s.jsxs(eSe,{"data-slot":"select-item",className:ut("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(rSe,{children:s.jsx(Hi,{className:"size-4"})})}),s.jsx(tSe,{children:t})]})}function iSe({className:e,...t}){return s.jsx(nSe,{"data-slot":"select-scroll-up-button",className:ut("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ic,{className:"size-4"})})}function aSe({className:e,...t}){return s.jsx(sSe,{"data-slot":"select-scroll-down-button",className:ut("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ns,{className:"size-4"})})}function oSe({earnings:e,orders:t,team:r,currentUser:n}){const[i,a]=w.useState("30d"),[o,l]=w.useState([]),[c,d]=w.useState([]),[h,m]=w.useState({}),[p,x]=w.useState(5),[b,y]=w.useState(null),[v,N]=w.useState([]);w.useEffect(()=>{j()},[i,e,t,r]);const j=()=>{const _=new Date,A=i==="7d"?1:i==="30d"?3:i==="90d"?6:12,T=[];for(let I=A-1;I>=0;I--){const V=new Date(_.getFullYear(),_.getMonth()-I,1),re=new Date(_.getFullYear(),_.getMonth()-I+1,1),ce=e.filter(ae=>{const ue=new Date(ae.||ae.createdAt);return ue>=V&&ue<re}).reduce((ae,ue)=>ae+(ue.||ue.amount||0),0),me=t.filter(ae=>{const ue=new Date(ae.||ae.||ae.createdAt);return ue>=V&&ue<re}).length;T.push({:V.toLocaleDateString("ru-RU",{month:"short",year:"2-digit"}),:ce,:me})}l(T);const D=[];let q=0;for(let I=A-1;I>=0;I--){const V=new Date(_.getFullYear(),_.getMonth()-I,1),re=new Date(_.getFullYear(),_.getMonth()-I+1,1),ce=r.filter(me=>{const ae=new Date(me.||me.||me.createdAt);return ae>=V&&ae<re}).length;q+=ce,D.push({:V.toLocaleDateString("ru-RU",{month:"short"}),:q,:ce})}d(D);const K=i==="7d"?7:i==="30d"?30:i==="90d"?90:365,$=new Date(_.getTime()-K*24*60*60*1e3),H=new Date($.getTime()-K*24*60*60*1e3),W=e.filter(I=>new Date(I.||I.createdAt)>=$).reduce((I,V)=>I+(V.||V.amount||0),0),B=e.filter(I=>{const V=new Date(I.||I.createdAt);return V>=H&&V<$}).reduce((I,V)=>I+(V.||V.amount||0),0),M=t.filter(I=>new Date(I.||I.||I.createdAt)>=$).length,z=t.filter(I=>{const V=new Date(I.||I.||I.createdAt);return V>=H&&V<$}).length,P=r.filter(I=>new Date(I.||I.||I.createdAt)>=$).length,C=r.filter(I=>{const V=new Date(I.||I.||I.createdAt);return V>=H&&V<$}).length;m({currentRevenue:W,previousRevenue:B,revenueChange:B>0?(W-B)/B*100:100,currentOrders:M,previousOrders:z,ordersChange:z>0?(M-z)/z*100:100,currentTeam:P,previousTeam:C,teamChange:C>0?(P-C)/C*100:100});const L=r.length,U=r.filter(I=>t.some(re=>{const ce=new Date(re.||re.||re.createdAt),me=new Date(_.getTime()-720*60*60*1e3);return re.Id===I.id&&ce>=me})).length,R=r.filter(I=>I.>=2).length;N([{name:" ",value:L,percentage:100,color:"#39B7FF"},{name:"",value:U,percentage:L>0?U/L*100:0,color:"#12C9B6"},{name:"",value:R,percentage:L>0?R/L*100:0,color:"#F59E0B"}])},E=()=>{const _=r.length>0?e.reduce((K,$)=>K+($.||$.amount||0),0)/r.length/12:500,A=h.currentRevenue||0,T=A+p*_,D=T-A,q=A>0?D/A*100:100;y({currentEarnings:A,projectedEarnings:T,increase:D,increasePercent:q,avgPerPartner:_})},k=()=>{switch(i){case"7d":return" 7 ";case"30d":return" 30 ";case"90d":return" 90 ";case"1y":return" ";default:return""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-[#1E1E1E]",style:{fontSize:"20px",fontWeight:"700"},children:"  "}),s.jsxs(qn,{value:i,onValueChange:_=>a(_),children:[s.jsx(Kn,{className:"w-[180px]",children:s.jsx(Hn,{placeholder:" "})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"7d",children:"7 "}),s.jsx(gt,{value:"30d",children:"30 "}),s.jsx(gt,{value:"90d",children:"90 "}),s.jsx(gt,{value:"1y",children:"1 "})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Ga,{className:"w-5 h-5"}),"   "]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#666] text-sm",children:""}),s.jsx(Wn,{className:"w-5 h-5 text-blue-600"})]}),s.jsxs("div",{className:"text-2xl font-bold text-[#1E1E1E] mb-1",children:["",(h.currentRevenue||0).toLocaleString()]}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${h.revenueChange>=0?"text-green-600":"text-red-600"}`,children:[h.revenueChange>=0?s.jsx($t,{className:"w-4 h-4"}):s.jsx(Fb,{className:"w-4 h-4"}),Math.abs(h.revenueChange||0).toFixed(1),"% vs  "]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#666] text-sm",children:""}),s.jsx(Ns,{className:"w-5 h-5 text-purple-600"})]}),s.jsx("div",{className:"text-2xl font-bold text-[#1E1E1E] mb-1",children:h.currentOrders||0}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${h.ordersChange>=0?"text-green-600":"text-red-600"}`,children:[h.ordersChange>=0?s.jsx($t,{className:"w-4 h-4"}):s.jsx(Fb,{className:"w-4 h-4"}),Math.abs(h.ordersChange||0).toFixed(1),"% vs  "]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[#666] text-sm",children:" "}),s.jsx(Ot,{className:"w-5 h-5 text-green-600"})]}),s.jsx("div",{className:"text-2xl font-bold text-[#1E1E1E] mb-1",children:h.currentTeam||0}),s.jsxs("div",{className:`flex items-center gap-1 text-sm ${h.teamChange>=0?"text-green-600":"text-red-600"}`,children:[h.teamChange>=0?s.jsx($t,{className:"w-4 h-4"}):s.jsx(Fb,{className:"w-4 h-4"}),Math.abs(h.teamChange||0).toFixed(1),"% vs  "]})]})]})})]}),s.jsxs(Ni,{defaultValue:"revenue",className:"w-full",children:[s.jsxs(Si,{className:"grid w-full grid-cols-2",children:[s.jsx(Dt,{value:"revenue",children:" "}),s.jsx(Dt,{value:"team",children:" "})]}),s.jsx(Vt,{value:"revenue",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E]",children:["  ",k()]})}),s.jsx(Ee,{children:s.jsx(Qo,{width:"100%",height:350,children:s.jsxs(ok,{data:o,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#39B7FF",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#39B7FF",stopOpacity:0})]})}),s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E6E9EE"}),s.jsx(ei,{dataKey:"",stroke:"#666",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#666",style:{fontSize:"12px"},tickFormatter:_=>`${_}`}),s.jsx(En,{contentStyle:{backgroundColor:"white",border:"1px solid #E6E9EE",borderRadius:"8px"},formatter:(_,A)=>[A===""?`${_.toLocaleString()}`:_,A===""?"":""]}),s.jsx(_a,{type:"monotone",dataKey:"",stroke:"#39B7FF",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]})}),s.jsx(Vt,{value:"team",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E]",children:["  ",k()]})}),s.jsx(Ee,{children:s.jsx(Qo,{width:"100%",height:350,children:s.jsxs(ov,{data:c,children:[s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E6E9EE"}),s.jsx(ei,{dataKey:"",stroke:"#666",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#666",style:{fontSize:"12px"}}),s.jsx(En,{contentStyle:{backgroundColor:"white",border:"1px solid #E6E9EE",borderRadius:"8px"},formatter:(_,A)=>[_,A===""?" ":"  "]}),s.jsx(ja,{dataKey:"",fill:"#12C9B6",radius:[8,8,0,0]})]})})})]})})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5"}),"  "]})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"space-y-4",children:v.map((_,A)=>s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_.color}}),s.jsx("span",{className:"text-[#1E1E1E] font-semibold",children:_.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-[#1E1E1E] font-bold text-lg",children:_.value}),s.jsxs("span",{className:"text-[#666] text-sm ml-2",children:["(",_.percentage.toFixed(0),"%)"]})]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${_.percentage}%`,backgroundColor:_.color}})}),A<v.length-1&&s.jsx("div",{className:"flex justify-center my-2",children:s.jsx(dc,{className:"w-5 h-5 text-gray-400 rotate-90"})})]},A))}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-900 font-semibold mb-1",children:"   :"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"      "}),s.jsx("li",{children:"     "}),s.jsx("li",{children:"       "})]})]})]})})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-gradient-to-br from-amber-50 to-orange-50",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5 text-orange-600"}),"  "]})}),s.jsxs(Ee,{children:[s.jsx("p",{className:"text-[#666] mb-4 text-sm",children:",        "}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm text-[#666] mb-2 block",children:"    ?"}),s.jsx(Ie,{type:"number",min:"1",max:"100",value:p,onChange:_=>x(parseInt(_.target.value)||1),className:"w-full"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(ie,{onClick:E,className:"bg-orange-500 hover:bg-orange-600 text-white",children:""})})]}),b&&s.jsxs("div",{className:"mt-6 p-5 bg-white rounded-xl border-2 border-orange-200",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#666] mb-1",children:"   :"}),s.jsxs("p",{className:"text-2xl font-bold text-[#1E1E1E]",children:["",b.currentEarnings.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#666] mb-1",children:" :"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",b.projectedEarnings.toLocaleString()]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[#666]",children:" :"}),s.jsxs("p",{className:"text-xl font-bold text-green-600",children:["+",b.increase.toLocaleString()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-[#666]",children:":"}),s.jsxs("div",{className:"flex items-center gap-1 text-xl font-bold text-green-600",children:[s.jsx($t,{className:"w-5 h-5"}),"+",b.increasePercent.toFixed(0),"%"]})]})]})}),s.jsx("div",{className:"mt-4 p-3 bg-amber-50 rounded-lg",children:s.jsxs("p",{className:"text-xs text-amber-800",children:["      ",b.avgPerPartner.toFixed(0),"    "]})})]})]})]})]})}function Vk({stats:e,activeFilter:t,onFilterClick:r}){const n=[{id:"all",label:"",value:e.totalUsers,icon:t9,gradient:"from-[#39B7FF] to-[#12C9B6]"},{id:"newToday",label:" ",value:e.newToday,icon:ac,gradient:"from-green-400 to-emerald-500",prefix:"+"},{id:"activePartners",label:" ",value:e.activePartners,icon:ex,gradient:"from-orange-400 to-amber-500"},{id:"activeUsers",label:"  ",value:e.activeUsers,icon:pf,gradient:"from-purple-400 to-violet-500"},{id:"totalBalance",label:" ",value:e.totalBalance,icon:On,gradient:"from-emerald-400 to-green-500",prefix:"",isCurrency:!0},{id:"newThisMonth",label:"  ",value:e.newThisMonth,icon:$t,gradient:"from-blue-400 to-cyan-500",prefix:"+"},{id:"passivePartners",label:" ",value:e.passivePartners,icon:to,gradient:"from-gray-400 to-slate-500"},{id:"passiveUsers",label:"  ",value:e.passiveUsers,icon:bJ,gradient:"from-red-400 to-rose-500"}];return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2.5 mb-2.5",children:n.map(i=>{const a=i.icon,o=t===i.id;return s.jsx("button",{onClick:()=>r(i.id),disabled:!1,className:`
              bg-white rounded-lg p-2.5 border transition-all duration-200
              ${o?"border-[#39B7FF] shadow-lg ring-2 ring-[#39B7FF]/30 scale-[1.02]":"border-[#E6E9EE] shadow-sm"}
              hover:shadow-md hover:border-[#39B7FF]/40 cursor-pointer
            `,children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${i.gradient} rounded-lg flex items-center justify-center shrink-0`,children:s.jsx(a,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[s.jsx("p",{className:"text-[11px] text-[#666] mb-2.5 truncate leading-tight",children:i.label}),s.jsxs("p",{className:"text-lg font-bold text-[#1E1E1E] leading-none",children:[i.isCurrency&&i.prefix,i.value.toLocaleString("ru-RU"),!i.isCurrency&&i.prefix?` ${i.prefix}`:""]})]})]})},i.id)})})}var $m=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lSe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cSe=class{#e=lSe;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},nc=new cSe;function uSe(e){setTimeout(e,0)}var jc=typeof window>"u"||"Deno"in globalThis;function bs(){}function dSe(e,t){return typeof e=="function"?e(t):e}function KE(e){return typeof e=="number"&&e>=0&&e!==1/0}function xV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zo(e,t){return typeof e=="function"?e(t):e}function mi(e,t){return typeof e=="function"?e(t):e}function cF(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==qk(o,t.options))return!1}else if(!cm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function uF(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(lm(t.options.mutationKey)!==lm(a))return!1}else if(!cm(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function qk(e,t){return(t?.queryKeyHashFn||lm)(e)}function lm(e){return JSON.stringify(e,(t,r)=>YE(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function cm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>cm(e[r],t[r])):!1}var hSe=Object.prototype.hasOwnProperty;function vV(e,t){if(e===t)return e;const r=dF(e)&&dF(t);if(!r&&!(YE(e)&&YE(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=r?d:a[d],m=e[h],p=t[h];if(m===p){l[h]=m,(r?d<i:hSe.call(e,h))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[h]=p;continue}const x=vV(m,p);l[h]=x,x===m&&c++}return i===o&&c===i?e:l}function GE(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function dF(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function YE(e){if(!hF(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!hF(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hF(e){return Object.prototype.toString.call(e)==="[object Object]"}function fSe(e){return new Promise(t=>{nc.setTimeout(t,e)})}function XE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vV(e,t):t}function mSe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function pSe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Hk=Symbol();function yV(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Hk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gSe(e,t){return typeof e=="function"?e(...t):!!e}var xSe=class extends $m{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!jc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Kk=new xSe;function QE(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var vSe=uSe;function ySe(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=vSe;const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Cn=ySe(),bSe=class extends $m{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!jc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},gv=new bSe;function wSe(e){return Math.min(1e3*2**e,3e4)}function bV(e){return(e??"online")==="online"?gv.isOnline():!0}var JE=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function wV(e){let t=!1,r=0,n;const i=QE(),a=()=>i.status!=="pending",o=y=>{if(!a()){const v=new JE(y);p(v),e.onCancel?.(v)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>Kk.isFocused()&&(e.networkMode==="always"||gv.isOnline())&&e.canRun(),h=()=>bV(e.networkMode)&&e.canRun(),m=y=>{a()||(n?.(),i.resolve(y))},p=y=>{a()||(n?.(),i.reject(y))},x=()=>new Promise(y=>{n=v=>{(a()||d())&&y(v)},e.onPause?.()}).then(()=>{n=void 0,a()||e.onContinue?.()}),b=()=>{if(a())return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(N){y=Promise.reject(N)}Promise.resolve(y).then(m).catch(N=>{if(a())return;const j=e.retry??(jc?0:3),E=e.retryDelay??wSe,k=typeof E=="function"?E(r,N):E,_=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,N);if(t||!_){p(N);return}r++,e.onFail?.(r,N),fSe(k).then(()=>d()?void 0:x()).then(()=>{t?p(N):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():x().then(b),i)}}var jV=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KE(this.gcTime)&&(this.#e=nc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(nc.clearTimeout(this.#e),this.#e=void 0)}},jSe=class extends jV{#e;#t;#r;#s;#n;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#r=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=mF(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=mF(this.options);t.data!==void 0&&(this.setState(fF(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=XE(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>mi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xV(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{const l=yV(this.options,t),d=(()=>{const h={client:this.#s,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#a=!1,this.options.persister?this.options.persister(l,d,this):l(d)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=wV({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof JE&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#n.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof JE){if(l.silent)return this.#n.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NV(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...fF(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function NV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bV(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fF(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var NSe=class extends $m{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#a=QE(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#s=void 0;#n;#o;#a;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pF(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ZE(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ZE(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),t._defaulted&&!GE(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&gF(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||mi(this.options.enabled,this.#t)!==mi(t.enabled,this.#t)||Zo(this.options.staleTime,this.#t)!==Zo(t.staleTime,this.#t))&&this.#g();const i=this.#x();n&&(this.#t!==r||mi(this.options.enabled,this.#t)!==mi(t.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return ESe(this,r)&&(this.#s=r,this.#o=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#j();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(bs)),t}#g(){this.#b();const e=Zo(this.options.staleTime,this.#t);if(jc||this.#s.isStale||!KE(e))return;const r=xV(this.#s.dataUpdatedAt,e)+1;this.#c=nc.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(jc||mi(this.options.enabled,this.#t)===!1||!KE(this.#l)||this.#l===0)&&(this.#u=nc.setInterval(()=>{(this.options.refetchIntervalInBackground||Kk.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(nc.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(nc.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,i=this.#s,a=this.#n,o=this.#o,c=e!==r?e.state:this.#r,{state:d}=e;let h={...d},m=!1,p;if(t._optimisticResults){const D=this.hasListeners(),q=!D&&pF(e,t),K=D&&gF(e,r,t,n);(q||K)&&(h={...h,...NV(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:y}=h;p=h.data;let v=!1;if(t.placeholderData!==void 0&&p===void 0&&y==="pending"){let D;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(D=i.data,v=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,D!==void 0&&(y="success",p=XE(i?.data,D,t),m=!0)}if(t.select&&p!==void 0&&!v)if(i&&p===a?.data&&t.select===this.#p)p=this.#h;else try{this.#p=t.select,p=t.select(p),p=XE(i?.data,p,t),this.#h=p,this.#i=null}catch(D){this.#i=D}this.#i&&(x=this.#i,p=this.#h,b=Date.now(),y="error");const N=h.fetchStatus==="fetching",j=y==="pending",E=y==="error",k=j&&N,_=p!==void 0,T={status:y,fetchStatus:h.fetchStatus,isPending:j,isSuccess:y==="success",isError:E,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:N,isRefetching:N&&!j,isLoadingError:E&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:E&&_,isStale:Gk(e,t),refetch:this.refetch,promise:this.#a,isEnabled:mi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=$=>{T.status==="error"?$.reject(T.error):T.data!==void 0&&$.resolve(T.data)},q=()=>{const $=this.#a=T.promise=QE();D($)},K=this.#a;switch(K.status){case"pending":e.queryHash===r.queryHash&&D(K);break;case"fulfilled":(T.status==="error"||T.data!==K.value)&&q();break;case"rejected":(T.status!=="error"||T.error!==K.reason)&&q();break}}return T}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#f=this.#t),GE(t,e))return;this.#s=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#m.size)return!0;const a=new Set(i??this.#m);return this.options.throwOnError&&a.add("error"),Object.keys(this.#s).some(o=>{const l=o;return this.#s[l]!==e[l]&&a.has(l)})};this.#N({listeners:r()})}#j(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){Cn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function SSe(e,t){return mi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pF(e,t){return SSe(e,t)||e.state.data!==void 0&&ZE(e,t,t.refetchOnMount)}function ZE(e,t,r){if(mi(t.enabled,e)!==!1&&Zo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Gk(e,t)}return!1}function gF(e,t,r,n){return(e!==t||mi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Gk(e,r)}function Gk(e,t){return mi(t.enabled,e)!==!1&&e.isStaleByTime(Zo(t.staleTime,e))}function ESe(e,t){return!GE(e.getCurrentResult(),t)}function xF(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let h=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},p=yV(t.options,t.fetchOptions),x=async(b,y,v)=>{if(h)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const j=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:y,direction:v?"backward":"forward",meta:t.options.meta};return m(A),A})(),E=await p(j),{maxPages:k}=t.options,_=v?pSe:mSe;return{pages:_(b.pages,E,k),pageParams:_(b.pageParams,y,k)}};if(i&&a.length){const b=i==="backward",y=b?_Se:vF,v={pages:a,pageParams:o},N=y(n,v);l=await x(v,N,b)}else{const b=e??a.length;do{const y=c===0?o[0]??n.initialPageParam:vF(n,l);if(c>0&&y==null)break;l=await x(l,y),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function vF(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function _Se(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var CSe=class extends jV{#e;#t;#r;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||kSe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=wV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#n({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",i=!this.#s.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:i}),await this.#r.config.onMutate?.(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:i})}const a=await this.#s.start();return await this.#r.config.onSuccess?.(a,e,this.state.context,this,r),await this.options.onSuccess?.(a,e,this.state.context,r),await this.#r.config.onSettled?.(a,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(a,null,e,this.state.context,r),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#r.config.onError?.(a,e,this.state.context,this,r),await this.options.onError?.(a,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,a,e,this.state.context,r),a}finally{this.#n({type:"error",error:a})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Cn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function kSe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ASe=class extends $m{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new CSe({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Eg(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Eg(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Eg(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Eg(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Cn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>uF(t,r))}findAll(e={}){return this.getAll().filter(t=>uF(e,t))}notify(e){Cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Cn.batch(()=>Promise.all(e.map(t=>t.continue().catch(bs))))}};function Eg(e){return e.options.scope?.id}var PSe=class extends $m{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,i=t.queryHash??qk(n,t);let a=this.get(i);return a||(a=new jSe({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>cF(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>cF(e,r)):t}notify(e){Cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},OSe=class{#e;#t;#r;#s;#n;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new PSe,this.#t=e.mutationCache||new ASe,this.#r=e.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Kk.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Zo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(n.queryHash)?.state.data,o=dSe(t,a);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Cn.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Cn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Cn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Cn.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(bs).catch(bs)}invalidateQueries(e,t={}){return Cn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Cn.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(bs)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(bs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Zo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bs).catch(bs)}fetchInfiniteQuery(e){return e.behavior=xF(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bs).catch(bs)}ensureInfiniteQueryData(e){return e.behavior=xF(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#s.set(lm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],r={};return t.forEach(n=>{cm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(lm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{cm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hk&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},SV=w.createContext(void 0),Lm=e=>{const t=w.useContext(SV);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},TSe=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(SV.Provider,{value:e,children:t})),EV=w.createContext(!1),RSe=()=>w.useContext(EV);EV.Provider;function MSe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ISe=w.createContext(MSe()),DSe=()=>w.useContext(ISe),FSe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$Se=e=>{w.useEffect(()=>{e.clearReset()},[e])},LSe=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||gSe(r,[e.error,n])),BSe=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},zSe=(e,t)=>e.isLoading&&e.isFetching&&!t,WSe=(e,t)=>e?.suspense&&t.isPending,yF=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function USe(e,t,r){const n=RSe(),i=DSe(),a=Lm(),o=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",BSe(o),FSe(o,i),$Se(i);const l=!a.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(a,o)),d=c.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(m=>{const p=h?c.subscribe(Cn.batchCalls(m)):bs;return c.updateResult(),p},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),WSe(o,d))throw yF(o,c,i);if(LSe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!jc&&zSe(d,n)&&(l?yF(o,c,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(bs).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function Nc(e,t){return USe(e,NSe)}function VSe(e=!0){return Nc({queryKey:["orders"],queryFn:async()=>{console.log(" useDashboardData: Loading orders");const t=await kv();if(!t.success)throw new Error("Failed to load orders");return console.log(" useDashboardData: Loaded",t.orders?.length||0,"orders"),t.orders||[]},enabled:e,staleTime:3e4,cacheTime:3e5,retry:2,onError:t=>{console.error(" useDashboardData: Error loading orders:",t),Q.error("   ")}})}function qSe(e=!0){return Nc({queryKey:["earnings"],queryFn:async()=>{console.log(" useDashboardData: Loading earnings");const t=await Av();if(!t.success)throw new Error("Failed to load earnings");return console.log(" useDashboardData: Loaded",t.earnings?.length||0,"earnings"),t.earnings||[]},enabled:e,staleTime:3e4,cacheTime:3e5,retry:2,onError:t=>{console.error(" useDashboardData: Error loading earnings:",t),Q.error("   ")}})}function HSe(e){return Nc({queryKey:["adminStats"],queryFn:async()=>{console.log(" useDashboardData: Loading admin stats");const t=await u9();if(!t.success)throw new Error("Failed to load admin stats");return console.log(" useDashboardData: Loaded admin stats"),t.stats},enabled:e,staleTime:6e4,cacheTime:3e5,retry:2,onError:t=>{console.error(" useDashboardData: Error loading admin stats:",t)}})}function KSe(e,t="30d"){return w.useMemo(()=>{const r={"7d":7,"30d":30,"90d":90,"1y":365}[t],n=new Date,i=[];for(let a=r-1;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],c=e.filter(h=>new Date(h.createdAt||h.date).toISOString().split("T")[0]===l),d=c.reduce((h,m)=>h+(m.total||0),0);i.push({date:l,displayDate:o.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"}),orders:c.length,revenue:d})}return console.log(" Chart data calculated for",t,":",i.length,"points"),i},[e,t])}function GSe(e,t=5){return w.useMemo(()=>{const r=[...e].sort((n,i)=>{const a=new Date(n.createdAt||n.date).getTime();return new Date(i.createdAt||i.date).getTime()-a}).slice(0,t);return console.log(" Recent orders calculated:",r.length,"orders"),r},[e,t])}function YSe(e,t="30d"){return w.useMemo(()=>{const r={"7d":7,"30d":30,"90d":90,"1y":365}[t],n=new Date,i=[];for(let a=r-1;a>=0;a--){const o=new Date(n);o.setDate(o.getDate()-a);const l=o.toISOString().split("T")[0],c=e.filter(d=>new Date(d.||d.)<=o).length;i.push({date:l,displayDate:o.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit"}),count:c})}return console.log(" Team growth data calculated:",i.length,"points"),i},[e,t])}function XSe(){const e=Lm();return async()=>{console.log(" Refreshing dashboard data"),await e.refetchQueries({queryKey:["orders"]}),await e.refetchQueries({queryKey:["earnings"]}),await e.refetchQueries({queryKey:["adminStats"]}),Q.success(" ")}}function QSe(e){return w.useMemo(()=>{const t=e.length,r=e.filter(i=>(i.||0)>0).length,n=e.filter(i=>i.&&i..length>0).length;return{total:t,active:r,leaders:n,activeRate:t>0?(r/t*100).toFixed(1):0,leaderRate:r>0?(n/r*100).toFixed(1):0}},[e])}function JSe(e,t=!0){return Nc({queryKey:["team",e],queryFn:async()=>{if(!e)throw new Error("User ID is required");console.log(" useTeamData: Loading team for user:",e);const r=await Cv(e);if(!r.success||!r.team)throw new Error("Failed to load team data");const n=r.team.filter(i=>i.id!==e);return console.log(" useTeamData: Loaded",n.length,"team members"),n},enabled:t&&!!e,staleTime:3e4,cacheTime:3e5,retry:2,onError:r=>{console.error(" useTeamData: Error loading team:",r),Q.error("    ")}})}function ZSe(e,t){const[r,n]=w.useState(()=>{try{const a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.error(`Error loading localStorage key "${e}":`,a),t}});return[r,a=>{try{n(a),window.localStorage.setItem(e,JSON.stringify(a)),console.log(` Saved to localStorage: ${e}`,a)}catch(o){console.error(`Error saving localStorage key "${e}":`,o)}}]}function e2e(e){const t=[[" ","","","",""]];e.forEach(r=>{t.push([r.||r.id||"-",new Date(r.||r.createdAt).toLocaleDateString("ru-RU"),r.||r.||"-",`${(r.||r.total||0).toLocaleString("ru-RU")}`,r.||r.status||"-"])}),Yk(t,`recent-orders-${new Date().toISOString().split("T")[0]}.csv`)}function t2e(e,t){const r=[["","",""]];e.forEach(n=>{r.push([n.displayDate||n.date,n.orders||0,`${(n.revenue||0).toLocaleString("ru-RU")}`])}),Yk(r,`chart-data-${t}-${new Date().toISOString().split("T")[0]}.csv`)}function r2e(e){const{stats:t,adminStats:r,orders:n,earnings:i,chartData:a,teamGrowthData:o,period:l}=e,c=[["===   ==="],[` : ${new Date().toLocaleString("ru-RU")}`],[`: ${l}`],[""],["===   ==="],["",""],[" ",`${t.totalEarnings?.toLocaleString("ru-RU")||0}`],["  ",`${t.monthEarnings?.toLocaleString("ru-RU")||0}`],[" ",t.activeOrders||0],[" ",t.teamSize||0]];r&&c.push([""],["===   ==="],[" ",r.totalUsers||0],[" ",r.totalOrders||0],[" ",`${r.totalRevenue?.toLocaleString("ru-RU")||0}`],[" ",r.activePartners||0]),c.push([""],["===   ==="],[" ","","","",""]),n.slice(0,10).forEach(d=>{c.push([d.||d.id||"-",new Date(d.||d.createdAt).toLocaleDateString("ru-RU"),d.||d.||"-",`${(d.||d.total||0).toLocaleString("ru-RU")}`,d.||d.status||"-"])}),c.push([""],["===   ==="],["","",""," "]),i.slice(0,10).forEach(d=>{c.push([new Date(d.||d.date||d.createdAt).toLocaleDateString("ru-RU"),d.||d.type||"-",`${(d.||d.amount||0).toLocaleString("ru-RU")}`,d.||d.from||"-"])}),c.push([""],["===   ==="],["","",""]),a.forEach(d=>{c.push([d.displayDate||d.date,d.orders||0,`${(d.revenue||0).toLocaleString("ru-RU")}`])}),o&&o.length>0&&(c.push([""],["===   ==="],[""," "]),o.forEach(d=>{c.push([d.displayDate||d.date,d.count||0])})),Yk(c,`full-dashboard-${new Date().toISOString().split("T")[0]}.csv`)}function Yk(e,t){const r=e.map(l=>l.map(c=>{const d=String(c??"");return d.includes(",")||d.includes('"')||d.includes(`
`)?`"${d.replace(/"/g,'""')}"`:d}).join(",")).join(`
`),n="\uFEFF",i=new Blob([n+r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(i);a.setAttribute("href",o),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),console.log(" CSV  :",t)}function n2e({currentUser:e,onRefresh:t,refreshTrigger:r}){console.log(" DashboardRuOptimized: Rendering with optimized hooks (v2)");const n=e?.isAdmin===!0||e?.email==="admin@admin.com"||e?.id==="ceo"||e?.id==="1",i=n,a=e?.id,[o,l]=ZSe("dashboard_period","30d"),{data:c=[],isLoading:d,error:h}=VSe(!!a),{data:m=[],isLoading:p,error:x}=qSe(!!a),{data:b,isLoading:y}=HSe(n),{data:v=[],isLoading:N}=JSe(a,!!a),j=KSe(c,o),E=GSe(c,5),k=YSe(v,o);QSe(v);const _={totalEarnings:m.reduce((M,z)=>M+(z.||z.amount||0),0),monthEarnings:m.filter(M=>{const z=new Date(M.||M.date||M.createdAt),P=new Date;return z.getMonth()===P.getMonth()&&z.getFullYear()===P.getFullYear()}).reduce((M,z)=>M+(z.||z.amount||0),0),activeOrders:c.filter(M=>M.==="pending"||M.status==="pending").length,teamSize:v.length},A=w.useMemo(()=>{if(!n||!b)return null;const M=b.users||{},z=M.total||0,P=M.newToday||0,C=M.newThisMonth||0,L=M.activePartners||0,U=M.passivePartners||z-L,R=M.activeByPurchases||0,I=M.passiveByPurchases||z-R,V=b.finance?.totalBalance||0;return console.log(" Widgets stats calculated:",{totalUsers:z,newToday:P,newThisMonth:C,activePartners:L,passivePartners:U,activeUsers:R,passiveUsers:I,totalBalance:V}),{totalUsers:z,newToday:P,newThisMonth:C,activePartners:L,passivePartners:U,activeUsers:R,passiveUsers:I,totalBalance:V}},[n,b]),T=XSe(),[D,q]=w.useState(!1),K=async()=>{q(!0),await T(),t(),q(!1)};w.useEffect(()=>{r>0&&(console.log(" DashboardRuOptimized: Refresh triggered"),K())},[r]);const $=()=>{e2e(E),Q.success(" ")},H=()=>{t2e(j,o),Q.success(" ")},W=()=>{r2e({stats:_,adminStats:b,orders:E,earnings:m,chartData:j,teamGrowthData:k,period:o}),Q.success("  ")},B=d||p||N;return!e||!e.?s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})})}):B?s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:"    ..."})]})})}):s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[i&&s.jsx(Wk,{userName:e.,onUserChange:t}),s.jsxs("div",{className:"flex items-center justify-between mb-6 lg:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-1",style:{fontSize:"24px",fontWeight:"700"},children:n?"   ()":` , ${e.}! `}),s.jsx("p",{className:"text-[#666]",children:n?"   React Query ":` ${e.}  : ${e.}`})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:W,variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(as,{className:"w-4 h-4"}),""]}),s.jsx("button",{onClick:K,disabled:D,className:"p-2 rounded-lg hover:bg-white transition-colors",title:" ",children:s.jsx(Hu,{className:`w-5 h-5 text-[#666] ${D?"animate-spin":""}`})})]})]}),n&&b&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsx("h2",{className:"text-[#1E1E1E] mb-4",style:{fontSize:"18px",fontWeight:"700"},children:"   "})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-gradient-to-br from-green-50 to-emerald-50",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:s.jsx(Wn,{className:"w-6 h-6 text-green-600"})})}),s.jsxs("div",{className:"text-[#1E1E1E] mb-1",style:{fontSize:"28px",fontWeight:"700"},children:["",(b.revenue?.total||0).toLocaleString()]}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-gradient-to-br from-blue-50 to-cyan-50",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:s.jsx(Ot,{className:"w-6 h-6 text-blue-600"})})}),s.jsx("div",{className:"text-[#1E1E1E] mb-1",style:{fontSize:"28px",fontWeight:"700"},children:b.users?.total||0}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-gradient-to-br from-purple-50 to-pink-50",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:s.jsx(Xo,{className:"w-6 h-6 text-purple-600"})})}),s.jsx("div",{className:"text-[#1E1E1E] mb-1",style:{fontSize:"28px",fontWeight:"700"},children:b.orders?.total||0}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-gradient-to-br from-orange-50 to-amber-50",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx(On,{className:"w-6 h-6 text-orange-600"})})}),s.jsxs("div",{className:"text-[#1E1E1E] mb-1",style:{fontSize:"28px",fontWeight:"700"},children:["",(b.finance?.pendingWithdrawals||0).toLocaleString()]}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "})]})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("h2",{className:"text-[#1E1E1E] mb-4",style:{fontSize:"18px",fontWeight:"700"},children:"   "})}),A&&s.jsx(Vk,{stats:A,activeFilter:"",onFilterClick:()=>{}}),s.jsx("div",{className:"mb-4 mt-8",children:s.jsx("h2",{className:"text-[#1E1E1E] mb-4",style:{fontSize:"18px",fontWeight:"700"},children:"  "})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"500"},children:" "}),s.jsx("div",{className:"w-8 h-8 bg-[#39B7FF]/10 rounded-lg flex items-center justify-center",children:s.jsx(On,{className:"w-4 h-4 text-[#39B7FF]"})})]}),s.jsxs("div",{className:"text-[#39B7FF] mb-2",style:{fontSize:"32px",fontWeight:"700",lineHeight:"1"},children:[(e.||0).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:"  "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"500"},children:"  "}),s.jsx("div",{className:"w-8 h-8 bg-[#12C9B6]/10 rounded-lg flex items-center justify-center",children:s.jsx($t,{className:"w-4 h-4 text-[#12C9B6]"})})]}),s.jsxs("div",{className:"text-[#12C9B6] mb-2",style:{fontSize:"32px",fontWeight:"700",lineHeight:"1"},children:[(_.monthEarnings||0).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:"text-[#12C9B6]",style:{fontSize:"13px"},children:"  (30 )"})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"500"},children:" "}),s.jsx("div",{className:"w-8 h-8 bg-[#39B7FF]/10 rounded-lg flex items-center justify-center",children:s.jsx(Wn,{className:"w-4 h-4 text-[#39B7FF]"})})]}),s.jsxs("div",{className:"text-[#39B7FF] mb-2",style:{fontSize:"32px",fontWeight:"700",lineHeight:"1"},children:[(_.totalEarnings||0).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:"  "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"500"},children:""}),s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Ot,{className:"w-4 h-4 text-purple-600"})})]}),s.jsx("div",{className:"text-purple-600 mb-2",style:{fontSize:"32px",fontWeight:"700",lineHeight:"1"},children:_.teamSize}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "})]})})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mb-6 lg:mb-8",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(qn,{value:o,onValueChange:M=>l(M),children:[s.jsx(Kn,{className:"w-32",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"7d",children:"7 "}),s.jsx(gt,{value:"30d",children:"30 "}),s.jsx(gt,{value:"90d",children:"90 "}),s.jsx(gt,{value:"1y",children:"1 "})]})]}),s.jsx(ie,{onClick:H,variant:"outline",size:"sm",className:"gap-2",children:s.jsx(as,{className:"w-4 h-4"})})]})]})}),s.jsx(Ee,{children:s.jsx(Qo,{width:"100%",height:300,children:s.jsxs(lye,{data:j,children:[s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E6E9EE"}),s.jsx(ei,{dataKey:"displayDate",stroke:"#666",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#666",style:{fontSize:"12px"},tickFormatter:M=>`${M}`}),s.jsx(En,{contentStyle:{backgroundColor:"white",border:"1px solid #E6E9EE",borderRadius:"8px"},formatter:M=>[`${M.toLocaleString()}`,""]}),s.jsx(Rm,{type:"monotone",dataKey:"revenue",stroke:"#39B7FF",strokeWidth:3,dot:{fill:"#39B7FF",r:4},activeDot:{r:6}})]})})})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mb-6 lg:mb-8",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "}),s.jsx(ie,{onClick:$,variant:"outline",size:"sm",className:"gap-2",children:s.jsx(as,{className:"w-4 h-4"})})]})}),s.jsx(Ee,{children:E.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Ns,{className:"w-6 h-6 text-gray-400"})}),s.jsx("p",{className:"text-[#666]",children:"  "}),s.jsx("p",{className:"text-[#666] mt-1",style:{fontSize:"13px"},children:"     "})]}):s.jsx("div",{className:"space-y-3",children:E.map(M=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${M.==="completed"||M.==="paid"?"bg-green-100":"bg-orange-100"}`,children:s.jsx(Ns,{className:`w-5 h-5 ${M.==="completed"||M.==="paid"?"text-green-600":"text-orange-600"}`})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:M.||M.product||""}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"13px"},children:new Date(M.||M.||M.createdAt).toLocaleDateString("ru-RU")})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:[(M.||M.||M.||M.total||0).toLocaleString("ru-RU"),""]}),s.jsx("p",{className:`text-${M.==="completed"||M.==="paid"?"green":"orange"}-600`,style:{fontSize:"12px"},children:M.==="completed"||M.==="paid"?"":M.==="pending"?"":""})]})]},M.id))})})]}),s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsx(xNe,{onNavigate:()=>{window.dispatchEvent(new CustomEvent("navigate-to-achievements"))}})}),s.jsx("div",{className:"mt-6 lg:mt-8",children:s.jsx(oSe,{earnings:m,orders:c,team:v,currentUser:e})})]})}function Xk(e,t){const r=[t.join(",")];return e.forEach(n=>{const i=t.map(a=>{const o=n[a];if(o==null)return"";const l=String(o);return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l});r.push(i.join(","))}),r.join(`
`)}function Qk(e,t){const n=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(i.download!==void 0){const a=URL.createObjectURL(n);i.setAttribute("href",a),i.setAttribute("download",t),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}}function s2e(e){const t=e.map(a=>({"ID ":a.id,:a.createdAt||a.date,:a.customerName||a.userName||"",:a.items?.length||0,:a.total||0,:a.status||"pending"," D1":a.d1||0," D2":a.d2||0," D3":a.d3||0})),n=Xk(t,["ID ","","","","",""," D1"," D2"," D3"]),i=`_${new Date().toISOString().split("T")[0]}.csv`;Qk(n,i),console.log(" Exported",e.length,"orders to CSV")}function i2e(e){const t=e.map(a=>({:a.date||a.createdAt,:a.amount||0,:a.type||"commission"," ":a.orderId||"",:a.description||""})),n=Xk(t,["","",""," ",""]),i=`_${new Date().toISOString().split("T")[0]}.csv`;Qk(n,i),console.log(" Exported",e.length,"earnings to CSV")}function a2e(e){const t=e.map(a=>({ID:a.ID||a.id,:a.,:a.,Email:a.email,:a.||"",:a.||1,:a.||1,"-":a.,"-":a.||""," ID":a.Id||"",:a.||0,:a.?.length||0," ":a.||a.||"",:a.isAdmin?"":""})),n=Xk(t,["ID","","","Email","","","","-","-"," ID","",""," ",""]),i=`__${new Date().toISOString().split("T")[0]}.csv`;Qk(n,i),console.log(" Exported",e.length,"users to CSV")}function o2e({currentUser:e,refreshTrigger:t}){const[r,n]=w.useState([]),[i,a]=w.useState(!0),[o,l]=w.useState("all");w.useEffect(()=>{c()},[t]);const c=async()=>{a(!0);try{const x=await kv();if(x.success&&x.orders){const b=x.orders.sort((y,v)=>new Date(v.).getTime()-new Date(y.).getTime());n(b)}}catch(x){console.error("Failed to load orders:",x),Q.error("   ")}finally{a(!1)}},d=r.filter(x=>o==="all"?!0:x.===o),h=x=>{switch(x){case"paid":return s.jsx(Yr,{className:"w-5 h-5 text-green-600"});case"pending":return s.jsx(tl,{className:"w-5 h-5 text-orange-600"});case"cancelled":return s.jsx(Wa,{className:"w-5 h-5 text-red-600"});default:return s.jsx(Xo,{className:"w-5 h-5 text-gray-600"})}},m=x=>{switch(x){case"paid":return"";case"pending":return" ";case"cancelled":return"";default:return x}},p=x=>{switch(x){case"paid":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-orange-100 text-orange-700 border-orange-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return i?s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})})}):s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs("div",{className:"mb-6 lg:mb-8 flex items-start justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:" "}),s.jsx("p",{className:"text-[#666]",children:"     "})]}),r.length>0&&s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{s2e(d),Q.success(`  ${d.length} `)},children:[s.jsx(as,{size:16,className:"mr-2"})," CSV"]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-6 overflow-x-auto pb-2",children:[s.jsx(kd,{className:"w-5 h-5 text-[#666] flex-shrink-0"}),s.jsxs("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${o==="all"?"bg-[#39B7FF] text-white":"bg-white text-[#666] hover:bg-gray-100"}`,style:{fontWeight:"600",fontSize:"14px"},children:[" (",r.length,")"]}),s.jsxs("button",{onClick:()=>l("pending"),className:`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${o==="pending"?"bg-orange-500 text-white":"bg-white text-[#666] hover:bg-gray-100"}`,style:{fontWeight:"600",fontSize:"14px"},children:[" (",r.filter(x=>x.==="pending").length,")"]}),s.jsxs("button",{onClick:()=>l("paid"),className:`px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${o==="paid"?"bg-green-500 text-white":"bg-white text-[#666] hover:bg-gray-100"}`,style:{fontWeight:"600",fontSize:"14px"},children:[" (",r.filter(x=>x.==="paid").length,")"]})]}),d.length===0?s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ns,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-[#666] mb-2",style:{fontWeight:"600"},children:o==="all"?"  ":`    "${m(o)}"`}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"14px"},children:"     "})]})}):s.jsx("div",{className:"space-y-4",children:d.map(x=>s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white hover:shadow-md transition-shadow",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${x.==="paid"?"bg-green-100":"bg-orange-100"}`,children:h(x.)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-[#1E1E1E]",style:{fontWeight:"700"},children:x.id}),s.jsx(Qe,{className:`${p(x.)} border`,children:m(x.)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-[#666]",style:{fontSize:"14px"},children:[s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:":"})," ",s.jsx("span",{className:"font-medium",children:x.})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:":"})," ",s.jsx("span",{className:"font-medium",children:x.})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:":"})," ",s.jsx("span",{className:"font-medium",children:x.?"":""})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-70",children:":"})," ",s.jsx("span",{className:"font-medium",children:new Date(x.).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),x.&&x..length>0&&x.==="paid"&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-[#666] mb-2",style:{fontSize:"13px",fontWeight:"600"},children:" :"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:x..map((b,y)=>s.jsxs("div",{className:"px-3 py-1 bg-[#12C9B6]/10 rounded-lg border border-[#12C9B6]/20",children:[s.jsxs("span",{className:"text-[#666]",style:{fontSize:"12px"},children:[b.level,":"]}),s.jsxs("span",{className:"text-[#12C9B6] ml-1",style:{fontSize:"13px",fontWeight:"700"},children:["",b.amount.toLocaleString()]})]},y))})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[#666] mb-1",style:{fontSize:"13px"},children:" "}),s.jsxs("div",{className:"text-[#1E1E1E]",style:{fontSize:"24px",fontWeight:"700"},children:["",(x.||x.||x.)?.toLocaleString()]})]}),x.==="paid"&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[#666] mb-1",style:{fontSize:"12px"},children:" "}),s.jsxs("div",{className:"text-[#12C9B6]",style:{fontSize:"16px",fontWeight:"700"},children:["",x.?.toLocaleString()]})]})]})]})})},x.id))}),r.length>0&&s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mt-6",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-[#F7FAFC] rounded-xl",children:[s.jsx("div",{className:"text-[#666] mb-1",style:{fontSize:"13px"},children:" "}),s.jsx("div",{className:"text-[#1E1E1E]",style:{fontSize:"24px",fontWeight:"700"},children:r.length})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[s.jsx("div",{className:"text-green-600 mb-1",style:{fontSize:"13px"},children:""}),s.jsx("div",{className:"text-green-700",style:{fontSize:"24px",fontWeight:"700"},children:r.filter(x=>x.==="paid").length})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-xl",children:[s.jsx("div",{className:"text-orange-600 mb-1",style:{fontSize:"13px"},children:" "}),s.jsx("div",{className:"text-orange-700",style:{fontSize:"24px",fontWeight:"700"},children:r.filter(x=>x.==="pending").length})]})]})})})]})}function eo({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:ut("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function l2e({currentUser:e,onRefresh:t,refreshTrigger:r}){const n=e?.isAdmin===!0||e?.email==="admin@admin.com"||e?.id==="ceo"||e?.id==="1",[i,a]=w.useState([]),[o,l]=w.useState([]),[c,d]=w.useState([]),[h,m]=w.useState(!0),[p,x]=w.useState(!1),[b,y]=w.useState(!1),[v,N]=w.useState(""),[j,E]=w.useState("USDT"),[k,_]=w.useState(""),[A,T]=w.useState(null),[D,q]=w.useState(""),[K,$]=w.useState("");w.useEffect(()=>{H()},[r]);const H=async()=>{m(!0);try{if(n){const L=await E9().catch(()=>({success:!1,withdrawals:[]}));L.success&&l(L.withdrawals.sort((U,R)=>new Date(R.createdAt).getTime()-new Date(U.createdAt).getTime()))}const[P,C]=await Promise.all([c9().catch(()=>({success:!1,withdrawals:[]})),Av().catch(()=>({success:!1,earnings:[]}))]);P.success&&a(P.withdrawals.sort((L,U)=>new Date(U.createdAt).getTime()-new Date(L.createdAt).getTime())),C.success&&d(C.earnings)}catch(P){console.error("Failed to load balance data:",P),Q.error("    ")}finally{m(!1)}},W=async P=>{try{(await _9(P,D,K)).success&&(Q.success("  "),T(null),q(""),$(""),H(),t())}catch(C){console.error("Update withdrawal error:",C),Q.error("  ")}},B=async()=>{const P=parseFloat(v);if(!P||P<=0){Q.error("  ");return}if(P>e.){Q.error(" ");return}if(P<1e3){Q.error("  : 1,000");return}if(!k.trim()){Q.error(j==="USDT"?"  USDT ":"  ");return}y(!0);try{if((await l9(P,j,{details:k})).success)Q.success("   !",{description:`${P.toLocaleString("ru-RU")}     1-3  `}),x(!1),N(""),_(""),await H(),t();else throw new Error("Failed to create withdrawal")}catch(C){console.error("Withdrawal error:",C),Q.error(C instanceof Error?C.message:"  ")}finally{y(!1)}},M=c.reduce((P,C)=>P+(C.amount||C.||0),0),z=i.filter(P=>P.status==="completed").reduce((P,C)=>P+(C.amount||C.||0),0);return h?s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})})}):s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[n&&s.jsx(Wk,{userName:e.,onUserChange:t}),s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:n?"  ":"  "}),s.jsx("p",{className:"text-[#666]",children:n?"     ":"  "})]}),n&&o.length>0&&s.jsxs(Se,{className:"border-amber-200 rounded-2xl shadow-sm bg-gradient-to-br from-amber-50 to-orange-50 mb-6 lg:mb-8",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5 text-amber-600"}),"    (",o.length,")"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-3",children:o.slice(0,20).map(P=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:P.userName||P.userId}),s.jsx(Qe,{className:P.status==="completed"?"bg-green-100 text-green-700":P.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",children:P.status==="completed"?"":P.status==="pending"?"":""})]}),s.jsxs("div",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:["",(P.amount||P.||0).toLocaleString()]}),s.jsxs("p",{className:"text-[#666]",style:{fontSize:"13px"},children:[P.method||P.,"  ",new Date(P.createdAt).toLocaleDateString("ru-RU")]}),s.jsxs("p",{className:"text-[#666] mt-1",style:{fontSize:"12px"},children:[": ",P.details||P.]}),P.adminNote&&s.jsxs("p",{className:"text-amber-600 mt-2",style:{fontSize:"12px",fontWeight:"600"},children:[" ",P.adminNote]})]})}),P.status==="pending"&&s.jsx(s.Fragment,{children:A===P.id?s.jsxs("div",{className:"space-y-3 mt-3 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsxs("select",{value:D,onChange:C=>q(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"completed",children:""}),s.jsx("option",{value:"rejected",children:""})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" ()"}),s.jsx(eo,{value:K,onChange:C=>$(C.target.value),placeholder:"  ...",rows:2})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:()=>W(P.id),className:"bg-green-600 hover:bg-green-700",disabled:!D,children:[s.jsx(Br,{className:"w-4 h-4 mr-2"}),""]}),s.jsx(ie,{onClick:()=>{T(null),q(""),$("")},variant:"outline",children:""})]})]}):s.jsx("div",{className:"flex gap-2 mt-3",children:s.jsxs(ie,{onClick:()=>{T(P.id),q(""),$("")},size:"sm",className:"bg-amber-500 hover:bg-amber-600",children:[s.jsx(IQ,{className:"w-4 h-4 mr-1"}),""]})})})]},P.id))})})]}),n&&s.jsx("div",{className:"mb-4",children:s.jsx("h2",{className:"text-[#1E1E1E] mb-4",style:{fontSize:"18px",fontWeight:"700"},children:"   "})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl flex items-center justify-center",children:s.jsx(On,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"600"},children:" "})]}),s.jsxs("div",{className:"text-[#1E1E1E]",style:{fontSize:"32px",fontWeight:"700"},children:["",(e.||0).toLocaleString("ru-RU")]}),s.jsx("div",{className:"text-[#666] mt-2",style:{fontSize:"13px"},children:"  "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#12C9B6]/10 rounded-xl flex items-center justify-center",children:s.jsx($t,{className:"w-6 h-6 text-[#12C9B6]"})}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"600"},children:" "})]}),s.jsxs("div",{className:"text-[#1E1E1E]",style:{fontSize:"32px",fontWeight:"700"},children:["",(M||0).toLocaleString("ru-RU")]}),s.jsx("div",{className:"text-[#666] mt-2",style:{fontSize:"13px"},children:"  "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#39B7FF]/10 rounded-xl flex items-center justify-center",children:s.jsx(Zh,{className:"w-6 h-6 text-[#39B7FF]"})}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"14px",fontWeight:"600"},children:""})]}),s.jsxs("div",{className:"text-[#1E1E1E]",style:{fontSize:"32px",fontWeight:"700"},children:["",(z||0).toLocaleString("ru-RU")]}),s.jsx("div",{className:"text-[#666] mt-2",style:{fontSize:"13px"},children:" "})]})})]}),p?s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mb-6",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:"   "})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E] mb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[s.jsxs("button",{onClick:()=>E("USDT"),className:`p-4 rounded-xl border-2 transition-all ${j==="USDT"?"border-[#39B7FF] bg-[#39B7FF]/5":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"text-[#1E1E1E] mb-1",style:{fontWeight:"600"},children:"USDT (TRC-20)"}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:""})]}),s.jsxs("button",{onClick:()=>E("bank"),className:`p-4 rounded-xl border-2 transition-all ${j==="bank"?"border-[#39B7FF] bg-[#39B7FF]/5":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:"text-[#1E1E1E] mb-1",style:{fontWeight:"600"},children:" "}),s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:"  "})]})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"amount",className:"text-[#1E1E1E]",children:"  ()"}),s.jsx(Ie,{id:"amount",type:"number",value:v,onChange:P=>N(P.target.value),placeholder:": 5000",className:"mt-2",min:"1000",max:e.}),s.jsxs("div",{className:"flex justify-between mt-2",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"12px"},children:": 1,000"}),s.jsxs("span",{className:"text-[#666]",style:{fontSize:"12px"},children:[": ",(e.||0).toLocaleString("ru-RU")]})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"details",className:"text-[#1E1E1E]",children:j==="USDT"?" USDT  (TRC-20)":" "}),s.jsx(Ie,{id:"details",value:k,onChange:P=>_(P.target.value),placeholder:j==="USDT"?"TExample123456789USDT...":"1234 5678 9012 3456",className:"mt-2"})]}),s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:s.jsx("p",{className:"text-blue-800",style:{fontSize:"13px"},children:"      1-3  .        ."})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ie,{onClick:B,disabled:b,className:"flex-1 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] hover:opacity-90 text-white",children:b?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 animate-spin mr-2"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{size:18,className:"mr-2"})," "]})}),s.jsx(ie,{onClick:()=>{x(!1),N(""),_("")},disabled:b,variant:"outline",className:"border-gray-300",children:""})]})]})]}):s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mb-6",children:s.jsxs(Ee,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-2xl flex items-center justify-center mx-auto mb-4",children:s.jsx(On,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"20px",fontWeight:"700"},children:" "}),s.jsx("p",{className:"text-[#666] mb-6",style:{fontSize:"14px"},children:" : 1,000"}),s.jsxs(ie,{onClick:()=>x(!0),disabled:e.<1e3,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] hover:opacity-90 text-white px-8",children:[s.jsx(Zh,{size:18,className:"mr-2"}),"   "]}),e.<1e3&&s.jsx("p",{className:"text-orange-600 mt-3",style:{fontSize:"13px"},children:"   "})]})}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "}),i.length>0&&s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{c.length>0?(i2e(c),Q.success(`  ${c.length} `)):Q.info("   ")},children:[s.jsx(as,{size:14,className:"mr-1"})," CSV"]})]})}),s.jsx(Ee,{children:i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Zh,{className:"w-6 h-6 text-gray-400"})}),s.jsx("p",{className:"text-[#666]",children:"    "})]}):s.jsx("div",{className:"space-y-3",children:i.map(P=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${P.status==="completed"?"bg-green-100":P.status==="processing"?"bg-blue-100":P.status==="rejected"?"bg-red-100":"bg-orange-100"}`,children:P.status==="completed"?s.jsx(Yr,{className:"w-5 h-5 text-green-600"}):s.jsx(tl,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:P.method==="USDT"?"USDT (TRC-20)":" "}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"13px"},children:new Date(P.createdAt).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:["",(P.amount||P.||0).toLocaleString("ru-RU")]}),s.jsx("p",{className:`${P.status==="completed"?"text-green-600":P.status==="rejected"?"text-red-600":"text-orange-600"}`,style:{fontSize:"12px"},children:P.status==="completed"?"":P.status==="processing"?" ":P.status==="rejected"?"":""})]})]},P.id))})})]})]})}function Er({...e}){return s.jsx(GL,{"data-slot":"dialog",...e})}function c2e({...e}){return s.jsx(YL,{"data-slot":"dialog-portal",...e})}const _V=w.forwardRef(({className:e,...t},r)=>s.jsx(Dv,{ref:r,"data-slot":"dialog-overlay",className:ut("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));_V.displayName=Dv.displayName;const vr=w.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(c2e,{"data-slot":"dialog-portal",children:[s.jsx(_V,{}),s.jsxs(B_,{ref:n,"data-slot":"dialog-content",className:ut("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200",e),...r,children:[t,s.jsxs(XL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Mr,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vr.displayName=B_.displayName;function _r({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:ut("flex flex-col gap-2 text-center sm:text-left",e),...t})}function _s({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-footer",className:ut("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}const yr=w.forwardRef(({className:e,...t},r)=>s.jsx(z_,{ref:r,"data-slot":"dialog-title",className:ut("text-lg leading-none font-semibold",e),...t}));yr.displayName=z_.displayName;const kr=w.forwardRef(({className:e,...t},r)=>s.jsx(W_,{ref:r,"data-slot":"dialog-description",className:ut("text-muted-foreground text-sm",e),...t}));kr.displayName=W_.displayName;function u2e(e){const t=d2e(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(f2e);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function d2e(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=p2e(i),l=m2e(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var h2e=Symbol("radix.slottable");function f2e(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===h2e}function m2e(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function p2e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var e_=["Enter"," "],g2e=["ArrowDown","PageUp","Home"],CV=["ArrowUp","PageDown","End"],x2e=[...g2e,...CV],v2e={ltr:[...e_,"ArrowRight"],rtl:[...e_,"ArrowLeft"]},y2e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bm="Menu",[um,b2e,w2e]=wm(Bm),[Pc,kV]=ls(Bm,[w2e,ll,Fv]),R0=ll(),AV=Fv(),[j2e,Oc]=Pc(Bm),[N2e,zm]=Pc(Bm),PV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,l=R0(t),[c,d]=w.useState(null),h=w.useRef(!1),m=Ki(a),p=Rd(i);return w.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(Vv,{...l,children:s.jsx(j2e,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(N2e,{scope:t,onClose:w.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:o,children:n})})})};PV.displayName=Bm;var S2e="MenuAnchor",Jk=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=R0(r);return s.jsx(Sm,{...i,...n,ref:t})});Jk.displayName=S2e;var Zk="MenuPortal",[E2e,OV]=Pc(Zk,{forceMount:void 0}),TV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=Oc(Zk,t);return s.jsx(E2e,{scope:t,forceMount:r,children:s.jsx(cs,{present:r||a.open,children:s.jsx(Td,{asChild:!0,container:i,children:n})})})};TV.displayName=Zk;var ji="MenuContent",[_2e,eA]=Pc(ji),RV=w.forwardRef((e,t)=>{const r=OV(ji,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=Oc(ji,e.__scopeMenu),o=zm(ji,e.__scopeMenu);return s.jsx(um.Provider,{scope:e.__scopeMenu,children:s.jsx(cs,{present:n||a.open,children:s.jsx(um.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(C2e,{...i,ref:t}):s.jsx(k2e,{...i,ref:t})})})})}),C2e=w.forwardRef((e,t)=>{const r=Oc(ji,e.__scopeMenu),n=w.useRef(null),i=Mt(t,n);return w.useEffect(()=>{const a=n.current;if(a)return Mv(a)},[]),s.jsx(tA,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Je(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),k2e=w.forwardRef((e,t)=>{const r=Oc(ji,e.__scopeMenu);return s.jsx(tA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),A2e=u2e("MenuContent.ScrollLock"),tA=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:x,disableOutsideScroll:b,...y}=e,v=Oc(ji,r),N=zm(ji,r),j=R0(r),E=AV(r),k=b2e(r),[_,A]=w.useState(null),T=w.useRef(null),D=Mt(t,T,v.onContentChange),q=w.useRef(0),K=w.useRef(""),$=w.useRef(0),H=w.useRef(null),W=w.useRef("right"),B=w.useRef(0),M=b?bm:w.Fragment,z=b?{as:A2e,allowPinchZoom:!0}:void 0,P=L=>{const U=K.current+L,R=k().filter(ae=>!ae.disabled),I=document.activeElement,V=R.find(ae=>ae.ref.current===I)?.textValue,re=R.map(ae=>ae.textValue),ce=z2e(re,U,V),me=R.find(ae=>ae.textValue===ce)?.ref.current;(function ae(ue){K.current=ue,window.clearTimeout(q.current),ue!==""&&(q.current=window.setTimeout(()=>ae(""),1e3))})(U),me&&setTimeout(()=>me.focus())};w.useEffect(()=>()=>window.clearTimeout(q.current),[]),Ov();const C=w.useCallback(L=>W.current===H.current?.side&&U2e(L,H.current?.area),[]);return s.jsx(_2e,{scope:r,searchRef:K,onItemEnter:w.useCallback(L=>{C(L)&&L.preventDefault()},[C]),onItemLeave:w.useCallback(L=>{C(L)||(T.current?.focus(),A(null))},[C]),onTriggerLeave:w.useCallback(L=>{C(L)&&L.preventDefault()},[C]),pointerGraceTimerRef:$,onPointerGraceIntentChange:w.useCallback(L=>{H.current=L},[]),children:s.jsx(M,{...z,children:s.jsx(ym,{asChild:!0,trapped:i,onMountAutoFocus:Je(a,L=>{L.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Od,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:x,children:s.jsx(oB,{asChild:!0,...E,dir:N.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:Je(c,L=>{N.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(qv,{role:"menu","aria-orientation":"vertical","data-state":YV(v.open),"data-radix-menu-content":"",dir:N.dir,...j,...y,ref:D,style:{outline:"none",...y.style},onKeyDown:Je(y.onKeyDown,L=>{const R=L.target.closest("[data-radix-menu-content]")===L.currentTarget,I=L.ctrlKey||L.altKey||L.metaKey,V=L.key.length===1;R&&(L.key==="Tab"&&L.preventDefault(),!I&&V&&P(L.key));const re=T.current;if(L.target!==re||!x2e.includes(L.key))return;L.preventDefault();const me=k().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);CV.includes(L.key)&&me.reverse(),L2e(me)}),onBlur:Je(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(q.current),K.current="")}),onPointerMove:Je(e.onPointerMove,dm(L=>{const U=L.target,R=B.current!==L.clientX;if(L.currentTarget.contains(U)&&R){const I=L.clientX>B.current?"right":"left";W.current=I,B.current=L.clientX}}))})})})})})})});RV.displayName=ji;var P2e="MenuGroup",rA=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(xt.div,{role:"group",...n,ref:t})});rA.displayName=P2e;var O2e="MenuLabel",MV=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(xt.div,{...n,ref:t})});MV.displayName=O2e;var xv="MenuItem",bF="menu.itemSelect",M0=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=w.useRef(null),o=zm(xv,e.__scopeMenu),l=eA(xv,e.__scopeMenu),c=Mt(t,a),d=w.useRef(!1),h=()=>{const m=a.current;if(!r&&m){const p=new CustomEvent(bF,{bubbles:!0,cancelable:!0});m.addEventListener(bF,x=>n?.(x),{once:!0}),Z9(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(IV,{...i,ref:c,disabled:r,onClick:Je(e.onClick,h),onPointerDown:m=>{e.onPointerDown?.(m),d.current=!0},onPointerUp:Je(e.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:Je(e.onKeyDown,m=>{const p=l.searchRef.current!=="";r||p&&m.key===" "||e_.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});M0.displayName=xv;var IV=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=eA(xv,r),l=AV(r),c=w.useRef(null),d=Mt(t,c),[h,m]=w.useState(!1),[p,x]=w.useState("");return w.useEffect(()=>{const b=c.current;b&&x((b.textContent??"").trim())},[a.children]),s.jsx(um.ItemSlot,{scope:r,disabled:n,textValue:i??p,children:s.jsx(lB,{asChild:!0,...l,focusable:!n,children:s.jsx(xt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Je(e.onPointerMove,dm(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(e.onPointerLeave,dm(b=>o.onItemLeave(b))),onFocus:Je(e.onFocus,()=>m(!0)),onBlur:Je(e.onBlur,()=>m(!1))})})})}),T2e="MenuCheckboxItem",DV=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return s.jsx(zV,{scope:e.__scopeMenu,checked:r,children:s.jsx(M0,{role:"menuitemcheckbox","aria-checked":vv(r)?"mixed":r,...i,ref:t,"data-state":sA(r),onSelect:Je(i.onSelect,()=>n?.(vv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});DV.displayName=T2e;var FV="MenuRadioGroup",[R2e,M2e]=Pc(FV,{value:void 0,onValueChange:()=>{}}),$V=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Ki(n);return s.jsx(R2e,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(rA,{...i,ref:t})})});$V.displayName=FV;var LV="MenuRadioItem",BV=w.forwardRef((e,t)=>{const{value:r,...n}=e,i=M2e(LV,e.__scopeMenu),a=r===i.value;return s.jsx(zV,{scope:e.__scopeMenu,checked:a,children:s.jsx(M0,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":sA(a),onSelect:Je(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});BV.displayName=LV;var nA="MenuItemIndicator",[zV,I2e]=Pc(nA,{checked:!1}),WV=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=I2e(nA,r);return s.jsx(cs,{present:n||vv(a.checked)||a.checked===!0,children:s.jsx(xt.span,{...i,ref:t,"data-state":sA(a.checked)})})});WV.displayName=nA;var D2e="MenuSeparator",UV=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(xt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});UV.displayName=D2e;var F2e="MenuArrow",VV=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=R0(r);return s.jsx(Hv,{...i,...n,ref:t})});VV.displayName=F2e;var $2e="MenuSub",[Q4e,qV]=Pc($2e),Qh="MenuSubTrigger",HV=w.forwardRef((e,t)=>{const r=Oc(Qh,e.__scopeMenu),n=zm(Qh,e.__scopeMenu),i=qV(Qh,e.__scopeMenu),a=eA(Qh,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},h=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>h,[h]),w.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(Jk,{asChild:!0,...d,children:s.jsx(IV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":YV(r.open),...e,ref:Na(t,i.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Je(e.onPointerMove,dm(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Je(e.onPointerLeave,dm(m=>{h();const p=r.content?.getBoundingClientRect();if(p){const x=r.content?.dataset.side,b=x==="right",y=b?-5:5,v=p[b?"left":"right"],N=p[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x:v,y:p.top},{x:N,y:p.top},{x:N,y:p.bottom},{x:v,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Je(e.onKeyDown,m=>{const p=a.searchRef.current!=="";e.disabled||p&&m.key===" "||v2e[n.dir].includes(m.key)&&(r.onOpenChange(!0),r.content?.focus(),m.preventDefault())})})})});HV.displayName=Qh;var KV="MenuSubContent",GV=w.forwardRef((e,t)=>{const r=OV(ji,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=Oc(ji,e.__scopeMenu),o=zm(ji,e.__scopeMenu),l=qV(KV,e.__scopeMenu),c=w.useRef(null),d=Mt(t,c);return s.jsx(um.Provider,{scope:e.__scopeMenu,children:s.jsx(cs,{present:n||a.open,children:s.jsx(um.Slot,{scope:e.__scopeMenu,children:s.jsx(tA,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{o.isUsingKeyboardRef.current&&c.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Je(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Je(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Je(e.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),p=y2e[o.dir].includes(h.key);m&&p&&(a.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});GV.displayName=KV;function YV(e){return e?"open":"closed"}function vv(e){return e==="indeterminate"}function sA(e){return vv(e)?"indeterminate":e?"checked":"unchecked"}function L2e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function B2e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function z2e(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=B2e(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function W2e(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,h=l.y,m=c.x,p=c.y;h>n!=p>n&&r<(m-d)*(n-h)/(p-h)+d&&(i=!i)}return i}function U2e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return W2e(r,t)}function dm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var V2e=PV,q2e=Jk,H2e=TV,K2e=RV,G2e=rA,Y2e=MV,X2e=M0,Q2e=DV,J2e=$V,Z2e=BV,eEe=WV,tEe=UV,rEe=VV,nEe=HV,sEe=GV,I0="DropdownMenu",[iEe]=ls(I0,[kV]),us=kV(),[aEe,XV]=iEe(I0),QV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=us(t),d=w.useRef(null),[h,m]=Os({prop:i,defaultProp:a??!1,onChange:o,caller:I0});return s.jsx(aEe,{scope:t,triggerId:As(),triggerRef:d,contentId:As(),open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(V2e,{...c,open:h,onOpenChange:m,dir:n,modal:l,children:r})})};QV.displayName=I0;var JV="DropdownMenuTrigger",ZV=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=XV(JV,r),o=us(r);return s.jsx(q2e,{asChild:!0,...o,children:s.jsx(xt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Na(t,a.triggerRef),onPointerDown:Je(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Je(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ZV.displayName=JV;var oEe="DropdownMenuPortal",eq=e=>{const{__scopeDropdownMenu:t,...r}=e,n=us(t);return s.jsx(H2e,{...n,...r})};eq.displayName=oEe;var tq="DropdownMenuContent",rq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=XV(tq,r),a=us(r),o=w.useRef(!1);return s.jsx(K2e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:Je(e.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rq.displayName=tq;var lEe="DropdownMenuGroup",cEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(G2e,{...i,...n,ref:t})});cEe.displayName=lEe;var uEe="DropdownMenuLabel",dEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(Y2e,{...i,...n,ref:t})});dEe.displayName=uEe;var hEe="DropdownMenuItem",nq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(X2e,{...i,...n,ref:t})});nq.displayName=hEe;var fEe="DropdownMenuCheckboxItem",mEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(Q2e,{...i,...n,ref:t})});mEe.displayName=fEe;var pEe="DropdownMenuRadioGroup",gEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(J2e,{...i,...n,ref:t})});gEe.displayName=pEe;var xEe="DropdownMenuRadioItem",vEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(Z2e,{...i,...n,ref:t})});vEe.displayName=xEe;var yEe="DropdownMenuItemIndicator",bEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(eEe,{...i,...n,ref:t})});bEe.displayName=yEe;var wEe="DropdownMenuSeparator",sq=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(tEe,{...i,...n,ref:t})});sq.displayName=wEe;var jEe="DropdownMenuArrow",NEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(rEe,{...i,...n,ref:t})});NEe.displayName=jEe;var SEe="DropdownMenuSubTrigger",EEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(nEe,{...i,...n,ref:t})});EEe.displayName=SEe;var _Ee="DropdownMenuSubContent",CEe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=us(r);return s.jsx(sEe,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CEe.displayName=_Ee;var kEe=QV,AEe=ZV,PEe=eq,OEe=rq,TEe=nq,REe=sq;function iA({...e}){return s.jsx(kEe,{"data-slot":"dropdown-menu",...e})}function aA({...e}){return s.jsx(AEe,{"data-slot":"dropdown-menu-trigger",...e})}function oA({className:e,sideOffset:t=4,...r}){return s.jsx(PEe,{children:s.jsx(OEe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function ts({className:e,inset:t,variant:r="default",...n}){return s.jsx(TEe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:ut("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function wF({className:e,...t}){return s.jsx(REe,{"data-slot":"dropdown-menu-separator",className:ut("bg-border -mx-1 my-1 h-px",e),...t})}const MEe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function jF(e){const[t,r]=w.useState(!1),n=()=>{r(!0)},{src:i,alt:a,style:o,className:l,...c}=e;return t?s.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:s.jsx("div",{className:"flex items-center justify-center w-full h-full",children:s.jsx("img",{src:MEe,alt:"Error loading image",...c,"data-original-url":i})})}):s.jsx("img",{src:i,alt:a,className:l,style:o,...c,onError:n})}function IEe({order:e,onClose:t,onSuccess:r}){const[n,i]=w.useState([]),[a,o]=w.useState(null),[l,c]=w.useState(!1),[d,h]=w.useState(!1),[m,p]=w.useState("idle"),[x,b]=w.useState(null);w.useEffect(()=>{y()},[]);const y=async()=>{c(!0);try{const{getPaymentMethods:j}=await vi(async()=>{const{getPaymentMethods:k}=await Promise.resolve().then(()=>$b);return{getPaymentMethods:k}},void 0),E=await j();if(E.success&&E.methods){i(E.methods);const k=E.methods.find(_=>_.enabled);k&&o(k.id)}}catch(j){console.error("Failed to load payment methods:",j),Q.error("    ")}finally{c(!1)}},v=async()=>{if(!a){Q.error("  ");return}h(!0),p("processing");try{const{createPayment:j}=await vi(async()=>{const{createPayment:A}=await Promise.resolve().then(()=>$b);return{createPayment:A}},void 0),E=e.isMultipleOrders&&e.orderIds?e.orderIds:[e.id];console.log(" Processing payment for orders:",E);const k=E.map(A=>j(A,a)),_=await Promise.all(k);if(_.every(A=>A.success&&A.payment)){const A=_[0].payment;if(b(A),A.paymentUrl)window.location.href=A.paymentUrl;else if(a==="demo"){Q.info(`-   ${E.length} ...`);const T=setInterval(async()=>{try{const{getOrders:D}=await vi(async()=>{const{getOrders:K}=await Promise.resolve().then(()=>$b);return{getOrders:K}},void 0),q=await D();q.success&&E.every($=>{const H=q.orders.find(W=>W.id===$);return H&&H.==="paid"})&&(clearInterval(T),p("success"),Q.success(` ${E.length}   !`),setTimeout(()=>{r()},1500))}catch(D){console.error("Failed to check order status:",D)}},1e3);setTimeout(()=>{clearInterval(T),m==="processing"&&Q.warning('     .   "".')},1e4)}else a==="usdt"&&(p("idle"),Q.info("    "))}else throw new Error("Failed to create payment")}catch(j){console.error("Payment error:",j),p("error"),Q.error(j instanceof Error?j.message:"   ")}finally{h(!1)}},N=j=>{switch(j){case"yookassa":return s.jsx(_6,{className:"w-5 h-5"});case"usdt":return s.jsx(On,{className:"w-5 h-5"});case"demo":return s.jsx(Mu,{className:"w-5 h-5"});default:return s.jsx(_6,{className:"w-5 h-5"})}};return m==="success"?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Yr,{className:"w-10 h-10 text-green-500"})}),s.jsx("h2",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:"  !"}),s.jsxs("p",{className:"text-[#666] mb-6",children:[" ",e.id," .    ."]}),s.jsx("button",{onClick:r,className:"w-full py-3 px-6 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white rounded-xl hover:opacity-90 transition-all",style:{fontWeight:"600"},children:"!"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-[#1E1E1E]",style:{fontSize:"20px",fontWeight:"700"},children:" "}),s.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Mr,{className:"w-5 h-5 text-[#666]"})})]}),s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"14px"},children:""}),s.jsx("span",{className:"text-[#1E1E1E]",style:{fontSize:"14px",fontWeight:"600"},children:e.id})]}),e.isMultipleOrders&&e.orders?s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-[#666] block mb-2",style:{fontSize:"14px"},children:":"}),s.jsx("div",{className:"space-y-1.5",children:e.orders.map((j,E)=>s.jsxs("div",{className:"flex items-center justify-between text-[#1E1E1E] bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{style:{fontSize:"13px",fontWeight:"500"},children:j.}),s.jsxs("div",{className:"text-[#999] mt-0.5",style:{fontSize:"11px"},children:["",j.?.toLocaleString(),"  ",j.]})]}),s.jsx("div",{className:"text-right ml-3",children:s.jsxs("div",{style:{fontSize:"14px",fontWeight:"600"},className:"text-[#39B7FF]",children:["",(j.||j.*j.)?.toLocaleString()]})})]},E))})]}):s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"14px"},children:""}),s.jsx("span",{className:"text-[#1E1E1E] text-right ml-4",style:{fontSize:"14px",fontWeight:"600",maxWidth:"60%"},children:e.})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"14px"},children:"  "}),s.jsxs("span",{className:"text-[#39B7FF]",style:{fontSize:"20px",fontWeight:"700"},children:["",(e.||e.||e.)?.toLocaleString()]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-[#1E1E1E] mb-4",style:{fontSize:"16px",fontWeight:"600"},children:" "}),l?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Ut,{className:"w-6 h-6 text-[#39B7FF] animate-spin"})}):s.jsx("div",{className:"space-y-3",children:n.map(j=>s.jsx("button",{onClick:()=>o(j.id),disabled:!j.enabled||d,className:`w-full p-4 rounded-xl border-2 transition-all text-left ${a===j.id?"border-[#39B7FF] bg-[#39B7FF]/5":"border-gray-200 hover:border-gray-300"} ${j.enabled?"":"opacity-50 cursor-not-allowed"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${a===j.id?"bg-[#39B7FF] text-white":"bg-gray-100 text-[#666]"}`,children:N(j.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"14px",fontWeight:"600"},children:j.name}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"12px"},children:j.description})]}),a===j.id&&s.jsx(Yr,{className:"w-5 h-5 text-[#39B7FF]"})]})},j.id))}),a==="usdt"&&x&&s.jsxs("div",{className:"mt-4 p-4 bg-[#F7FAFC] rounded-xl",children:[s.jsx("p",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"14px",fontWeight:"600"},children:"  :"}),s.jsxs("ol",{className:"space-y-2 text-[#666]",style:{fontSize:"13px"},children:[s.jsxs("li",{children:["1.  ",x.amount," USDT  :"]}),s.jsx("li",{className:"font-mono bg-white p-2 rounded border border-gray-200 break-all",children:x.address}),s.jsx("li",{children:"2.      "})]})]}),s.jsx("button",{onClick:v,disabled:!a||d,className:"w-full mt-6 py-3 px-6 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white rounded-xl hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",style:{fontWeight:"600"},children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"..."})]}):s.jsxs("span",{children:[" ",(e.||e.||e.)?.toLocaleString()]})})]}),s.jsx("div",{className:"p-6 bg-[#F7FAFC] border-t border-gray-200",children:s.jsx("p",{className:"text-[#666] text-center",style:{fontSize:"12px"},children:"  .   "})})]})})}const NF={"H2-1":{guest:{L0:1600,L1:900,L2:500,L3:200},partner:{L1:900,L2:500,L3:200}},"H2-3":{guest:{L0:4500,L1:1800,L2:1200,L3:600},partner:{L1:1800,L2:1200,L3:600}}};function DEe(e){if(!e.guest&&!e.partner)return{valid:!1,error:"        (guest  partner)"};const t=r=>Object.values(r).every(n=>typeof n=="number"&&n>=0);return e.guest&&!t(e.guest)?{valid:!1,error:"      "}:e.partner&&!t(e.partner)?{valid:!1,error:"      "}:{valid:!0}}const SF={guest:{L0:0,L1:0,L2:0,L3:0},partner:{L1:0,L2:0,L3:0,L4:0,L5:0}};function iq({commission:e,onChange:t,disabled:r=!1,retailPrice:n,partnerPrice:i}){const[a,o]=w.useState(e||SF),[l,c]=w.useState("");w.useEffect(()=>{console.log(" CommissionEditor: updating localCommission from prop",e),o(e||SF)},[e]);const d=(W,B,M)=>{const z=parseFloat(M)||0,P={...a,[W]:{...a[W],[B]:z}},C=DEe(P);C.valid?c(""):c(C.error||""),o(P),t&&t(P)},h=Object.values(a.guest||{}).reduce((W,B)=>W+(B||0),0),m=Object.values(a.partner||{}).reduce((W,B)=>W+(B||0),0),p=a.guest?.L0||0,x=a.guest?.L1||0,b=a.guest?.L2||0,y=a.guest?.L3||0,v=a.partner?.L1||0,N=a.partner?.L2||0,j=a.partner?.L3||0,E=a.partner?.L4||0,k=a.partner?.L5||0,_=p+x+b+y,A=(n||0)-_,T=_+A,D=Math.abs(T-(n||0))<.01,q=v+N+j+E+k,K=(i||0)-q,$=q+K,H=Math.abs($-(i||0))<.01;return s.jsxs("div",{className:"space-y-4",children:[l&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[s.jsx(ks,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:l})]}),s.jsxs(Se,{children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5 text-[#39B7FF]"}),s.jsxs("div",{children:[s.jsx(Ge,{children:"  ()"}),s.jsx(cn,{children:"    ( ). L0  , L1/L2/L3 -  "})]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"guest-L0",className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4 text-green-600"}),"L0 - "]}),s.jsx(Ie,{id:"guest-L0",type:"number",min:"0",step:"10",value:a.guest?.L0||0,onChange:W=>d("guest","L0",W.target.value),disabled:r,className:"mt-1",placeholder:"1600"})]}),s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"guest-L1",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-blue-500"}),"L1 -  "]}),s.jsx(Ie,{id:"guest-L1",type:"number",min:"0",step:"10",value:a.guest?.L1||0,onChange:W=>d("guest","L1",W.target.value),disabled:r,className:"mt-1",placeholder:"900"})]}),s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"guest-L2",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-rose-500"}),"L2 -  2- "]}),s.jsx(Ie,{id:"guest-L2",type:"number",min:"0",step:"10",value:a.guest?.L2||0,onChange:W=>d("guest","L2",W.target.value),disabled:r,className:"mt-1",placeholder:"500"})]}),s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"guest-L3",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-amber-500"}),"L3 -  3- "]}),s.jsx(Ie,{id:"guest-L3",type:"number",min:"0",step:"10",value:a.guest?.L3||0,onChange:W=>d("guest","L3",W.target.value),disabled:r,className:"mt-1",placeholder:"200"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"  ():"}),s.jsxs(Qe,{style:{backgroundColor:"#39B7FF"},children:[h.toLocaleString("ru-RU")," "]})]})]})]}),s.jsxs(Se,{children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ex,{className:"w-5 h-5 text-[#12C9B6]"}),s.jsxs("div",{children:[s.jsx(Ge,{children:" "}),s.jsx(cn,{children:"    (  )"})]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"partner-L1",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-blue-500"}),"L1 - 1-  ()"]}),s.jsx(Ie,{id:"partner-L1",type:"number",min:"0",step:"10",value:a.partner?.L1||0,onChange:W=>d("partner","L1",W.target.value),disabled:r,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"partner-L2",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-rose-500"}),"L2 - 2- "]}),s.jsx(Ie,{id:"partner-L2",type:"number",min:"0",step:"10",value:a.partner?.L2||0,onChange:W=>d("partner","L2",W.target.value),disabled:r,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"partner-L3",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-amber-500"}),"L3 - 3- "]}),s.jsx(Ie,{id:"partner-L3",type:"number",min:"0",step:"10",value:a.partner?.L3||0,onChange:W=>d("partner","L3",W.target.value),disabled:r,className:"mt-1"})]})]}),s.jsxs("details",{className:"mt-4",children:[s.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer hover:text-gray-900",children:"+    (L4, L5)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"partner-L4",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-purple-500"}),"L4 - 4-  ()"]}),s.jsx(Ie,{id:"partner-L4",type:"number",min:"0",step:"10",value:a.partner?.L4||0,onChange:W=>d("partner","L4",W.target.value),disabled:r,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsxs(Oe,{htmlFor:"partner-L5",className:"flex items-center gap-2",children:[s.jsx($t,{className:"w-4 h-4 text-indigo-500"}),"L5 - 5-  ()"]}),s.jsx(Ie,{id:"partner-L5",type:"number",min:"0",step:"10",value:a.partner?.L5||0,onChange:W=>d("partner","L5",W.target.value),disabled:r,className:"mt-1"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"  ():"}),s.jsxs(Qe,{style:{backgroundColor:"#12C9B6"},children:[m.toLocaleString("ru-RU")," "]})]})]})]}),s.jsx(Se,{className:"bg-blue-50 border-blue-200",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ks,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-semibold mb-1",children:":"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"L0 ()  , ..    "}),s.jsx("li",{children:"L1 ()    "}),s.jsx("li",{children:"L2  L3       "}),s.jsx("li",{children:"      "})]})]})]})})}),n!==void 0&&n>0&&s.jsxs(Se,{className:"border-2 border-purple-200 bg-purple-50",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-purple-900 flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5"}),"  (   ",n.toLocaleString("ru-RU")," )"]})}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:"font-semibold text-purple-900",children:[n.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L0 ():"}),s.jsxs("div",{className:"font-semibold text-green-600",children:[p.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L1 ():"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[x.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L2:"}),s.jsxs("div",{className:"font-semibold text-rose-600",children:[b.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L3:"}),s.jsxs("div",{className:"font-semibold text-amber-600",children:[y.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:"font-semibold text-green-700",children:[_.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[A.toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:`p-3 rounded-lg border-2 ${D?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:`text-sm font-mono ${D?"text-green-700":"text-red-700"}`,children:["L0 (",p,") + L1 (",x,") + L2 (",b,") + L3 (",y,") +  (",A.toLocaleString("ru-RU"),") = ",T.toLocaleString("ru-RU")," ",D?" ":`  ( ${n.toLocaleString("ru-RU")} )`]})]})]})]}),i!==void 0&&i>0&&s.jsxs(Se,{className:"border-2 border-emerald-200 bg-emerald-50",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-emerald-900 flex items-center gap-2",children:[s.jsx(ex,{className:"w-5 h-5"}),"  (   ",i.toLocaleString("ru-RU")," )"]})}),s.jsxs(Ee,{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:"font-semibold text-emerald-900",children:[i.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L1:"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[v.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L2:"}),s.jsxs("div",{className:"font-semibold text-rose-600",children:[N.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L3:"}),s.jsxs("div",{className:"font-semibold text-amber-600",children:[j.toLocaleString("ru-RU")," "]})]}),(E>0||k>0)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L4:"}),s.jsxs("div",{className:"font-semibold text-purple-600",children:[E.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" L5:"}),s.jsxs("div",{className:"font-semibold text-indigo-600",children:[k.toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:"font-semibold text-green-600",children:[q.toLocaleString("ru-RU")," "]})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[s.jsx("div",{className:"text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[K.toLocaleString("ru-RU")," "]})]})]}),s.jsxs("div",{className:`p-3 rounded-lg border-2 ${H?"bg-green-50 border-green-300":"bg-red-50 border-red-300"}`,children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:" :"}),s.jsxs("div",{className:`text-sm font-mono ${H?"text-green-700":"text-red-700"}`,children:["L1 (",v,") + L2 (",N,") + L3 (",j,")",(E>0||k>0)&&` + L4 (${E}) + L5 (${k})`," ","+  (",K.toLocaleString("ru-RU"),") = ",$.toLocaleString("ru-RU")," ",H?" ":`  ( ${i.toLocaleString("ru-RU")} )`]})]})]})]})]})}function FEe({currentUser:e,onOrderCreated:t,onAddToCart:r}){const n=e?.isAdmin===!0||e?.email==="admin@admin.com"||e?.id==="ceo"||e?.id==="1",i=n;console.log(" CatalogRu: currentUser:",e),console.log(" CatalogRu: isAdmin:",n),console.log(" CatalogRu: currentUser.isAdmin:",e?.isAdmin),console.log(" CatalogRu: currentUser.email:",e?.email);const[a,o]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[m,p]=w.useState(null),[x,b]=w.useState(!1),[y,v]=w.useState(!1),[N,j]=w.useState(!1),[E,k]=w.useState(null),[_,A]=w.useState(!1),[T,D]=w.useState(!1),q=w.useRef(null),[K,$]=w.useState([{id:"general",name:""},{id:"hydrogen",name:""},{id:"health",name:""},{id:"accessories",name:""}]),[H,W]=w.useState(!1),[B,M]=w.useState(null),[z,P]=w.useState({name:""}),[C,L]=w.useState(null),U=se=>{const ne={:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"y",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"h",:"ts",:"ch",:"sh",:"sch",:"",:"y",:"",:"e",:"yu",:"ya"};return se.toLowerCase().split("").map(ve=>ne[ve]||ve).join("").replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"")},R=(se="")=>{const ne=Date.now().toString().slice(-6),ve=Math.random().toString(36).substring(2,5).toUpperCase();return se?`${se.split(" ").map(je=>je[0]).join("").toUpperCase().slice(0,3)}-${ne}`:`SKU-${ne}${ve}`},[I,V]=w.useState({:"",:"",sku:"",:"",_:"",1:"",2:"",3:"",4:"",:"general",_:!1}),[re,ce]=w.useState(null),[me,ae]=w.useState({isValid:!0,errors:[]});w.useEffect(()=>{const se=parseFloat(I._)||0,ne=parseFloat(I.1)||0,ve=parseFloat(I.2)||0,J=parseFloat(I.3)||0,je=parseFloat(I.4)||0;if(se>0||ne>0){const Ae={guest:{L0:se-ne,L1:ne-ve,L2:ve-J,L3:J-je},partner:{L1:ne-ve,L2:ve-J,L3:J-je,L4:0,L5:0}};console.log(" Auto-calculated commissions:",Ae),console.log(" Prices:",{retailPrice:se,partnerPrice:ne,price2:ve,price3:J,price4:je});const Te=[];if(se>0){const Be=Ae.guest.L0+Ae.guest.L1+Ae.guest.L2+Ae.guest.L3;Be>se&&Te.push(`    (${Be.toFixed(2)} )    (${se} )`),Be<0&&Te.push(`     (${Be.toFixed(2)} ).   .`)}if(ne>0){const Be=Ae.partner.L1+Ae.partner.L2+Ae.partner.L3;Be>ne&&Te.push(`    (${Be.toFixed(2)} )    (${ne} )`),Be<0&&Te.push(`     (${Be.toFixed(2)} ).   .`)}se>0&&ne>0&&se<=ne&&Te.push(`   (${se} )     (${ne} )`),ne>0&&ve>0&&ne<=ve&&Te.push(`   1 (${ne} )     2 (${ve} )`),ve>0&&J>0&&ve<=J&&Te.push(`   2 (${ve} )     3 (${J} )`),J>0&&je>0&&J<=je&&Te.push(`   3 (${J} )      (${je} )`),Object.entries(Ae.guest).forEach(([Be,De])=>{De<0&&Te.push(`   ${Be}  (${De.toFixed(2)} )`)}),Object.entries(Ae.partner).forEach(([Be,De])=>{De<0&&Te.push(`   ${Be}  (${De.toFixed(2)} )`)}),ae({isValid:Te.length===0,errors:Te}),ce(Ae)}else{const Ae=I.sku||"H2-1",Te=NF[Ae]||NF["H2-1"];ce(Te)}},[I._,I.1,I.2,I.3,I.4,I.sku]),w.useEffect(()=>{ue();const se=localStorage.getItem("product_categories");if(se)try{$(JSON.parse(se))}catch(ne){console.error("Failed to load categories:",ne)}},[]),w.useEffect(()=>{localStorage.setItem("product_categories",JSON.stringify(K))},[K]);const ue=async()=>{c(!0);try{console.log(" Loading products...");const se=await k_();console.log(" Products loaded:",se),se.success&&se.products?(console.log(" Setting products:",se.products.length,"items"),o(se.products)):console.warn(" No products in response")}catch(se){console.error(" Failed to load products:",se),Q.error("   ")}finally{c(!1)}},pe=(se,ne,ve)=>{(se.key==="ArrowUp"||se.key==="ArrowDown"||se.key==="ArrowLeft"||se.key==="ArrowRight")&&se.preventDefault(),se.key==="Enter"&&ve.enter?(se.preventDefault(),document.getElementById(ve.enter)?.focus()):se.key==="ArrowUp"&&ve.up?document.getElementById(ve.up)?.focus():se.key==="ArrowDown"&&ve.down?document.getElementById(ve.down)?.focus():se.key==="ArrowLeft"&&ve.left?document.getElementById(ve.left)?.focus():se.key==="ArrowRight"&&ve.right&&document.getElementById(ve.right)?.focus()},ee=()=>{b(!1),p(null),t(),Q.success("  !")},xe=async se=>{A(!0);try{if(console.log(" Uploading image:",se.name,se.type,se.size),!["image/jpeg","image/png","image/webp","image/jpg"].includes(se.type)){Q.error("  .   JPEG, PNG  WebP");return}const ve=5*1024*1024;if(se.size>ve){Q.error("  .  : 5MB");return}const J=await A9(se);console.log(" Upload response:",J),J.success&&J.url?(V(je=>({...je,:J.url})),Q.success(" !",{description:se.name}),q.current&&(q.current.value="")):(console.error(" Upload failed - no URL in response:",J),Q.error(":   "))}catch(ne){console.error(" Image upload error:",ne);const ve=ne instanceof Error?ne.message:" ";Q.error("  ",{description:ve})}finally{A(!1)}},X=()=>{V({:"",:"",sku:"",:"",_:"",1:"",2:"",3:"",4:"",:K[0]?.id||"general",_:!1}),ce(null),ae({isValid:!0,errors:[]}),q.current&&(q.current.value="")},fe=se=>{k(se),V({:se.||"",:se.||"",sku:se.sku||"",:se.||"",_:se._?.toString()||"",1:se.1?.toString()||"",2:se.2?.toString()||"",3:se.3?.toString()||"",4:se.4?.toString()||"",:se.||K[0]?.id||"general",_:se._||se.archived||!1}),ce(se.commission||null),j(!0)},de=async()=>{if(T){console.log(" Already submitting, ignoring duplicate click");return}if(!I.||!I.sku){Q.error("   SKU");return}if(I.sku.length<2){Q.error("SKU    2  (: H2-1)");return}if(!I._||!I.1){Q.error("      1 ()");return}const se=Number(I._),ne=Number(I.1);if(se<=0||ne<=0){Q.error("    ");return}if(se<=ne){Q.error("     ");return}if(!me.isValid){Q.error("   ");return}D(!0);try{console.log(" Creating product:",I),console.log(" productCommission:",re);const ve={...I,commission:re||null,retail_price:parseFloat(I._)||0,partner_price:parseFloat(I.1)||0};console.log(" Sending productData:",ve);const J=await P_(ve);console.log(" Product created:",J),J.success?(Q.success(" ",{description:I.}),j(!1),X(),await ue()):Q.error("   ")}catch(ve){console.error(" Create product error:",ve);const J=ve instanceof Error?ve.message:"  ";J.includes("SKU  ")?Q.error("   SKU  ",{description:'  ""     SKU',duration:5e3}):Q.error("  ",{description:J})}finally{D(!1)}},te=async()=>{if(!E)return;if(T){console.log(" Already submitting, ignoring duplicate click");return}if(!I.||!I.sku){Q.error("   SKU");return}if(I.sku.length<2){Q.error("SKU    2  (: H2-1)");return}if(!I._||!I.1){Q.error("      1 ()");return}const se=Number(I._),ne=Number(I.1);if(se<=0||ne<=0){Q.error("    ");return}if(se<=ne){Q.error("     ");return}if(!me.isValid){Q.error("   ");return}D(!0);try{console.log(" Updating product:",E.id,I),console.log(" productCommission:",re);const ve={...I,commission:re||null,retail_price:parseFloat(I._)||0,partner_price:parseFloat(I.1)||0},J=await O_(E.id,ve);console.log(" Product updated:",J),J.success?(Q.success(" ",{description:I.}),j(!1),k(null),X(),await ue()):Q.error("   ")}catch(ve){console.error(" Update product error:",ve),Q.error("  ")}finally{D(!1)}},he=async se=>{try{(await C9(se)).success&&(Q.success(" "),ue())}catch(ne){console.error("Delete product error:",ne),Q.error("  ")}},we=async(se,ne=!0)=>{try{(await k9(se,ne)).success?(Q.success(ne?"   ":"   "),ue()):Q.error(ne?"    ":"   ")}catch(ve){console.error("Archive product error:",ve),Q.error("  ")}},ze=async()=>{if(confirm(`     ?

  ,     .`))try{const se=await v9();se.success?(Q.success(se.message||" ",{description:` : ${se.details?.deletedDuplicates||0}`}),await ue()):Q.error(se.error||" ")}catch(se){console.error("Clean duplicates error:",se),Q.error("  ")}};return l?s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})})}):s.jsxs(s.Fragment,{children:[i&&s.jsx(Wk,{userName:e.,onUserChange:()=>ue()}),s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:" "}),s.jsx("p",{className:"text-[#666]",children:"  H-Touch    "})]}),n&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:()=>{k(null),X(),V(se=>({...se,sku:R()})),j(!0)},className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] hover:opacity-90",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"})," "]}),s.jsxs(ie,{onClick:()=>W(!0),variant:"outline",className:"border-[#39B7FF] text-[#39B7FF] hover:bg-[#39B7FF]/10",children:[s.jsx(Zp,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(ie,{onClick:ze,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",title:"   ",children:[s.jsx(Un,{className:"w-4 h-4 mr-2"})," "]})]})]}),n&&s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(ie,{onClick:()=>v(!1),variant:y?"outline":"default",className:y?"":"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]",children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"})," (",a.filter(se=>!se._&&!se.archived).length,")"]}),s.jsxs(ie,{onClick:()=>v(!0),variant:y?"default":"outline",className:y?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]":"",children:[s.jsx(Rh,{className:"w-4 h-4 mr-2"})," (",a.filter(se=>se._||se.archived).length,")"]})]}),s.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[s.jsx(ie,{onClick:()=>L(null),variant:C===null?"default":"outline",size:"sm",className:C===null?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]":"",children:" "}),K.map(se=>{const ne=a.filter(ve=>{const J=ve._||ve.archived;return(y?J:!J)&&ve.===se.id}).length;return s.jsxs(ie,{onClick:()=>L(se.id),variant:C===se.id?"default":"outline",size:"sm",className:C===se.id?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]":"",children:[s.jsx(Zp,{className:"w-3 h-3 mr-1"}),se.name," (",ne,")"]},se.id)})]})]}),(()=>{const se=a.filter(ne=>{const ve=ne._||ne.archived,J=y?ve:!ve,je=C===null||ne.===C;return J&&je});return a.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xo,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-[#666]",children:"  "})]}):se.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y?s.jsx(Rh,{className:"w-8 h-8 text-gray-400"}):s.jsx(Xo,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-[#666]",children:y?"   ":"  "}),n&&y&&s.jsx("p",{className:"text-[#999] mt-2",style:{fontSize:"14px"},children:"   "})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 auto-rows-fr",children:se.map((ne,ve)=>{const J=Number(ne._||ne.||0),je=Number(ne.1||ne.||0),Ae=Number(ne.1||0),Te=Number(ne.2||0),Be=Number(ne.3||0),De=Number(ne.4||0),et=J-Ae,vt={L0:et,L1:Ae-Te,L2:Te-Be,L3:Be-De},Ue=ne._||ne.archived,pt=J===0&&je===0;return s.jsxs(Se,{className:`border-[#E6E9EE] rounded-2xl shadow-sm hover:shadow-xl transition-all bg-white overflow-hidden flex flex-col h-full ${Ue?"opacity-60":""}`,children:[s.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-[#F7FAFC] to-[#E6E9EE] flex-shrink-0",children:[Ue&&s.jsxs("div",{className:"absolute top-3 right-3 bg-orange-500 text-white px-3 py-1 rounded-lg flex items-center gap-1",style:{fontSize:"12px",fontWeight:"600"},children:[s.jsx(Rh,{className:"w-3 h-3"}),""]}),!Ue&&ne.&&s.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm text-[#39B7FF] px-3 py-1 rounded-lg flex items-center gap-1",style:{fontSize:"12px",fontWeight:"600"},children:[s.jsx(Zp,{className:"w-3 h-3"}),K.find(Ht=>Ht.id===ne.)?.name||ne.]}),s.jsx(jF,{src:ne.,alt:ne.,className:"w-full h-full object-cover"})]}),s.jsx(He,{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(Ge,{className:"text-[#1E1E1E] line-clamp-1",children:ne.}),s.jsx("p",{className:"text-[#666] mt-2 line-clamp-2",style:{fontSize:"14px"},children:ne.}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(cJ,{size:14,className:"text-[#666]"}),s.jsx("span",{className:"text-[#666]",style:{fontSize:"13px"},children:ne.sku})]})]})})}),s.jsxs(Ee,{children:[pt&&n&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:[s.jsx("p",{className:"text-red-600",style:{fontSize:"13px",fontWeight:"600"},children:"   "}),s.jsx("p",{className:"text-red-500 mt-1",style:{fontSize:"12px"},children:"  .  ."})]}),s.jsxs("div",{className:"bg-[#F7FAFC] rounded-xl p-4 mb-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "}),s.jsx("div",{className:`mt-1 ${pt?"text-red-500":"text-[#1E1E1E]"}`,style:{fontSize:"20px",fontWeight:"700"},children:pt?"":`${J.toLocaleString()}`})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"13px"},children:" "}),s.jsx("div",{className:`mt-1 ${pt?"text-red-500":"text-[#39B7FF]"}`,style:{fontSize:"20px",fontWeight:"700"},children:pt?"":`${je.toLocaleString()}`})]})]}),!pt&&s.jsx("div",{className:"mt-3 pt-3 border-t border-[#E6E9EE]",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"13px"},children:"   "}),s.jsxs("span",{className:"text-[#12C9B6]",style:{fontWeight:"700"},children:["+",et.toLocaleString()]})]})})]}),!pt&&s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("div",{className:"text-[#666]",style:{fontWeight:"600",fontSize:"13px"},children:" MLM:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs("div",{className:"p-2 bg-[#39B7FF]/10 rounded-lg text-center border border-[#39B7FF]/20",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"11px"},children:"L0"}),s.jsxs("div",{className:"text-[#39B7FF]",style:{fontWeight:"700",fontSize:"13px"},children:["",vt.L0||0]})]}),s.jsxs("div",{className:"p-2 bg-[#12C9B6]/10 rounded-lg text-center border border-[#12C9B6]/20",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"11px"},children:"L1"}),s.jsxs("div",{className:"text-[#12C9B6]",style:{fontWeight:"700",fontSize:"13px"},children:["",vt.L1||0]})]}),s.jsxs("div",{className:"p-2 bg-[#12C9B6]/10 rounded-lg text-center border border-[#12C9B6]/20",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"11px"},children:"L2"}),s.jsxs("div",{className:"text-[#12C9B6]",style:{fontWeight:"700",fontSize:"13px"},children:["",vt.L2||0]})]}),s.jsxs("div",{className:"p-2 bg-[#12C9B6]/10 rounded-lg text-center border border-[#12C9B6]/20",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"11px"},children:"L3"}),s.jsxs("div",{className:"text-[#12C9B6]",style:{fontWeight:"700",fontSize:"13px"},children:["",vt.L3||0]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[n&&s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsxs(ie,{onClick:()=>fe(ne),variant:"outline",className:"flex-1 border-amber-500 text-amber-600 hover:bg-amber-50",children:[s.jsx(hc,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(iA,{children:[s.jsx(aA,{asChild:!0,children:s.jsx(ie,{variant:"outline",className:"border-[#E6E9EE] hover:bg-gray-50 px-3",children:s.jsx(BX,{className:"w-4 h-4"})})}),s.jsx(oA,{align:"end",className:"w-48",children:ne._||ne.archived?s.jsxs(s.Fragment,{children:[s.jsxs(ts,{onClick:()=>{confirm(`  "${ne.}"  ?`)&&we(ne.id,!1)},className:"text-green-600 focus:text-green-600 cursor-pointer",children:[s.jsx(YY,{className:"w-4 h-4 mr-2"}),"  "]}),s.jsx(wF,{}),s.jsxs(ts,{onClick:()=>{confirm(`   "${ne.}"?

   !`)&&he(ne.id)},className:"text-red-600 focus:text-red-600 cursor-pointer",children:[s.jsx(Un,{className:"w-4 h-4 mr-2"})," "]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ts,{onClick:()=>{confirm(`  "${ne.}"  ?`)&&we(ne.id,!0)},className:"text-orange-600 focus:text-orange-600 cursor-pointer",children:[s.jsx(Rh,{className:"w-4 h-4 mr-2"}),"  "]}),s.jsx(wF,{}),s.jsxs(ts,{onClick:()=>{confirm(`  "${ne.}"?

    .`)&&he(ne.id)},className:"text-red-600 focus:text-red-600 cursor-pointer",children:[s.jsx(Un,{className:"w-4 h-4 mr-2"}),""]})]})})]})]}),Ue?s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[s.jsx(Rh,{className:"w-5 h-5 text-orange-600 mx-auto mb-2"}),s.jsx("p",{className:"text-orange-600",style:{fontSize:"14px",fontWeight:"600"},children:"  "}),s.jsx("p",{className:"text-orange-500 mt-1",style:{fontSize:"12px"},children:"  "})]}):pt?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-red-600",style:{fontSize:"14px",fontWeight:"600"},children:"   "}),s.jsx("p",{className:"text-red-500 mt-1",style:{fontSize:"12px"},children:"   "})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ie,{onClick:()=>{r&&(r(ne,!1,1),Q.success("  ",{description:`${ne.} ()`}))},className:"w-full bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] hover:opacity-90 text-white",children:[s.jsx(pf,{size:16,className:"mr-2"}),"  (",J.toLocaleString(),")"]}),s.jsxs(ie,{onClick:()=>{r&&(r(ne,!0,1),Q.success("  ",{description:`${ne.} ()`}))},variant:"outline",className:"w-full border-[#39B7FF] text-[#39B7FF] hover:bg-[#39B7FF]/5",children:[s.jsx(pf,{size:16,className:"mr-2"})," (",je.toLocaleString(),")"]})]})]})]})]},`${ne.id}-${ne.sku}-${ve}`)})})})()]}),x&&m&&s.jsx(IEe,{order:m,onClose:()=>{b(!1),p(null)},onSuccess:ee}),n&&s.jsx(Er,{open:N,onOpenChange:se=>{j(se),se?E||I.sku||V(ne=>({...ne,sku:R()})):(k(null),X(),D(!1))},children:s.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:E?" ":" "}),s.jsx(kr,{children:E?"    ":"        "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  *"}),s.jsx(Ie,{id:"product-name",value:I.,onChange:se=>V({...I,:se.target.value}),onKeyDown:se=>{se.key==="Enter"&&(se.preventDefault(),document.getElementById("product-description")?.focus())},placeholder:"  H-Touch"})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(eo,{id:"product-description",value:I.,onChange:se=>V({...I,:se.target.value}),onKeyDown:se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),document.getElementById("product-sku")?.focus())},placeholder:"  ...",rows:3})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:"SKU () *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{id:"product-sku",value:I.sku,onChange:se=>V({...I,sku:se.target.value.toUpperCase()}),onKeyDown:se=>{se.key==="Enter"&&(se.preventDefault(),document.getElementById("price-retail")?.focus())},placeholder:"H2-1",className:"flex-1"}),s.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:()=>{const se=R(I.);V({...I,sku:se}),Q.success("SKU ",{description:se})},className:"whitespace-nowrap",title:"  SKU",children:" "})]}),!E&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:' SKU  .      ""'})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" "}),s.jsxs("div",{className:"space-y-2",children:[I.&&s.jsxs("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border border-gray-200 bg-gray-50",children:[s.jsx(jF,{src:I.,alt:"Preview",className:"w-full h-full object-cover"}),s.jsx(ie,{type:"button",size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>{V(se=>({...se,:""})),q.current&&(q.current.value="")},children:s.jsx(Mr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Ie,{ref:q,type:"file",accept:"image/jpeg,image/png,image/webp,image/jpg",onChange:se=>{const ne=se.target.files?.[0];ne&&xe(ne)},disabled:_,className:"cursor-pointer"})}),_&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-6 h-6 animate-spin text-[#39B7FF]"}),s.jsx("span",{className:"text-sm text-gray-600",children:"..."})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"  URL  (. 5MB, : JPEG, PNG, WebP):"}),s.jsx(Ie,{value:I.,onChange:se=>V({...I,:se.target.value}),placeholder:"https://example.com/image.jpg",disabled:_})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"text-[#39B7FF]",children:""})," "]}),s.jsxs("div",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx("span",{className:"text-[#12C9B6]",children:""})," "]})]}),s.jsxs("div",{className:"mb-3 p-3 bg-amber-50 border border-amber-300 rounded text-xs text-amber-900",children:[s.jsx("strong",{children:"  :"}),"  >  1 >  2 >  3 >  .       ,    ."]}),s.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-900",children:[s.jsx("strong",{children:"  :"}),' Enter =     (      "") |  = / |  = /  ']}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  () *"}),s.jsx(Ie,{id:"price-retail",type:"number",value:I._,onChange:se=>V({...I,_:se.target.value}),onKeyDown:se=>pe(se,"price-retail",{enter:"price-level1",down:"price-level1",right:"price-l0"}),placeholder:"6900",className:"text-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" L0"}),s.jsx(Ie,{id:"price-l0",type:"number",value:I._&&I.1?Number(I._||0)-Number(I.1||0):"",onChange:se=>{const ne=Number(se.target.value)||0,ve=Number(I._)||0;V({...I,1:String(ve-ne)})},onKeyDown:se=>pe(se,"price-l0",{down:"price-l1",left:"price-retail"}),placeholder:"2000",className:"text-lg border-2 border-green-200 text-green-600 font-semibold"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"=  - "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  1 () *"}),s.jsx(Ie,{id:"price-level1",type:"number",value:I.1,onChange:se=>V({...I,1:se.target.value}),onKeyDown:se=>pe(se,"price-level1",{enter:"price-level2",up:"price-retail",down:"price-level2",right:"price-l1"}),placeholder:"4900",className:"text-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" L1"}),s.jsx(Ie,{id:"price-l1",type:"number",value:I.1&&I.2?Number(I.1||0)-Number(I.2||0):"",onChange:se=>{const ne=Number(se.target.value)||0,ve=Number(I.1)||0;V({...I,2:String(ve-ne)})},onKeyDown:se=>pe(se,"price-l1",{up:"price-l0",down:"price-l2",left:"price-level1"}),placeholder:"400",className:"text-lg border-2 border-blue-200 text-blue-600 font-semibold"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"= 1 - 2"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  2 ()"}),s.jsx(Ie,{id:"price-level2",type:"number",value:I.2,onChange:se=>V({...I,2:se.target.value}),onKeyDown:se=>pe(se,"price-level2",{enter:"price-level3",up:"price-level1",down:"price-level3",right:"price-l2"}),placeholder:"4500",className:"text-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  L1 = 1 - 2"})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" L2"}),s.jsx(Ie,{id:"price-l2",type:"number",value:I.2&&I.3?Number(I.2||0)-Number(I.3||0):"",onChange:se=>{const ne=Number(se.target.value)||0,ve=Number(I.2)||0;V({...I,3:String(ve-ne)})},onKeyDown:se=>pe(se,"price-l2",{up:"price-l1",down:"price-l3",left:"price-level2"}),placeholder:"900",className:"text-lg border-2 border-orange-200 text-orange-600 font-semibold"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"= 2 - 3"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  3 ()"}),s.jsx(Ie,{id:"price-level3",type:"number",value:I.3,onChange:se=>V({...I,3:se.target.value}),onKeyDown:se=>pe(se,"price-level3",{enter:"price-company",up:"price-level2",down:"price-company",right:"price-l3"}),placeholder:"3600",className:"text-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  L2 = 2 - 3"})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" L3"}),s.jsx(Ie,{id:"price-l3",type:"number",value:I.3&&I.4?Number(I.3||0)-Number(I.4||0):"",onChange:se=>{const ne=Number(se.target.value)||0,ve=Number(I.3)||0;V({...I,4:String(ve-ne)})},onKeyDown:se=>pe(se,"price-l3",{up:"price-l2",left:"price-level3"}),placeholder:"300",className:"text-lg border-2 border-purple-200 text-purple-600 font-semibold"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"= 3 -  "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  ()"}),s.jsx(Ie,{id:"price-company",type:"number",value:I.4,onChange:se=>V({...I,4:se.target.value}),onKeyDown:se=>pe(se,"price-company",{enter:"submit-product-button",up:"price-level3",down:"submit-product-button"}),placeholder:"3300",className:"text-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" "}),s.jsx(Ie,{type:"number",value:I.4,placeholder:"0",className:"text-lg border-2 border-gray-300 text-gray-800 font-bold bg-gradient-to-r from-gray-100 to-gray-50",readOnly:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"=  "})]})]})]}),I.1&&I.4&&s.jsxs("div",{className:"mt-3 space-y-2",children:[I._&&s.jsxs("div",{className:`p-3 rounded-lg ${!me.isValid&&me.errors.some(se=>se.includes(""))?"bg-red-50 border-2 border-red-300":"bg-green-50 border border-green-200"}`,children:[s.jsxs("div",{className:"text-sm font-semibold text-green-900 mb-1",children:["  (   ",Number(I._).toLocaleString(),"):"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"L0: "}),s.jsxs("span",{className:"font-bold",children:["",(Number(I._)-Number(I.1)).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"L1+L2+L3: "}),s.jsxs("span",{className:"font-bold",children:["",(Number(I.1)-Number(I.2||0)+(Number(I.2||0)-Number(I.3||0))+(Number(I.3||0)-Number(I.4))).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:" : "}),s.jsxs("span",{className:"font-bold",children:["",Number(I.4).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:": "}),s.jsx("span",{className:"font-bold text-green-600",children:Number(I._)-Number(I.1)+(Number(I.1)-Number(I.2||0))+(Number(I.2||0)-Number(I.3||0))+(Number(I.3||0)-Number(I.4))+Number(I.4)===Number(I._)?"":""})]})]})]}),s.jsxs("div",{className:`p-3 rounded-lg ${!me.isValid&&me.errors.some(se=>se.includes(""))?"bg-red-50 border-2 border-red-300":"bg-blue-50 border border-blue-200"}`,children:[s.jsxs("div",{className:"text-sm font-semibold text-blue-900 mb-1",children:["  (   ",Number(I.1).toLocaleString(),"):"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"L1+L2+L3: "}),s.jsxs("span",{className:"font-bold",children:["",(Number(I.1)-Number(I.2||0)+(Number(I.2||0)-Number(I.3||0))+(Number(I.3||0)-Number(I.4))).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:" : "}),s.jsxs("span",{className:"font-bold",children:["",Number(I.4).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:": "}),s.jsx("span",{className:"font-bold text-blue-600",children:Number(I.1)-Number(I.2||0)+(Number(I.2||0)-Number(I.3||0))+(Number(I.3||0)-Number(I.4))+Number(I.4)===Number(I.1)?"":""})]})]})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsx("h3",{className:"font-semibold mb-2 text-gray-700",children:"  "}),s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:['  ,       SKU "',I.sku||"H2-1",'"']}),!me.isValid&&me.errors.length>0&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-300 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(ks,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-red-800 mb-1",children:"  :"}),s.jsx("ul",{className:"space-y-1",children:me.errors.map((se,ne)=>s.jsx("li",{className:"text-sm text-red-700",children:se},ne))})]})]})}),me.isValid&&re&&(parseFloat(I._)>0||parseFloat(I.1)>0)&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-300 rounded-lg",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-green-700 text-sm",children:"  "})})}),re&&s.jsx(iq,{commission:re,onChange:ce,retailPrice:parseFloat(I._)||0,partnerPrice:parseFloat(I.1)||0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx("select",{value:I.,onChange:se=>V({...I,:se.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg",children:K.map(se=>s.jsx("option",{value:se.id,children:se.name},se.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[s.jsx("input",{type:"checkbox",checked:!I._,onChange:se=>V({...I,_:!se.target.checked}),className:"w-4 h-4"}),s.jsx(Oe,{children:""})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(ie,{id:"submit-product-button",type:"button",onClick:E?te:de,className:"bg-[#39B7FF]",disabled:T||!me.isValid,children:[T?s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Ku,{className:"w-4 h-4 mr-2"}),T?"...":E?"":""]}),!me.isValid&&s.jsx("span",{className:"text-sm text-red-600 flex items-center",children:"  "}),s.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{j(!1),k(null),X()},children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),""]})]})]})]})}),s.jsx(Er,{open:H,onOpenChange:W,children:s.jsxs(vr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsx(yr,{className:"text-2xl text-[#1E1E1E]",children:" "}),s.jsx(kr,{children:",     "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[s.jsx("h3",{className:"font-semibold mb-3",children:B?" ":" "}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  *"}),s.jsxs("div",{className:"flex gap-2 mt-1.5",children:[s.jsx(Ie,{value:z.name,onChange:se=>P({name:se.target.value}),placeholder:" ",className:"flex-1"}),s.jsxs(ie,{onClick:()=>{if(!z.name.trim()){Q.error("  ");return}if(B)$(se=>se.map(ne=>ne.id===B.id?{...ne,name:z.name}:ne)),Q.success(" "),M(null);else{const se=U(z.name);if(K.find(ne=>ne.id===se)){Q.error("     ");return}$(ne=>[...ne,{id:se,name:z.name}]),Q.success(" ")}P({name:""})},className:"bg-[#39B7FF] shrink-0",children:[s.jsx(Ku,{className:"w-4 h-4 mr-2"}),B?"":""]})]})]}),B&&s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{M(null),P({name:""})},children:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:" :"}),K.map(se=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zp,{className:"w-5 h-5 text-[#39B7FF]"}),s.jsx("div",{children:s.jsx("div",{className:"font-semibold",children:se.name})}),s.jsxs("div",{className:"text-sm text-gray-400",children:["(",a.filter(ne=>ne.===se.id).length," )"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{M(se),P({name:se.name})},className:"border-amber-500 text-amber-600 hover:bg-amber-50",children:s.jsx(hc,{className:"w-4 h-4"})}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{const ne=a.filter(ve=>ve.===se.id).length;if(ne>0){Q.error(`  :   ${ne} `);return}confirm(`  "${se.name}"?`)&&($(ve=>ve.filter(J=>J.id!==se.id)),Q.success(" "))},className:"border-red-500 text-red-600 hover:bg-red-50",children:s.jsx(Un,{className:"w-4 h-4"})})]})]},se.id))]}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(ie,{variant:"outline",onClick:()=>{W(!1),M(null),P({name:""})},children:""})})]})]})})]})}var D0="Checkbox",[$Ee]=ls(D0),[LEe,lA]=$Ee(D0);function BEe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:m}=e,[p,x]=Os({prop:r,defaultProp:i??!1,onChange:c,caller:D0}),[b,y]=w.useState(null),[v,N]=w.useState(null),j=w.useRef(!1),E=b?!!o||!!b.closest("form"):!0,k={checked:p,disabled:a,setChecked:x,control:b,setControl:y,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:j,required:d,defaultChecked:el(i)?!1:i,isFormControl:E,bubbleInput:v,setBubbleInput:N};return s.jsx(LEe,{scope:t,...k,children:zEe(m)?m(k):n})}var aq="CheckboxTrigger",oq=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:b}=lA(aq,e),y=Mt(i,h),v=w.useRef(c);return w.useEffect(()=>{const N=a?.form;if(N){const j=()=>m(v.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[a,m]),s.jsx(xt.button,{type:"button",role:"checkbox","aria-checked":el(c)?"mixed":c,"aria-required":d,"data-state":fq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Je(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Je(r,N=>{m(j=>el(j)?!0:!j),b&&x&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})})});oq.displayName=aq;var lq=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...m}=e;return s.jsx(BEe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>s.jsxs(s.Fragment,{children:[s.jsx(oq,{...m,ref:t,__scopeCheckbox:r}),p&&s.jsx(hq,{__scopeCheckbox:r})]})})});lq.displayName=D0;var cq="CheckboxIndicator",uq=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=lA(cq,r);return s.jsx(cs,{present:n||el(a.checked)||a.checked===!0,children:s.jsx(xt.span,{"data-state":fq(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});uq.displayName=cq;var dq="CheckboxBubbleInput",hq=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:h,form:m,bubbleInput:p,setBubbleInput:x}=lA(dq,e),b=Mt(r,x),y=A0(a),v=Uv(n);w.useEffect(()=>{const j=p;if(!j)return;const E=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(E,"checked").set,A=!i.current;if(y!==a&&_){const T=new Event("click",{bubbles:A});j.indeterminate=el(a),_.call(j,el(a)?!1:a),j.dispatchEvent(T)}},[p,y,a,i]);const N=w.useRef(el(a)?!1:a);return s.jsx(xt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:d,value:h,form:m,...t,tabIndex:-1,ref:b,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});hq.displayName=dq;function zEe(e){return typeof e=="function"}function el(e){return e==="indeterminate"}function fq(e){return el(e)?"indeterminate":e?"checked":"unchecked"}function F0({className:e,...t}){return s.jsx(lq,{"data-slot":"checkbox",className:ut("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(uq,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Hi,{className:"size-3.5"})})})}function hu(e,t,r){let n=r.initialDeps??[],i;function a(){var o,l,c,d;let h;r.key&&((o=r.debug)!=null&&o.call(r))&&(h=Date.now());const m=e();if(!(m.length!==n.length||m.some((b,y)=>n[y]!==b)))return i;n=m;let x;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(x=Date.now()),i=t(...m),r.key&&((c=r.debug)!=null&&c.call(r))){const b=Math.round((Date.now()-h)*100)/100,y=Math.round((Date.now()-x)*100)/100,v=y/16,N=(j,E)=>{for(j=String(j);j.length<E;)j=" "+j;return j};console.info(`%c ${N(y,5)} /${N(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,r?.key)}return(d=r?.onChange)==null||d.call(r,i),i}return a.updateDeps=o=>{n=o},a}function EF(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const WEe=(e,t)=>Math.abs(e-t)<1.01,UEe=(e,t,r)=>{let n;return function(...i){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,i),r)}},_F=e=>{const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},VEe=e=>e,qEe=e=>{const t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let i=t;i<=r;i++)n.push(i);return n},HEe=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;const i=o=>{const{width:l,height:c}=o;t({width:Math.round(l),height:Math.round(c)})};if(i(_F(r)),!n.ResizeObserver)return()=>{};const a=new n.ResizeObserver(o=>{const l=()=>{const c=o[0];if(c?.borderBoxSize){const d=c.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(_F(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return a.observe(r,{box:"border-box"}),()=>{a.unobserve(r)}},CF={passive:!0},kF=typeof window>"u"?!0:"onscrollend"in window,KEe=(e,t)=>{const r=e.scrollElement;if(!r)return;const n=e.targetWindow;if(!n)return;let i=0;const a=e.options.useScrollendEvent&&kF?()=>{}:UEe(n,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=h=>()=>{const{horizontal:m,isRtl:p}=e.options;i=m?r.scrollLeft*(p&&-1||1):r.scrollTop,a(),t(i,h)},l=o(!0),c=o(!1);c(),r.addEventListener("scroll",l,CF);const d=e.options.useScrollendEvent&&kF;return d&&r.addEventListener("scrollend",c,CF),()=>{r.removeEventListener("scroll",l),d&&r.removeEventListener("scrollend",c)}},GEe=(e,t,r)=>{if(t?.borderBoxSize){const n=t.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},YEe=(e,{adjustments:t=0,behavior:r},n)=>{var i,a;const o=e+t;(a=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[n.options.horizontal?"left":"top"]:o,behavior:r})};class XEe{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{const o=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var a;return(a=n())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=n())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:VEe,rangeExtractor:qEe,onChange:()=>{},measureElement:GEe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=hu(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,a=new Map;for(let o=n-1;o>=0;o--){const l=r[o];if(i.has(l.lane))continue;const c=a.get(l.lane);if(c==null||l.end>c.end?a.set(l.lane,l):l.end<c.end&&i.set(l.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=hu(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,a,o)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:a,enabled:o}),{key:!1}),this.getMeasurements=hu(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:a,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,c);for(let h=c;h<r;h++){const m=a(h),p=this.options.lanes===1?d[h-1]:this.getFurthestMeasurement(d,h),x=p?p.end+this.options.gap:n+i,b=l.get(m),y=typeof b=="number"?b:this.options.estimateSize(h),v=x+y,N=p?p.lane:h%this.options.lanes;d[h]={index:h,start:x,size:y,end:v,key:m,lane:N}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=hu(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,a)=>this.range=r.length>0&&n>0?QEe({measurements:r,outerSize:n,scrollOffset:i,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=hu(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,a,o)=>a===null||o===null?[]:r({startIndex:a,endIndex:o,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),a=this.measurementsCache[i];if(!a)return;const o=a.key,l=this.elementsCache.get(o);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(o,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,o=n-a;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=hu(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let a=0,o=r.length;a<o;a++){const l=r[a],c=n[l];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return EF(n[mq(0,n.length-1,i=>EF(n[i]).start,r)])},this.getOffsetForAlignment=(r,n,i=0)=>{const a=this.getSize(),o=this.getScrollOffset();n==="auto"&&(n=r>=o+a?"end":"start"),n==="center"?r+=(i-a)/2:n==="end"&&(r-=a);const l=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const a=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(i.end>=o+a-this.options.scrollPaddingEnd)n="end";else if(i.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];const l=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let a=0;const o=10,l=d=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(r,d);if(!h){console.warn("Failed to get offset for index:",r);return}const[m,p]=h;this._scrollToOffset(m,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),b=this.getOffsetForIndex(r,p);if(!b){console.warn("Failed to get offset for index:",r);return}WEe(b[0],x)||c(p)})},c=d=>{this.targetWindow&&(a++,a<o?this.targetWindow.requestAnimationFrame(()=>l(d)):console.warn(`Failed to scroll to index ${r} after ${o} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const a=Array(this.options.lanes).fill(null);let o=n.length-1;for(;o>=0&&a.some(l=>l===null);){const l=n[o];a[l.lane]===null&&(a[l.lane]=l.end),o--}i=Math.max(...a.filter(l=>l!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const mq=(e,t,r,n)=>{for(;e<=t;){const i=(e+t)/2|0,a=r(i);if(a<n)e=i+1;else if(a>n)t=i-1;else return i}return e>0?e-1:0};function QEe({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){const i=e.length-1,a=c=>e[c].start;if(e.length<=n)return{startIndex:0,endIndex:i};let o=mq(0,i,a,r),l=o;if(n===1)for(;l<i&&e[l].end<r+t;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<i&&c.some(h=>h<r+t);){const h=e[l];c[h.lane]=h.end,l++}const d=Array(n).fill(r+t);for(;o>=0&&d.some(h=>h>=r);){const h=e[o];d[h.lane]=h.start,o--}o=Math.max(0,o-o%n),l=Math.min(i,l+(n-1-l%n))}return{startIndex:o,endIndex:l}}const AF=typeof document<"u"?w.useLayoutEffect:w.useEffect;function JEe(e){const t=w.useReducer(()=>({}),{})[1],r={...e,onChange:(i,a)=>{var o;a?Ad.flushSync(t):t(),(o=e.onChange)==null||o.call(e,i,a)}},[n]=w.useState(()=>new XEe(r));return n.setOptions(r),AF(()=>n._didMount(),[]),AF(()=>n._willUpdate()),n}function Ou(e){return JEe({observeElementRect:HEe,observeElementOffset:KEe,scrollToFn:YEe,...e})}const ZEe=300*1e3,e_e=120*1e3;function xl(){Lm();const{data:e,isLoading:t,isError:r,error:n,refetch:i,isRefetching:a}=Nc({queryKey:["all-users"],queryFn:async()=>{console.log(" useAllUsers: Fetching all users from API...");const o=await Pv();if(!o.success)throw new Error(o.error||"Failed to load users");const l=o.users||[];return console.log(` useAllUsers: Loaded ${l.length} users`),l},staleTime:e_e,cacheTime:ZEe,refetchOnWindowFocus:!1,retry:2});return{users:e||[],isLoading:t,isError:r,error:n,refetch:i,isRefetching:a}}function Yd(){const e=Lm();return()=>{console.log(" Invalidating all-users cache"),e.invalidateQueries({queryKey:["all-users"]})}}function pq({currentUser:e,onDataChange:t}){const{users:r,isLoading:n,refetch:i}=xl(),a=Yd(),[o,l]=w.useState([]),[c,d]=w.useState(!0),[h,m]=w.useState([]),[p,x]=w.useState(!1),[b,y]=w.useState(!1),[v,N]=w.useState(""),[j,E]=w.useState(""),[k,_]=w.useState(""),[A,T]=w.useState(""),[D,q]=w.useState(""),[K,$]=w.useState(""),H=w.useMemo(()=>r.map(ne=>({id:ne.id,:ne.,:ne.,email:ne.email})),[r]),W=n||c;w.useEffect(()=>{B()},[]);const B=async()=>{try{d(!0);const ne=await d9();ne.success&&l(ne.reserved||[])}catch(ne){console.error("Failed to load reserved IDs:",ne),Q.error("   ID")}finally{d(!1)}},M=async()=>{await Promise.all([i(),B()])},z=w.useMemo(()=>{console.log(" Generating allIds array (99,999 elements)...");const ne=Array.from({length:99999},(ve,J)=>String(J+1).padStart(3,"0"));return console.log(" Generated allIds"),ne},[]),{occupiedIds:P,reservedIdsFormatted:C,freeIds:L,duplicateIds:U,nextId:R}=w.useMemo(()=>{if(console.log(" Recalculating occupied/free/reserved IDs..."),!Array.isArray(H)||!Array.isArray(o)||!Array.isArray(z))return console.warn(" Data not ready for ID calculations"),{occupiedIds:[],reservedIdsFormatted:[],freeIds:[],duplicateIds:[],nextId:"N/A"};const ne=H.map(De=>De.id).filter(Boolean).sort((De,et)=>De.localeCompare(et)),ve=o.map(De=>{const et=parseInt(De);return et<=999?String(et).padStart(3,"0"):String(et)}).filter(Boolean),J=new Set(ne),je=new Set(ve),Ae=z.filter(De=>!J.has(De)&&!je.has(De)),Te=ve.filter(De=>J.has(De)).sort((De,et)=>De.localeCompare(et)),Be=Ae[0]||"N/A";return console.log(` Calculated: ${ne.length} occupied, ${Ae.length} free, ${ve.length} reserved, ${Te.length} duplicates`),{occupiedIds:ne,reservedIdsFormatted:ve,freeIds:Ae,duplicateIds:Te,nextId:Be}},[H,o,z]),I=w.useMemo(()=>{if(!Array.isArray(P))return[];if(!j.trim())return P;const ne=j.trim().toLowerCase();return P.filter(ve=>{if(!ve)return!1;const J=H.find(je=>je.id===ve);return ve.includes(ne)||J?.?.toLowerCase().includes(ne)||J?.?.toLowerCase().includes(ne)})},[P,j,H]),V=w.useMemo(()=>{if(!Array.isArray(L))return[];if(!k.trim())return L;const ne=k.trim();return L.filter(ve=>ve&&ve.includes(ne))},[L,k]),re=w.useMemo(()=>{if(!Array.isArray(C))return[];if(!A.trim())return C;const ne=A.trim();return C.filter(ve=>ve&&ve.includes(ne))},[C,A]),ce=ne=>{m(ve=>ve.includes(ne)?ve.filter(J=>J!==ne):[...ve,ne])},me=async()=>{if(h.length===0){Q.error("   ");return}console.log(" Reserving IDs:",h);try{const ne=await h9(h);console.log(" Reserve response:",ne),ne.success&&(Q.success(` ${h.length} `),m([]),await B())}catch(ne){console.error("Error reserving IDs:",ne),Q.error(" ")}},ae=async ne=>{try{(await f9(ne)).success&&(Q.success(` ${ne}   `),await B())}catch(ve){console.error("Error unreserving ID:",ve),Q.error("  ")}},ue=async()=>{try{d(!0);const ne=await m9();if(ne.success){const{removed:ve,message:J}=ne;ve&&Array.isArray(ve)&&ve.length>0?Q.success(`${J}
: ${ve.join(", ")}`):Q.success("   "),await B(),a()}}catch(ne){console.error("Error syncing reserved IDs:",ne),Q.error(" ")}finally{d(!1)}},pe=async()=>{if(!v||!D){Q.error("   ");return}const ne=H.find(J=>J.id===D);if(!ne){console.error(" User not found in local list:",D),Q.error("    ");return}console.log(" Assigning reserved ID:",{selectedReservedId:v,selectedUserId:D,userName:`${ne.} ${ne.}`,userEmail:ne.email});const ve=`  ${v}  ${ne.} ${ne.}?

  ${ne.id}   .`;if(confirm(ve))try{console.log(" DEBUG: Checking user in DB before assignment...");let J=null;try{const Te=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/debug-user`,{method:"POST",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json","X-User-Id":e?.id||""},body:JSON.stringify({userId:D})});Te.ok?(J=await Te.json(),console.log(" DEBUG response:",J)):console.error("Debug endpoint returned error status:",Te.status)}catch(Te){console.error("Debug endpoint error:",Te)}if(!(J&&(J.directGet||J.userFromPrefix||J.userNormalized||J.userPadded))){console.error(" User not found in database:",D);let Te=`:   ID "${D}"     !

`;J&&J.similarIds&&Array.isArray(J.similarIds)&&J.similarIds.length>0&&(Te+=`  ID:
`,J.similarIds.slice(0,5).forEach(Be=>{Te+=`- ID: "${Be.id}"  ${Be.name}
`}),Te+=`
`),J&&J.totalUsers&&(Te+=`   : ${J.totalUsers}
`),Te+=`
 :
1.    UI,     
2.       
3.      `,alert(Te),Q.error(` ${D}    !`,{duration:5e3});return}console.log(" User found in DB, proceeding with assignment..."),console.log(" Found using method:",{directGet:J.directGet,userFromPrefix:J.userFromPrefix,userNormalized:J.userNormalized,userPadded:J.userPadded}),console.log(" Calling API assignReservedId with:",{newId:v,userId:D}),(await p9(v,D)).success&&(Q.success(` ${v}  `),x(!1),N(""),q(""),a(),await B(),t&&t())}catch(J){console.error("Error assigning ID:",J),Q.error("  ")}},ee=ne=>{Q.info(`   ${ne} ( )`)},xe=w.useRef(null),X=w.useRef(null),fe=w.useRef(null),de=Ou({count:I?.length||0,getScrollElement:()=>xe.current,estimateSize:()=>64,overscan:5}),te=Ou({count:V?.length||0,getScrollElement:()=>X.current,estimateSize:()=>64,overscan:10}),he=Ou({count:re?.length||0,getScrollElement:()=>fe.current,estimateSize:()=>64,overscan:5}),we=w.useRef(null),ze=w.useMemo(()=>Array.isArray(H)?H.filter(ne=>{if(!ne)return!1;const ve=K.toLowerCase().trim();return ve?ne.?.toLowerCase().includes(ve)||ne.?.toLowerCase().includes(ve)||ne.id?.includes(ve)||ne.email?.toLowerCase().includes(ve):!0}).sort((ne,ve)=>{if(K.trim()){const J=K.toLowerCase(),je=ne.?.toLowerCase().startsWith(J)||ne.?.toLowerCase().startsWith(J),Ae=ve.?.toLowerCase().startsWith(J)||ve.?.toLowerCase().startsWith(J);if(je&&!Ae)return-1;if(!je&&Ae)return 1}return`${ne.||""} ${ne.||""}`.localeCompare(`${ve.||""} ${ve.||""}`)}):[],[H,K]),se=Ou({count:ze?.length||0,getScrollElement:()=>we.current,estimateSize:()=>70,overscan:3});return W?s.jsxs(Se,{children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(C6,{className:"w-5 h-5"})," ID "]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-center py-8 text-gray-500",children:"..."})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Va,{children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsxs(He,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs(Ge,{className:"flex items-center gap-3 text-[#1E1E1E]",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl flex items-center justify-center",children:s.jsx(C6,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"text-base sm:text-lg",children:" ID  (001-99999)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:ue,disabled:W,className:"bg-purple-50 border-purple-300 text-purple-700 hover:bg-purple-100",children:" "}),s.jsx(ie,{variant:"outline",size:"sm",onClick:M,children:""})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 mt-4 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded"}),s.jsxs("span",{className:"text-[#666]",children:[": ",P.length,I.length!==P.length&&s.jsxs("span",{className:"text-[#39B7FF] ml-1",children:["(",I.length,")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsxs("span",{className:"text-[#666]",children:[": ",L.length.toLocaleString("ru-RU"),V.length!==L.length&&s.jsxs("span",{className:"text-[#39B7FF] ml-1",children:["(",V.length.toLocaleString("ru-RU"),")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),s.jsxs("span",{className:"text-[#666]",children:[": ",o.length,re.length!==C.length&&s.jsxs("span",{className:"text-[#39B7FF] ml-1",children:["(",re.length,")"]})]})]}),s.jsx("div",{className:"sm:ml-auto",children:s.jsxs(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white text-xs",children:[": ",R]})})]})]}),s.jsxs(Ee,{children:[U.length>0&&s.jsx("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-semibold text-red-800 mb-2",children:["  ! (",U.length,")"]}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"        :"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:U.map(ne=>s.jsx("code",{className:"bg-red-100 px-2 py-1 rounded text-red-800 font-semibold",children:ne},ne))}),s.jsx(ie,{size:"sm",onClick:ue,disabled:W,className:"bg-red-600 hover:bg-red-700 text-white",children:"  "})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-[#1E1E1E]",children:" "}),s.jsx(Qe,{variant:"secondary",children:P.length})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#999]"}),s.jsx(Ie,{placeholder:"    ...",value:j,onChange:ne=>E(ne.target.value),className:"pl-9 h-9 text-sm border-[#E6E9EE]"}),j&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>E(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",children:s.jsx(Mr,{className:"w-3 h-3"})})]}),I.length!==P.length&&s.jsxs("p",{className:"text-xs text-[#666] px-1",children:[": ",I.length,"  ",P.length]}),s.jsx("div",{ref:xe,className:"h-[540px] rounded-xl border border-[#E6E9EE] p-3 bg-gray-50 overflow-auto",children:I.length===0?s.jsx("p",{className:"text-center text-[#999] text-sm py-8",children:j?"  ":"  "}):s.jsx("div",{style:{height:`${de.getTotalSize()}px`,width:"100%",position:"relative"},children:de.getVirtualItems().map(ne=>{const ve=I[ne.index],J=H.find(je=>je.id===ve);return s.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${ne.start}px)`},children:s.jsxs("button",{onClick:()=>ee(ve),className:"w-full text-left px-3 py-3 rounded-lg bg-white border border-gray-200 hover:border-[#39B7FF] hover:bg-[#F7FAFC] transition-colors group mb-2 min-h-[60px]",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("code",{className:"text-sm font-mono text-[#1E1E1E] font-semibold",children:ve}),s.jsx(US,{className:"w-3 h-3 text-[#666] group-hover:text-[#39B7FF]"})]}),J&&s.jsxs("p",{className:"text-xs text-[#666] mt-1 truncate",children:[J.," ",J.]})]})},ne.key)})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-[#1E1E1E]",children:" "}),s.jsx(Qe,{variant:"secondary",children:L.length})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#999]"}),s.jsx(Ie,{placeholder:"  ...",value:k,onChange:ne=>_(ne.target.value),className:"pl-9 h-9 text-sm border-[#E6E9EE]"}),k&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>_(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",children:s.jsx(Mr,{className:"w-3 h-3"})})]}),V.length!==L.length&&s.jsxs("p",{className:"text-xs text-[#666] px-1",children:[": ",V.length,"  ",L.length]}),s.jsxs("div",{className:"space-y-2",children:[h.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("span",{className:"text-sm text-[#666]",children:[": ",h.length]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{size:"sm",onClick:me,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:[s.jsx(mf,{className:"w-4 h-4 mr-1"}),""]}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>m([]),children:s.jsx(Mr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{ref:X,className:"h-[540px] rounded-xl border border-[#E6E9EE] p-3 bg-green-50 overflow-auto",children:V.length===0?s.jsx("p",{className:"text-center text-[#999] text-sm py-8",children:k?"  ":"  "}):s.jsx("div",{style:{height:`${te.getTotalSize()}px`,width:"100%",position:"relative"},children:te.getVirtualItems().map(ne=>{const ve=V[ne.index];return s.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${ne.start}px)`},children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-3 rounded-lg bg-white border border-green-200 hover:border-green-400 transition-colors mb-2 min-h-[60px]",children:[s.jsx(F0,{checked:h.includes(ve),onCheckedChange:()=>ce(ve)}),s.jsx("code",{className:"text-sm font-mono text-[#1E1E1E] flex-1",children:ve}),ve===R&&s.jsx(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white text-xs",children:""})]})},ne.key)})})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-[#1E1E1E]",children:""}),s.jsx(Qe,{variant:"secondary",children:o.length})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#999]"}),s.jsx(Ie,{placeholder:"  ...",value:A,onChange:ne=>T(ne.target.value),className:"pl-9 h-9 text-sm border-[#E6E9EE]"}),A&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>T(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",children:s.jsx(Mr,{className:"w-3 h-3"})})]}),re.length!==C.length&&s.jsxs("p",{className:"text-xs text-[#666] px-1",children:[": ",re.length,"  ",C.length]}),s.jsx("div",{ref:fe,className:"h-[540px] rounded-xl border border-[#E6E9EE] p-3 bg-purple-50 overflow-auto",children:re.length===0?s.jsx("p",{className:"text-center text-[#999] text-sm py-8",children:A?"  ":"  "}):s.jsx("div",{style:{height:`${he.getTotalSize()}px`,width:"100%",position:"relative"},children:he.getVirtualItems().map(ne=>{const ve=re[ne.index];return s.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${ne.start}px)`},children:s.jsx("div",{className:"px-3 py-3 rounded-lg bg-white border border-purple-200 hover:border-purple-400 transition-colors mb-2 min-h-[60px]",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("code",{className:"text-sm font-mono text-[#1E1E1E] font-semibold",children:ve}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{N(ve),x(!0)},className:"h-7 w-7 p-0",children:s.jsx(US,{className:"w-3 h-3"})})}),s.jsx(Ko,{children:s.jsx("p",{children:" "})})]}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>ae(ve),className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(Mr,{className:"w-3 h-3"})})]})]})})},ne.key)})})})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsx("h4",{className:"font-semibold text-[#1E1E1E] mb-2",children:"   :"}),s.jsxs("ul",{className:"text-sm text-[#666] space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:""}),"    (  )"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:""}),"      "]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:""}),"    ,   "]}),s.jsx("li",{children:"       "}),s.jsxs("li",{children:["  ",s.jsx("strong",{children:":"}),"          "]}),s.jsxs("li",{children:["  ",s.jsx("strong",{children:":"}),"  ",L.length.toLocaleString("ru-RU"),"  ,      "]})]})]})]})]})}),s.jsx(Er,{open:p,onOpenChange:ne=>{x(ne),ne||($(""),q(""))},children:s.jsxs(vr,{className:"max-w-2xl",children:[s.jsxs(_r,{children:[s.jsxs(yr,{children:["  ",v," "]}),s.jsx(kr,{children:"      .       ."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#999]"}),s.jsx(Ie,{placeholder:"   ...",value:K,onChange:ne=>$(ne.target.value),className:"pl-10"})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsx("div",{ref:we,className:"h-[300px] overflow-auto",children:ze.length===0?s.jsx("div",{className:"text-center py-8 text-[#999]",children:"  "}):s.jsx("div",{style:{height:`${se.getTotalSize()}px`,width:"100%",position:"relative",padding:"8px"},children:se.getVirtualItems().map(ne=>{const ve=ze[ne.index];return s.jsx("div",{style:{position:"absolute",top:0,left:8,right:8,transform:`translateY(${ne.start}px)`},children:s.jsx("button",{onClick:()=>q(ve.id),className:`w-full text-left px-4 py-3 rounded-lg transition-all hover:bg-[#F7FAFC] mb-1 ${D===ve.id?"bg-gradient-to-r from-[#39B7FF]/10 to-[#12C9B6]/10 border-2 border-[#39B7FF]":"border-2 border-transparent hover:border-[#E6E9EE]"}`,children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-[#1E1E1E]",children:[ve.," ",ve.]}),D===ve.id&&s.jsx(Hi,{className:"w-4 h-4 text-[#39B7FF]"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-[#666]",children:[s.jsxs("code",{className:"bg-gray-100 px-2 py-0.5 rounded",children:["ID: ",ve.id]}),s.jsx("span",{children:ve.email})]})]})})})},ne.key)})})})}),D&&s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:["   ",s.jsx("code",{className:"bg-yellow-100 px-1.5 py-0.5 rounded",children:H.find(ne=>ne.id===D)?.id}),"   "]})})]}),s.jsxs(_s,{children:[s.jsx(ie,{variant:"outline",onClick:()=>{x(!1),$(""),q("")},children:""}),s.jsxs(ie,{onClick:pe,disabled:!D,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white disabled:opacity-50",children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"})," "]})]})]})})]})}function gq({currentUser:e,onSuccess:t}){const[r,n]=w.useState(""),[i,a]=w.useState(""),[o,l]=w.useState(!1),c=async()=>{if(!r||!i){Q.error("  ");return}if(r===i){Q.error("   ID ");return}if(confirm(`  ID 

 ID: ${r}
 ID: ${i}

       .

?`))try{l(!0),console.log(` Changing user ID: ${r}  ${i}`);const d=await A_(r,i);if(console.log(" Change ID response:",d),d.success)Q.success("ID  !",{description:d.message}),n(""),a(""),t&&t();else throw new Error(d.error||"Failed to change ID")}catch(d){console.error(" Change ID error:",d),Q.error("  ID",{description:String(d)})}finally{l(!1)}};return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Ru,{className:"w-5 h-5 text-[#39B7FF]"}),"  ID"]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Br,{className:"w-5 h-5 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:"   :"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[s.jsxs("li",{children:[" ",s.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"Id"}),"   "]}),s.jsxs("li",{children:[" ",s.jsx("code",{className:"bg-blue-100 px-1 rounded",children:""}),"   "]}),s.jsx("li",{children:"    "})]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"oldId",children:" ID (  )"}),s.jsx(Ie,{id:"oldId",value:r,onChange:d=>n(d.target.value),placeholder:": 003",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"newId",children:" ID (  )"}),s.jsx(Ie,{id:"newId",value:i,onChange:d=>a(d.target.value),placeholder:": 005",className:"mt-1"})]})]}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(rs,{className:"w-4 h-4 text-orange-600 mt-0.5 shrink-0"}),s.jsx("p",{className:"text-sm text-orange-900",children:" ID   .  ID  ,   ."})]})}),s.jsx(ie,{onClick:c,disabled:o||!r||!i,className:"w-full bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90",children:o?"...":" ID"})]})]})}function t_e({currentUser:e,onSuccess:t}){const{users:r,isLoading:n,refetch:i}=xl(),a=Yd(),[o,l]=w.useState(!1),c=w.useMemo(()=>{if(!Array.isArray(r))return console.warn(" allUsers is not an array in ManualLinkFixer"),[];const m=[],p=new Map(r.map(x=>[x.id,x]));for(const x of r){if(x.&&Array.isArray(x.))for(const b of x.){const y=p.get(b);y&&y.Id!==x.id&&m.push({type:"mismatch",description:`${b} (${y.})    ${x.id},  sponsorId = ${y.Id||"null"}`,fix:{userId:b,field:"Id",currentValue:y.Id||"null",correctValue:x.id}})}if(x.Id){const b=p.get(x.Id);b&&(b.&&b..includes(x.id)||m.push({type:"missing_in_team",description:`${x.id} (${x.})  sponsorId=${x.Id},     `,fix:{userId:x.Id,field:"",currentValue:b.||[],correctValue:[...b.||[],x.id]}}))}if(!x.Id&&x.){const b=new Date(x.);if((Date.now()-b.getTime())/(1e3*60*60*24)<30){let v=[];for(const[N,j]of p)j.&&j..includes(x.id)&&v.push(N);v.length>0&&m.push({type:"orphaned_user",description:`${x.id} (${x.})   ,     : ${v.join(", ")}`,fix:{userId:x.id,field:"Id",currentValue:"null",correctValue:v[0],possibleSponsors:v}})}}}return m},[r]),d=async m=>{try{l(!0);const p=r.find(y=>y.id===m.fix.userId);if(!p)throw new Error("User not found");const x={...p};x[m.fix.field]=m.fix.correctValue;const b=await Fi(x);if(b.success)Q.success(" !"),a(),t&&t();else throw new Error(b.error||"Failed to fix")}catch(p){console.error("Fix error:",p),Q.error(" ",{description:String(p)})}finally{l(!1)}},h=n||o;return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(N_,{className:"w-5 h-5 text-[#39B7FF]"})," "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm text-[#666]",children:"     "}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>i(),disabled:h,children:h?"...":""})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4",children:[s.jsx("p",{className:"text-xs text-gray-700 font-medium mb-2",children:"  :"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("p",{children:["  : ",s.jsx("strong",{children:r.length})]}),s.jsxs("p",{children:[" : ",s.jsx("strong",{children:c.length})]}),r.length>0&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"cursor-pointer text-blue-600 hover:underline",children:"     "}),s.jsx("div",{className:"mt-2 space-y-1 max-h-64 overflow-y-auto bg-white p-2 rounded border",children:r.map(m=>s.jsxs("div",{className:"text-xs border-b pb-1",children:[s.jsx("strong",{children:m.id})," (",m.,"): sponsorId=",s.jsx("span",{className:m.Id?"text-green-600":"text-red-600 font-bold",children:m.Id||"NULL"}),", =[",m.?.join(", ")||"","]"]},m.id))})]})]})]}),c.length===0?s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Yr,{className:"w-5 h-5 text-green-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-900 font-medium",children:"   !"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"  .   ."})]})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ks,{className:"w-4 h-4 text-orange-600 mt-0.5 shrink-0"}),s.jsxs("p",{className:"text-sm text-orange-900",children:[" ",c.length,"    "]})]})}),c.map((m,p)=>s.jsx("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-orange-900 font-medium mb-2",children:m.description}),s.jsxs("div",{className:"text-xs text-orange-700 space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",m.fix.field]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:":"})," ",Array.isArray(m.fix.currentValue)?`[${m.fix.currentValue.join(", ")}]`:m.fix.currentValue]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:" :"})," ",Array.isArray(m.fix.correctValue)?`[${m.fix.correctValue.join(", ")}]`:m.fix.correctValue]})]})]}),s.jsx(ie,{size:"sm",onClick:()=>d(m),disabled:h,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90 shrink-0",children:h?"...":""})]})},p))]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:s.jsxs("p",{className:"text-xs text-blue-900",children:[" ",s.jsx("strong",{children:":"}),"        ",s.jsx("code",{className:"bg-blue-100 px-1 rounded",children:""}),"   ",s.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"Id"}),"   ."]})})]})]})}function r_e({currentUser:e,onSuccess:t}){const{users:r,isLoading:n}=xl(),i=Yd(),[a,o]=w.useState(!1),[l,c]=w.useState(""),[d,h]=w.useState(""),m=n||a,p=v=>{if(Array.isArray(r))return r.find(N=>N.id===v)},x=async()=>{if(!l||!d){Q.error("  ID");return}if(l===d){Q.error("ID   ");return}const v=p(l),N=p(d);if(!v){Q.error(` ${l}  `);return}if(!N){Q.error(` ${d}  `);return}if(confirm(`  

: ${l} (${v.})
: ${d} (${N.})

 :
1.  ${l}  sponsorId = ${d}
2. ${l}     ${d}

?`))try{o(!0);const j={...v,Id:d},E=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${l}`,_=await(await fetch(E,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:j})})).json();if(!_.success)throw new Error(_.error||"Failed to update child");const A={...N,:[...N.||[],l]},T=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${d}`,q=await(await fetch(T,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:A})})).json();if(!q.success)throw new Error(q.error||"Failed to update sponsor");Q.success(`  !
${l}  ${d}`),c(""),h(""),i(),t&&t()}catch(j){console.error("Assign error:",j),Q.error(" ",{description:String(j)})}finally{o(!1)}},b=p(l),y=p(d);return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(ac,{className:"w-5 h-5 text-[#39B7FF]"}),"  "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-[#666]",children:"        "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#1E1E1E]",children:"ID  (  )"}),s.jsx(Ie,{placeholder:": 005",value:l,onChange:v=>c(v.target.value),className:"font-mono"}),b&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:[s.jsxs("p",{className:"text-xs text-blue-900",children:[" ",s.jsxs("strong",{children:[b.," ",b.]})]}),s.jsxs("p",{className:"text-xs text-blue-700",children:[" : ",b.Id||""]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-[#1E1E1E]",children:"ID  (  )"}),s.jsx(Ie,{placeholder:": 002",value:d,onChange:v=>h(v.target.value),className:"font-mono"}),y&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:[s.jsxs("p",{className:"text-xs text-green-900",children:[" ",s.jsxs("strong",{children:[y.," ",y.]})]}),s.jsxs("p",{className:"text-xs text-green-700",children:[" : ",y.?.length||0," ."]})]})]})]}),b&&y&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-yellow-900 font-medium mb-2",children:"   :"}),s.jsxs("div",{className:"text-xs text-yellow-800 space-y-1",children:[s.jsxs("p",{children:["1.  ",s.jsx("strong",{children:l})," (",b.,") "," ",s.jsxs("code",{className:"bg-yellow-100 px-1 rounded",children:["sponsorId = ",d]})]}),s.jsxs("p",{children:["2. ",s.jsx("strong",{children:l}),"   "," ",s.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:""})," "," ",s.jsx("strong",{children:d})," (",y.,")"]})]})]}),s.jsx(ie,{onClick:x,disabled:m||!l||!d||!b||!y,className:"w-full bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90",children:m?"...":" "}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-gray-700 font-medium mb-2",children:"    :"}),s.jsx("div",{className:"space-y-1",children:s.jsx("button",{onClick:()=>{c("005"),h("002")},className:"text-xs text-blue-600 hover:underline block",children:"  : 005 ()  002 ()"})})]})]})]})}function n_e({currentUser:e,onSuccess:t}){const{users:r,isLoading:n}=xl(),i=Yd(),[a,o]=w.useState(!1),[l,c]=w.useState(new Set),[d,h]=w.useState(""),[m,p]=w.useState(""),x=D=>D.isAdmin===!0||D.email?.toLowerCase()==="admin@admin.com"||D.id==="ceo"||D.id==="1",{users:b,orphans:y,sponsors:v}=w.useMemo(()=>{const D=r.filter(K=>!x(K));console.log(` OrphanUsersManager: Filtered ${r.length} total users to ${D.length} non-admin users`);const q=D.filter(K=>!K.Id);return console.log(` OrphanUsersManager: Found ${q.length} orphan users (non-admin)`),{users:D,orphans:q,sponsors:D}},[r]),N=n||a,j=D=>{const q=new Set(l);q.has(D)?q.delete(D):q.add(D),c(q)},E=()=>{l.size===y.length?c(new Set):c(new Set(y.map(D=>D.id)))},k=async(D,q)=>{const K=b.find(H=>H.id===D),$=b.find(H=>H.id===q);if(!K||!$){Q.error("  ");return}if(D===q){Q.error("     ");return}try{const H={...K,Id:q},W=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${D}`,M=await(await fetch(W,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:H})})).json();if(!M.success)throw new Error(M.error||"Failed to update orphan");const z={...$,:[...$.||[],D]},P=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${q}`,L=await(await fetch(P,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:z})})).json();if(!L.success)throw new Error(L.error||"Failed to update sponsor");return!0}catch(H){throw console.error("Assign error:",H),H}},_=async()=>{if(l.size===0){Q.error("    ");return}if(!d){Q.error(" ");return}const D=b.find(K=>K.id===d);if(!D){Q.error("  ");return}const q=Array.from(l).map(K=>{const $=b.find(H=>H.id===K);return $?`${$.} ${$.} (${K})`:K}).join(`
`);if(confirm(`   

  :
${D.} ${D.} (${d})

  (${l.size}):
${q}

?`))try{o(!0);let K=0,$=0;for(const H of Array.from(l))try{await k(H,d),K++}catch(W){console.error(`Failed to assign sponsor for ${H}:`,W),$++}K>0&&Q.success(`  : ${K}`,{description:$>0?`: ${$}`:void 0}),$>0&&K===0&&Q.error("   "),c(new Set),h(""),i(),t&&t()}catch(K){console.error("Batch assign error:",K),Q.error("  ")}finally{o(!1)}},A=async(D,q)=>{const K=b.find(H=>H.id===D),$=b.find(H=>H.id===q);if(!(!K||!$)&&confirm(`  

: ${K.} ${K.} (${D})
: ${$.} ${$.} (${q})

?`))try{o(!0),await k(D,q),Q.success("  !"),i(),t&&t()}catch(H){console.error("Single assign error:",H),Q.error("  ")}finally{o(!1)}},T=w.useMemo(()=>v.filter(D=>m?D.?.toLowerCase().includes(m.toLowerCase())||D.?.toLowerCase().includes(m.toLowerCase())||D.id?.includes(m)||D.email?.toLowerCase().includes(m.toLowerCase()):!0),[v,m]);return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(to,{className:"w-5 h-5 text-orange-500"}),"  ",y.length>0&&s.jsx(Qe,{className:"bg-orange-100 text-orange-700",children:y.length})]})}),s.jsxs(Ee,{children:[y.length===0?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[s.jsx(to,{className:"w-12 h-12 text-green-600 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-green-900 font-medium mb-1",children:"  !"}),s.jsx("p",{className:"text-sm text-green-700",children:"   "})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"  "}),s.jsxs("p",{className:"text-xs text-blue-700",children:[": ",l.size,"  ",y.length]})]}),s.jsx(ie,{variant:"outline",size:"sm",onClick:E,className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:l.size===y.length?" ":" "})]}),l.size>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-blue-900 mb-2 block",children:"    :"}),s.jsx(Ie,{placeholder:"   , ID, email...",value:m,onChange:D=>p(D.target.value),className:"mb-2"}),s.jsx("div",{className:"max-h-40 overflow-y-auto border border-blue-200 rounded-lg bg-white",children:T.map(D=>s.jsxs("button",{onClick:()=>h(D.id),className:`w-full text-left px-3 py-2 hover:bg-blue-50 transition-colors border-b border-blue-100 last:border-b-0 ${d===D.id?"bg-blue-100":""}`,disabled:l.has(D.id),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${d===D.id?"bg-blue-600":"bg-gray-300"}`}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[D.," ",D.]}),s.jsx(Qe,{variant:"outline",className:"text-xs",children:D.id}),l.has(D.id)&&s.jsx(Qe,{className:"bg-orange-100 text-orange-700 text-xs",children:"  "})]}),s.jsx("p",{className:"text-xs text-gray-600 ml-4",children:D.email})]},D.id))})]}),d&&s.jsx(ie,{onClick:_,disabled:N,className:"w-full bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90",children:N?"...":`   ${l.size} .`})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"   :"}),s.jsx("div",{className:"space-y-2",children:y.map(D=>s.jsx("div",{className:`border rounded-lg p-3 transition-all ${l.has(D.id)?"border-blue-400 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:()=>j(D.id),className:"mt-1 shrink-0",children:l.has(D.id)?s.jsx(nJ,{className:"w-5 h-5 text-blue-600"}):s.jsx(aJ,{className:"w-5 h-5 text-gray-400"})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-red-400 rounded-lg flex items-center justify-center text-white shrink-0",children:s.jsx("span",{className:"font-semibold text-sm",children:D.?.charAt(0).toUpperCase()||"?"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:[D.," ",D.]}),s.jsx(Qe,{className:"bg-orange-100 text-orange-700 text-xs",children:D.id})]}),s.jsx("p",{className:"text-xs text-gray-600",children:D.email}),D.&&D..length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" : ",D..length," ."]})]}),s.jsx("div",{className:"shrink-0",children:s.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:q=>{q.target.value&&(A(D.id,q.target.value),q.target.value="")},disabled:N,children:[s.jsx("option",{value:"",children:" ..."}),v.filter(q=>q.id!==D.id).map(q=>s.jsxs("option",{value:q.id,children:[q.," ",q.," (",q.id,")"]},q.id))]})})]})},D.id))})]})]}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mt-4",children:s.jsxs("p",{className:"text-xs text-gray-700",children:[" ",s.jsx("strong",{children:" :"}),"   ,   ,          .           ."]})})]})]})}function s_e({currentUser:e,onRefresh:t}){const[r,n]=w.useState(!0),[i,a]=w.useState(!1),[o,l]=w.useState([]),[c,d]=w.useState(""),[h,m]=w.useState(""),[p,x]=w.useState(new Set),[b,y]=w.useState("list"),[v,N]=w.useState(!1),[j,E]=w.useState(null),k=w.useRef(!0),_=w.useRef(""),[A,T]=w.useState([]),[D,q]=w.useState(!1),[K,$]=w.useState({page:1,limit:50,total:0,totalPages:0,hasMore:!1}),[H,W]=w.useState("created"),[B,M]=w.useState("desc"),[z,P]=w.useState(""),[C,L]=w.useState(""),[U,R]=w.useState(0),[I,V]=w.useState(150),[re,ce]=w.useState(!1),[me,ae]=w.useState(null),[ue,pe]=w.useState(!1),[ee,xe]=w.useState({:"",:"",email:"",:"",:0,:0,telegram:"",whatsapp:"",instagram:"",vk:""}),[X,fe]=w.useState(!1),[de,te]=w.useState(!1),[he,we]=w.useState({:0,:0}),[ze,se]=w.useState(!1),[ne,ve]=w.useState({:"",:"",email:"",:"",telegram:"",whatsapp:"",instagram:"",vk:""}),[J,je]=w.useState(!1),[Ae,Te]=w.useState({:"course",:"",:""}),[Be,De]=w.useState(!1),[et,vt]=w.useState(null),[Ue,pt]=w.useState(new Map),[Ht,ur]=w.useState(!1),[Wr,Jr]=w.useState({totalUsers:0,newToday:0,newThisMonth:0,activePartners:0,passivePartners:0,activeUsers:0,passiveUsers:0,withTeam:0,totalBalance:0,orphans:0}),[ir,fo]=w.useState("all"),[Rs,Tn]=w.useState(!1),[Xe,ds]=w.useState(null),[Ms,Ca]=w.useState(!1),[yt,zt]=w.useState([]),[Xt,Vr]=w.useState([]),Yn=Y=>{const ke=Y?.lastActivity||Y?.lastLogin||Y?.||Y?.;if(!ke)return{status:"inactive",color:"bg-gray-400",text:"  ",textColor:"text-gray-600"};const Ce=new Date().getTime(),Pe=new Date(ke).getTime(),Fe=Ce-Pe,bt=Math.floor(Fe/6e4),at=Math.floor(Fe/36e5),jt=Math.floor(Fe/864e5);return bt<3?{status:"online",color:"bg-green-500",text:"",textColor:"text-green-600"}:at<24?{status:"today",color:"bg-yellow-500",text:`${at} `,textColor:"text-yellow-600"}:jt<7?{status:"week",color:"bg-orange-400",text:`${jt} `,textColor:"text-orange-600"}:{status:"inactive",color:"bg-gray-400",text:`${jt} `,textColor:"text-gray-600"}},Kt=(Y,ke=new Set)=>{if(ke.has(Y))return 0;ke.add(Y);const Ce=A.find(Fe=>Fe.id===Y)||o.find(Fe=>Fe.id===Y);if(!Ce||!Ce.||Ce..length===0)return 0;let Pe=Ce..length;for(const Fe of Ce.)Pe+=Kt(Fe,ke);return Pe},Dr=Y=>{if(!yt||yt.length===0)return{personalSales:0,teamSales:0,ordersCount:0,averageCheck:0,percentChange:0,salesByDay:Array(30).fill(0)};const ke=new Date,Ce=new Date(ke.getTime()-720*60*60*1e3),Pe=new Date(ke.getTime()-1440*60*60*1e3),Fe=yt.filter(Jt=>Jt.Id===Y),bt=Fe.reduce((Jt,en)=>Jt+(en.||0),0),jt=(A.find(Jt=>Jt.id===Y)||o.find(Jt=>Jt.id===Y))?.||[],Zr=yt.filter(Jt=>typeof jt[0]=="string"?jt.includes(Jt.Id):jt.some(G0=>G0.id===Jt.Id)).reduce((Jt,en)=>Jt+(en.||0),0),fr=Fe.filter(Jt=>new Date(Jt.||Jt.createdAt)>=Ce),ta=fr.length,vn=ta>0?bt/ta:0,Aa=Fe.filter(Jt=>{const en=new Date(Jt.||Jt.createdAt);return en>=Pe&&en<Ce}).reduce((Jt,en)=>Jt+(en.||0),0),Rc=fr.reduce((Jt,en)=>Jt+(en.||0),0),Mc=Aa>0?(Rc-Aa)/Aa*100:Rc>0?100:0,jl=Array(30).fill(0);return fr.forEach(Jt=>{const en=new Date(Jt.||Jt.createdAt),Ic=Math.floor((ke.getTime()-en.getTime())/(1440*60*1e3));Ic>=0&&Ic<30&&(jl[29-Ic]+=Jt.||0)}),{personalSales:bt,teamSales:Zr,ordersCount:ta,averageCheck:vn,percentChange:Mc,salesByDay:jl}};w.useEffect(()=>{const Y=setTimeout(()=>{m(c),$(ke=>({...ke,page:1}))},300);return()=>clearTimeout(Y)},[c]),w.useEffect(()=>{if(b==="list"){const Y=h!==_.current;_.current=h,k.current?(k.current=!1,Qt(!1)):Qt(Y)}else b==="tree"&&Fr()},[b,K.page,h,H,B,z,C,U,I,re,ir]),w.useEffect(()=>{o.length>0&&Xn()},[o]),w.useEffect(()=>{if(b!=="list")return;const Y=setInterval(()=>{console.log(" Auto-refreshing users list for activity status"),Qt(!1)},6e4);return()=>clearInterval(Y)},[b]);const Xn=async()=>{try{ur(!0);const Y=new Map,ke=o.filter(Pe=>!Pe.isAdmin),Ce=10;for(let Pe=0;Pe<ke.length;Pe+=Ce){const Fe=ke.slice(Pe,Pe+Ce),bt=Fe.map(jt=>C_(jt.id,!0).catch(()=>({success:!0,rank:0})));(await Promise.all(bt)).forEach((jt,dr)=>{if(jt.success){const Zr=Fe[dr];Y.set(Zr.id,jt.rank)}})}pt(Y)}catch(Y){console.error("Failed to load ranks:",Y)}finally{ur(!1)}},Fr=async()=>{try{q(!0);const Y=await Pv();if(Y.success){const Ce=(Y.users||[]).filter(Fe=>Fe.__type!=="admin"&&Fe.isAdmin!==!0&&Fe.!=="admin");T(Ce);const Pe=Ce.filter(Fe=>!Fe.Id);x(new Set(Pe.map(Fe=>Fe.id)))}}catch(Y){console.error("Failed to load tree users:",Y),Q.error("  ")}finally{q(!1)}},Qt=async(Y=!1)=>{try{Y?a(!0):n(!0);const ke=localStorage.getItem("userId"),Ce=new URLSearchParams({page:K.page.toString(),limit:K.limit.toString()});h&&Ce.append("search",h),Ce.append("sortBy",H),Ce.append("sortOrder",B),(U!==0||I!==150||re)&&(Ce.append("rankFrom",U.toString()),Ce.append("rankTo",I.toString())),z&&Ce.append("balanceFrom",z),C&&Ce.append("balanceTo",C),ir&&ir!=="all"&&Ce.append("statsFilter",ir);const Pe=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/users/paginated?${Ce}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":ke||""}}),Fe=await Pe.json();if(!Pe.ok)throw new Error(Fe.error||"Failed to load users");const bt=Fe.users||[],at=bt.find(jt=>jt.id==="014");at&&(console.log(`
 DEBUG User 014 (Artem10) RAW data:`),console.log("   ID:",at.id),console.log("   :",at.,at.),console.log("   :",at.),console.log("   SpId:",at.Id),console.log("    RAW:",at.),console.log("    type:",typeof at.),console.log("    isArray:",Array.isArray(at.)),console.log("    length:",at.?.length),Array.isArray(at.)&&at..forEach((jt,dr)=>{console.log(`   [${dr}]:`,{value:jt,type:typeof jt,stringValue:String(jt),isValidString:typeof jt=="string"&&jt.trim()!==""})}),console.log(`
`)),l(bt),$({page:Fe.pagination.page,limit:Fe.pagination.limit,total:Fe.pagination.total,totalPages:Fe.pagination.totalPages,hasMore:Fe.pagination.hasMore}),Fe.stats&&Jr(Fe.stats)}catch(ke){console.error("Failed to load users:",ke),Q.error("  ")}finally{Y?a(!1):n(!1)}},hs=async(Y,ke,Ce)=>{if(confirm(`  

${ke}
${Ce}
ID: ${Y}

  !

?`))try{const Pe=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/delete-user/${Y}`,bt=await(await fetch(Pe,{method:"DELETE",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"}})).json();if(bt.success)Q.success(" !"),Qt(),t&&t();else throw new Error(bt.error||"Failed to delete user")}catch(Pe){console.error("Delete user error:",Pe),Q.error("  ")}},xn=Y=>{const ke=new Set(p);ke.has(Y)?ke.delete(Y):ke.add(Y),x(ke)},ka=async()=>{if(confirm(`   

       .

?`))try{n(!0);const Y=await g9();if(Y.success)Q.success(" !"),await Qt();else throw new Error(Y.error||"Failed to clean")}catch(Y){console.error("Clean error:",Y),Q.error(" ")}finally{n(!1)}},bl=async()=>{if(confirm(`  

    .

?`))try{n(!0);const Y=await y9();if(Y.success)Q.success(" !"),await Qt();else throw new Error(Y.error||"Failed to sync")}catch(Y){console.error("Sync error:",Y),Q.error(" ")}finally{n(!1)}},Tc=Y=>{ae(Y),xe({:Y.||"",:Y.||"",email:Y.email||"",:Y.||"",:Y.||0,:Y.||0,telegram:Y.telegram||Y.socialMedia?.telegram||"",whatsapp:Y.whatsapp||Y.socialMedia?.whatsapp||"",instagram:Y.instagram||Y.socialMedia?.instagram||"",vk:Y.vk||Y.socialMedia?.vk||""}),we({:Y.||0,:Y.||0}),ve({:Y.||"",:Y.||"",email:Y.email||"",:Y.||"",telegram:Y.telegram||Y.socialMedia?.telegram||"",whatsapp:Y.whatsapp||Y.socialMedia?.whatsapp||"",instagram:Y.instagram||Y.socialMedia?.instagram||"",vk:Y.vk||Y.socialMedia?.vk||""}),pe(!0)},Jd=async(Y,ke)=>{try{console.log(` Debugging rank for user ${Y} (${ke})`),Q.loading(`   ${ke}...`,{id:`debug-${Y}`});const Ce=await j9(Y);console.log(" RAW data:",Ce);const Pe=await w9(Y);console.log(" User data:",Pe);const Fe=await b9(Y);if(console.log(" Rank calculation result:",Fe),Fe.success){Q.success(` : ${Fe.calculatedRank}.    .`,{id:`debug-${Y}`}),await Qt();let bt="";Pe.teamData&&Pe.teamData.length>0&&(bt=Pe.teamData.map(jt=>`${jt.id} (${jt.}, : ${jt.?.length||0}, : ${jt.})`).join(`
  `));let at="N/A";if(Ce.Analysis){const jt=Ce.Analysis;at=`: ${jt.type}
: ${jt.isArray}
: ${jt.length}
`,jt.items&&jt.items.length>0&&(at+=`:
`+jt.items.map(dr=>`  [${dr.index}] "${dr.value}" (${dr.type}) - valid: ${dr.isValid}`).join(`
`))}alert(`  

: ${ke}
ID: ${Y}

 RAW   "":
${at}

  :
: ${Fe.user.?.join(", ")||""}
 : ${Fe.user.}
: ${Fe.user.Id||""}

  :
  ${bt}

 :
   : ${Fe.user.}
 : ${Fe.calculatedRank}

        Supabase!`)}else Q.error(` : ${Fe.error}`,{id:`debug-${Y}`})}catch(Ce){console.error("Debug rank error:",Ce),Q.error("  ",{id:`debug-${Y}`})}},wl=async()=>{if(!me)return;const Y=ee.!==he.||ee.!==he.,ke=ee.!==ne.||ee.!==ne.||ee.email!==ne.email||ee.!==ne.||ee.telegram!==ne.telegram||ee.whatsapp!==ne.whatsapp||ee.instagram!==ne.instagram||ee.vk!==ne.vk;if(Y){te(!0);return}if(ke){se(!0);return}Q.info("   "),pe(!1)},ni=async()=>{if(me)try{fe(!0);const Y=localStorage.getItem("userId"),ke=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${me.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":Y||""},body:JSON.stringify({userData:ee})}),Ce=await ke.json();if(!ke.ok)throw new Error(Ce.error||"  ");Q.success(" !"),pe(!1),te(!1),se(!1),ae(null),Qt(),t&&t()}catch(Y){console.error("Error updating user:",Y),Q.error(Y.message||"  ")}finally{fe(!1)}},le=Y=>{vt(Y),Te({:"course",:"",:""}),je(!0)},Ze=async()=>{if(!et||!Ae.||!Ae.){Q.error("  ");return}try{De(!0),console.log(" Sending notification to user:",et),console.log(" User ID:",et.id),await T_(et.id,Ae),Q.success(" !"),je(!1),vt(null)}catch(Y){console.error("Error sending notification:",Y),Q.error(Y.message||"  ")}finally{De(!1)}},Ve=Y=>{fo(Y),$(ke=>({...ke,page:1}))},Ye=async()=>{try{const Y=o.map((Fe,bt)=>{const at=Yn(Fe);return{"":bt+1,ID:Fe.id||"-",:Fe.||"-",:Fe.||"-",Email:Fe.email||"-",:Fe.||"-",:Ue.get(Fe.id)??0,:Fe.||0," ":Fe.||0,:Fe.||0," ":Fe.||"-"," ID":Fe.ID||"-"," (1 )":Fe.?.length||0,"  ":Kt(Fe.id)," ":Fe.?new Date(Fe.).toLocaleDateString("ru-RU"):"-"," ":at.text,:Fe.||"-",:Fe.||"-"}}),ke=Object.keys(Y[0]||{}),Ce=[ke.join("	"),...Y.map(Fe=>ke.map(bt=>Fe[bt]).join("	"))].join(`
`),Pe=document.createElement("textarea");Pe.value=Ce,Pe.style.position="fixed",Pe.style.left="-9999px",Pe.style.top="0",document.body.appendChild(Pe),Pe.focus(),Pe.select();try{if(document.execCommand("copy"))Q.success(" !  Google Sheets   (Ctrl+V)",{duration:5e3});else throw new Error("execCommand failed")}catch{try{await navigator.clipboard.writeText(Ce),Q.success(" !  Google Sheets   (Ctrl+V)",{duration:5e3})}catch{Q.error("   .     ."),console.log("CSV Data for manual copy:",Ce)}}finally{document.body.removeChild(Pe)}}catch(Y){console.error("Export error:",Y),Q.error("  ")}},rt=async Y=>{try{const ke=(await vi(async()=>{const{default:Aa}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:Aa}},[])).default,Ce=(await vi(async()=>{const{default:Aa}=await import("./jspdf.es.min-CTUlhMCe.js").then(Rc=>Rc.j);return{default:Aa}},[])).default,Pe=document.createElement("div");Pe.style.cssText=`
        position: absolute;
        left: -9999px;
        top: 0;
        width: 800px;
        padding: 40px;
        background-color: #ffffff;
        font-family: Arial, sans-serif;
        color: #000000;
      `,Pe.innerHTML=`
        <div style="all: initial; font-family: Arial, sans-serif; background: #ffffff; color: #000000; box-sizing: border-box; display: block; padding: 40px; width: 800px;">
          <div style="border-bottom: 3px solid #39B7FF; padding-bottom: 20px; margin-bottom: 30px; background: transparent;">
            <h1 style="all: initial; font-family: Arial, sans-serif; color: #39B7FF; margin: 0; padding: 0; font-size: 32px; font-weight: bold; display: block;"> </h1>
            <p style="all: initial; font-family: Arial, sans-serif; color: #999999; margin: 10px 0 0 0; padding: 0; font-size: 14px; display: block;"> : ${new Date().toLocaleDateString("ru-RU")} ${new Date().toLocaleTimeString("ru-RU")}</p>
          </div>
          
          <div style="margin-bottom: 30px; background: transparent;">
            <h2 style="all: initial; font-family: Arial, sans-serif; color: #1E1E1E; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #F0F0F0; padding-bottom: 8px; display: block;"> </h2>
            <table style="all: initial; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; display: table;">
              <tbody style="all: initial; display: table-row-group;">
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; width: 180px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.||""} ${Y.||""}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">ID:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.id||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">Email:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.email||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> :</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> ID:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.Id||"-"}</td>
              </tr>
              <tr style="all: initial; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> :</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.?new Date(Y.).toLocaleDateString("ru-RU"):"-"}</td>
              </tr>
              </tbody>
            </table>
          </div>
          
          <div style="margin-bottom: 30px; background: transparent;">
            <h2 style="all: initial; font-family: Arial, sans-serif; color: #1E1E1E; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #F0F0F0; padding-bottom: 8px; display: block;"> </h2>
            <table style="all: initial; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; display: table;">
              <tbody style="all: initial; display: table-row-group;">
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; width: 180px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;"> ${Ue.get(Y.id)??0}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #12C9B6; font-size: 16px; font-weight: 700; font-family: Arial, sans-serif; display: table-cell;">${(Y.||0).toLocaleString("ru-RU")} </td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> :</td>
                <td style="all: initial; padding: 10px 0; color: #39B7FF; font-size: 16px; font-weight: 700; font-family: Arial, sans-serif; display: table-cell;">${(Y.||0).toLocaleString("ru-RU")} </td>
              </tr>
              <tr style="all: initial; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #FF9500; font-size: 16px; font-weight: 700; font-family: Arial, sans-serif; display: table-cell;">${(Y.||0).toLocaleString("ru-RU")} </td>
              </tr>
              </tbody>
            </table>
          </div>
          
          <div style="background: transparent;">
            <h2 style="all: initial; font-family: Arial, sans-serif; color: #1E1E1E; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #F0F0F0; padding-bottom: 8px; display: block;"> </h2>
            <table style="all: initial; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; display: table;">
              <tbody style="all: initial; display: table-row-group;">
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; width: 180px; font-family: Arial, sans-serif; display: table-cell;"> (1 ):</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Y.?.length||0} </td>
              </tr>
              <tr style="all: initial; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">  :</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Kt(Y.id)} </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      `,document.body.appendChild(Pe);const Fe=await ke(Pe,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0,foreignObjectRendering:!1});document.body.removeChild(Pe);const bt=Fe.toDataURL("image/png"),at=new Ce({orientation:"portrait",unit:"mm",format:"a4"}),jt=at.internal.pageSize.getWidth(),dr=at.internal.pageSize.getHeight(),Zr=jt-20,fr=Fe.height*Zr/Fe.width;let ta=fr,vn=10;for(at.addImage(bt,"PNG",10,vn,Zr,fr),ta-=dr-20;ta>0;)vn=ta-fr+10,at.addPage(),at.addImage(bt,"PNG",10,vn,Zr,fr),ta-=dr-20;const Gm=`user_${Y.id}_${new Date().toISOString().split("T")[0]}.pdf`;at.save(Gm),Q.success("    PDF!")}catch(ke){console.error("Export error:",ke),Q.error("   PDF")}},wt=(Y,ke=!1)=>{const Ce=p.has(Y.id);return s.jsx("div",{className:`border rounded-xl overflow-hidden transition-all duration-150 hover:shadow-md cursor-pointer ${ke?"border-purple-200 bg-purple-50/30":"border-[#E6E9EE] bg-white hover:border-[#39B7FF]/40"}`,onClick:Pe=>{const Fe=Pe.target;Fe.closest("button")||Fe.closest("a")||xn(Y.id)},children:s.jsxs("div",{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsxs("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center text-white shrink-0 overflow-hidden relative ${ke?"bg-gradient-to-br from-purple-500 to-purple-600":"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}`,children:[Y.?s.jsx("img",{src:Y.,alt:Y.,className:"w-full h-full object-cover absolute inset-0",onError:Pe=>{Pe.currentTarget.style.display="none",Pe.currentTarget.nextElementSibling&&(Pe.currentTarget.nextElementSibling.style.display="flex")}}):null,s.jsx("span",{className:"absolute inset-0 flex items-center justify-center",style:{fontWeight:"600",fontSize:"15px",display:Y.?"none":"flex"},children:Y.?.charAt(0).toUpperCase()||"?"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsxs("h3",{className:"text-[#1E1E1E]",style:{fontWeight:"600",fontSize:"14px"},children:[Y.," ",Y.]}),s.jsx(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white px-2 py-0 text-xs",children:Y.id}),Y.ID&&s.jsxs(Qe,{className:"border-[#39B7FF] text-[#39B7FF] bg-[#F0F9FF] px-2 py-0 text-xs",variant:"outline",children:["P",Y.ID]}),ke&&s.jsxs(Qe,{className:"bg-purple-600 text-white px-2 py-0 text-xs",children:[s.jsx(kn,{className:"w-3 h-3 mr-0.5"}),"Admin"]}),!ke&&s.jsxs(Qe,{className:"bg-orange-500 text-white px-2 py-0 text-xs",children:[" ",Ue.get(Y.id)??"..."]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-[#666] flex-wrap",style:{fontSize:"12px"},children:[(()=>{const Pe=Yn(Y);return s.jsxs("span",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${Pe.color} animate-pulse`}),s.jsx(tl,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:Pe.textColor,children:Pe.text})]})})(),s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx(Hs,{className:"w-3 h-3 shrink-0 text-[#39B7FF]"}),s.jsx("span",{className:"truncate",children:Y.email})]}),Y.&&s.jsxs("span",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(Sn,{className:"w-3 h-3 text-[#12C9B6]"}),s.jsx("span",{children:Y.})]}),Y.?.length>0&&s.jsxs("span",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(Ot,{className:"w-3 h-3 text-teal-600"}),s.jsxs("span",{children:[Y..length," (: ",Kt(Y.id),")"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontWeight:"700",fontSize:"15px"},children:["",Y.?.toLocaleString()||0]}),s.jsxs("p",{className:"text-[#999]",style:{fontSize:"11px"},children:[": ",Y.?.toLocaleString()||0]})]}),s.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-[#999]",children:Ce?s.jsx(ic,{className:"w-4 h-4"}):s.jsx(ns,{className:"w-4 h-4"})}),s.jsx("div",{className:"h-8 w-px bg-[#E6E9EE]"}),s.jsxs("div",{className:"flex items-center gap-1",children:[!ke&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),Jd(Y.id,`${Y.} ${Y.}`)},className:"w-8 h-8 p-0 hover:bg-yellow-50",title:" ",children:s.jsx(fX,{className:"w-4 h-4 text-yellow-600"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),E(Y),N(!0)},className:"w-8 h-8 p-0 hover:bg-blue-50",title:" ",children:s.jsx(Jg,{className:"w-4 h-4 text-[#39B7FF]"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),Tc(Y)},className:"w-8 h-8 p-0 hover:bg-blue-50",children:s.jsx(Ru,{className:"w-4 h-4 text-blue-600"})}),Y.id!==e?.id&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),hs(Y.id,`${Y.} ${Y.}`,Y.email)},className:"w-8 h-8 p-0 hover:bg-red-50",children:s.jsx(Un,{className:"w-4 h-4 text-red-600"})})]})]})]}),Ce&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-[#E6E9EE]",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsxs("div",{className:"bg-blue-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-0.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"12px",fontWeight:"600"},children:Y.?new Date(Y.).toLocaleDateString("ru-RU"):"-"})]}),s.jsxs("div",{className:"bg-purple-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-0.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"12px",fontWeight:"600"},children:Y.Id?`ID: ${Y.Id}`:""})]}),s.jsxs("div",{className:"bg-teal-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-0.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontSize:"12px",fontWeight:"600"},children:[" : ",Y.?.length||0,s.jsx("br",{})," : ",Kt(Y.id)]})]}),s.jsxs("div",{className:"bg-green-50 p-2 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-0.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E] font-mono",style:{fontSize:"11px",fontWeight:"600"},children:Y.||"-"})]})]}),(Y.telegram||Y.whatsapp||Y.instagram||Y.vk||Y.socialMedia)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-[#999] mb-1.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 auto-rows-fr",children:[(Y.telegram||Y.socialMedia?.telegram)&&s.jsxs("a",{href:`https://t.me/${(Y.telegram||Y.socialMedia?.telegram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-50 hover:bg-blue-100 p-2 rounded-lg transition-colors cursor-pointer block min-h-[60px]",onClick:Pe=>Pe.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[s.jsx(Vs,{className:"w-3 h-3 text-blue-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"TELEGRAM"})]}),s.jsxs("p",{className:"text-blue-700 truncate",style:{fontSize:"12px",fontWeight:"600"},children:["@",(Y.telegram||Y.socialMedia?.telegram).replace(/^@/,"")]})]}),(Y.whatsapp||Y.socialMedia?.whatsapp)&&s.jsxs("a",{href:`https://wa.me/${(Y.whatsapp||Y.socialMedia?.whatsapp).replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-50 hover:bg-green-100 p-2 rounded-lg transition-colors cursor-pointer block min-h-[60px]",onClick:Pe=>Pe.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[s.jsx(Sn,{className:"w-3 h-3 text-green-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"WHATSAPP"})]}),s.jsx("p",{className:"text-green-700 truncate",style:{fontSize:"12px",fontWeight:"600"},children:Y.whatsapp||Y.socialMedia?.whatsapp})]}),(Y.instagram||Y.socialMedia?.instagram)&&s.jsxs("a",{href:`https://instagram.com/${(Y.instagram||Y.socialMedia?.instagram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-pink-50 hover:bg-pink-100 p-2 rounded-lg transition-colors cursor-pointer block min-h-[60px]",onClick:Pe=>Pe.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[s.jsx(js,{className:"w-3 h-3 text-pink-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"INSTAGRAM"})]}),s.jsxs("p",{className:"text-pink-700 truncate",style:{fontSize:"12px",fontWeight:"600"},children:["@",(Y.instagram||Y.socialMedia?.instagram).replace(/^@/,"")]})]}),(Y.vk||Y.socialMedia?.vk)&&s.jsxs("a",{href:`https://vk.com/${(Y.vk||Y.socialMedia?.vk).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-50 hover:bg-indigo-100 p-2 rounded-lg transition-colors cursor-pointer block min-h-[60px]",onClick:Pe=>Pe.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[s.jsx(Yl,{className:"w-3 h-3 text-indigo-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"VK"})]}),s.jsx("p",{className:"text-indigo-700 truncate",style:{fontSize:"12px",fontWeight:"600"},children:(Y.vk||Y.socialMedia?.vk).replace(/^@/,"")})]})]})]})]})]})},Y.id)},Pt=(Y,ke)=>{const Ce=Y.&&Y..length>0,Pe=p.has(Y.id),bt=Math.min(ke,12)*20;return s.jsxs("div",{className:"mb-1",children:[s.jsx("div",{className:"border border-[#E6E9EE] rounded-lg p-3 bg-white hover:bg-[#F7FAFC] transition-colors",style:{marginLeft:`${bt}px`},children:s.jsxs("div",{className:"flex items-center gap-3",children:[ke>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-px h-8 bg-[#E6E9EE]"}),s.jsxs("span",{className:"text-xs text-[#999] font-mono min-w-[28px]",children:["L",ke]})]}),Ce?s.jsx("button",{onClick:()=>xn(Y.id),className:"w-7 h-7 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors shrink-0",children:Pe?s.jsx(ns,{className:"w-4 h-4 text-[#666]"}):s.jsx(dc,{className:"w-4 h-4 text-[#666]"})}):s.jsx("div",{className:"w-7"}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-lg flex items-center justify-center text-white shrink-0",children:s.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:Y.?.charAt(0).toUpperCase()||"?"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600",fontSize:"14px"},children:[Y.," ",Y.]}),s.jsx(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white text-xs",children:Y.id}),Y.isAdmin&&s.jsxs(Qe,{className:"bg-red-100 text-red-700 text-xs",children:[s.jsx(kn,{className:"w-3 h-3 mr-1"}),""]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-[#666]",style:{fontSize:"12px"},children:[s.jsxs("span",{className:"flex items-center gap-1 truncate",children:[s.jsx(Hs,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"truncate",children:Y.email})]}),Ce&&s.jsxs("span",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(Ot,{className:"w-3 h-3"}),Y..length]})]})]})]})}),Ce&&Pe&&s.jsx("div",{className:"mt-1",children:Y..map(at=>{const jt=A.find(dr=>dr.id===at);return jt?Pt(jt,ke+1):null})})]},Y.id)};return s.jsxs("div",{className:"min-h-screen bg-[#F7FAFC] p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-4",children:[" ",s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Ot,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E]",style:{fontSize:"32px",fontWeight:"700"},children:" "}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"15px"},children:"      "})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(ie,{onClick:()=>{console.log(" Manual refresh triggered"),Qt(!1)},className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90 transition-opacity",title:"  ",children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),""]})})]})]}),s.jsx(Vk,{stats:Wr,activeFilter:ir,onFilterClick:Ve}),s.jsxs(Ni,{defaultValue:"users",className:"space-y-3",children:[" ",s.jsxs(Si,{className:"bg-white border border-[#E6E9EE] p-1.5 rounded-xl shadow-sm",children:[s.jsxs(Dt,{value:"users",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white data-[state=active]:shadow-md",children:[s.jsx(Ot,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"ids",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white data-[state=active]:shadow-md",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," ID"]})]}),s.jsx(Vt,{value:"users",className:"space-y-6",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{className:"border-b border-[#E6E9EE]",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:b==="list"?" ":" "}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs(ie,{variant:b==="list"?"default":"outline",size:"sm",onClick:()=>y("list"),className:b==="list"?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white":"",children:[s.jsx(WS,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(ie,{variant:b==="tree"?"default":"outline",size:"sm",onClick:()=>y("tree"),className:b==="tree"?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white":"",children:[s.jsx(ef,{className:"w-4 h-4 mr-2"}),""]}),s.jsx("div",{className:"w-px h-6 bg-[#E6E9EE] mx-1"}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:Ye,className:"border-green-200 hover:bg-green-50 text-green-700 hover:border-green-300",children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),"  Google Sheets"]})]})]}),b==="list"&&s.jsxs(iA,{children:[s.jsx(aA,{asChild:!0,children:s.jsxs(ie,{variant:"outline",size:"sm",className:"border-[#E6E9EE] hover:bg-gray-50",children:[s.jsx(tx,{className:"w-4 h-4 mr-2"}),"",s.jsx(ns,{className:"w-4 h-4 ml-2"})]})}),s.jsxs(oA,{align:"end",className:"w-56",children:[s.jsxs(ts,{onClick:ka,children:[s.jsx(rs,{className:"w-4 h-4 mr-2 text-orange-600"}),s.jsx("span",{children:"  "})]}),s.jsxs(ts,{onClick:bl,children:[s.jsx(Ot,{className:"w-4 h-4 mr-2 text-blue-600"}),s.jsx("span",{children:""})]}),s.jsxs(ts,{onClick:async()=>{try{const Y=Q.loading("   ..."),Ce=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/diagnose-ranks`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();if(Ce.success)if(console.log("  :",Ce),Ce.issuesCount===0)Q.success("    !",{id:Y});else{let Pe=`  

`;Pe+=` : ${Ce.totalUsers}
`,Pe+=` : ${Ce.issuesCount}

`,Ce.issues&&Ce.issues.length>0&&(Pe+=`:
`,Ce.issues.slice(0,10).forEach((Fe,bt)=>{Pe+=`${bt+1}. ${Fe.name} (ID: ${Fe.userId})
`,Pe+=`   ${Fe.problem}

`}),Ce.issues.length>10&&(Pe+=`...   ${Ce.issues.length-10} 

`)),Pe+=' "  "   .',alert(Pe),Q.warning(`  ${Ce.issuesCount} `,{id:Y})}else Q.error(` : ${Ce.error}`,{id:Y})}catch(Y){console.error("Diagnosis error:",Y),Q.error(" ")}},children:[s.jsx(Qs,{className:"w-4 h-4 mr-2 text-yellow-600"}),s.jsx("span",{children:" "})]}),s.jsxs(ts,{onClick:async()=>{if(confirm(`   

       .

?`))try{const Y=Q.loading("  ..."),Ce=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/recalculate-all-ranks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();if(Ce.success){console.log("  :",Ce);let Pe=`  

`;Pe+=` : ${Ce.totalUsers}
`,Pe+=`: ${Ce.updatedCount}

`,Ce.updates&&Ce.updates.length>0&&(Pe+=`:
`,Ce.updates.slice(0,10).forEach((Fe,bt)=>{Pe+=`${bt+1}. ${Fe.name} (ID: ${Fe.userId})
`,Pe+=`   : ${Fe.oldRank}  ${Fe.newRank}

`}),Ce.updates.length>10&&(Pe+=`...   ${Ce.updates.length-10} `)),alert(Pe),Q.success(` : ${Ce.updatedCount}`,{id:Y}),setTimeout(()=>{Qt(!1),Xn()},500)}else Q.error(` : ${Ce.error}`,{id:Y})}catch(Y){console.error("Fix error:",Y),Q.error(" ")}},children:[s.jsx(tx,{className:"w-4 h-4 mr-2 text-green-600"}),s.jsx("span",{children:"  "})]}),s.jsxs(ts,{onClick:async()=>{try{const Y=Q.loading("  ..."),Ce=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/recalculate-ranks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();Ce.success?(Q.success(`  : ${Ce.stats?.processed||0}`,{id:Y}),setTimeout(()=>{Qt(!1),Xn()},500)):Q.error(` : ${Ce.error}`,{id:Y})}catch(Y){console.error("Rank recalculation error:",Y),Q.error("   ")}},children:[s.jsx(Pn,{className:"w-4 h-4 mr-2 text-purple-600"}),s.jsx("span",{children:" "})]}),s.jsxs(ts,{onClick:async()=>{try{const Y=Q.loading(" ..."),Ce=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/migrate-activity`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();Ce.success?(Q.success(` :  ${Ce.migratedCount}  ${Ce.totalUsers} `,{id:Y}),setTimeout(()=>Qt(!1),500)):Q.error(` : ${Ce.error}`,{id:Y})}catch(Y){console.error("Migration error:",Y),Q.error("   ")}},children:[s.jsx(Wo,{className:"w-4 h-4 mr-2 text-green-600"}),s.jsx("span",{children:" "})]})]})]})]})}),s.jsxs(Ee,{className:"p-4 pt-0 -mt-3",children:[" ",b==="tree"?D?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"})}):s.jsx("div",{className:"space-y-3",children:A.filter(Y=>!Y.Id&&Y.isAdmin!==!0).map(Y=>Pt(Y,0))}):r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"})}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-[#E6E9EE] shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap mb-3",children:[s.jsx(kd,{className:"w-5 h-5 text-[#666] shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-orange-100/50 px-4 py-2.5 rounded-lg border border-orange-200",children:[s.jsx(Pn,{className:"w-4 h-4 text-orange-600 shrink-0"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F0,{id:"rankExact",checked:re,onCheckedChange:Y=>{ce(Y),$(ke=>({...ke,page:1}))}}),s.jsx("label",{htmlFor:"rankExact",className:"text-sm text-orange-900 cursor-pointer whitespace-nowrap select-none",children:""})]}),re?s.jsx("select",{value:U,onChange:Y=>{const ke=Number(Y.target.value);R(ke),V(ke),$(Ce=>({...Ce,page:1}))},className:"h-9 px-3 border border-orange-300 rounded-lg text-sm bg-white hover:border-orange-400 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400 min-w-[100px]",children:Array.from({length:151},(Y,ke)=>ke).map(Y=>s.jsxs("option",{value:Y,children:[" ",Y]},Y))}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-orange-700 whitespace-nowrap",children:":"}),s.jsx("select",{value:U,onChange:Y=>{R(Number(Y.target.value)),$(ke=>({...ke,page:1}))},className:"h-9 px-3 border border-orange-300 rounded-lg text-sm bg-white hover:border-orange-400 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400 w-20",children:Array.from({length:151},(Y,ke)=>ke).map(Y=>s.jsx("option",{value:Y,children:Y},Y))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-orange-700 whitespace-nowrap",children:":"}),s.jsx("select",{value:I,onChange:Y=>{V(Number(Y.target.value)),$(ke=>({...ke,page:1}))},className:"h-9 px-3 border border-orange-300 rounded-lg text-sm bg-white hover:border-orange-400 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400 w-20",children:Array.from({length:151},(Y,ke)=>ke).map(Y=>s.jsx("option",{value:Y,children:Y},Y))})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-50 to-blue-100/50 px-4 py-2.5 rounded-lg border border-blue-200",children:[s.jsx(Wn,{className:"w-4 h-4 text-blue-600 shrink-0"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-blue-700 whitespace-nowrap",children:":"}),s.jsx(Ie,{type:"number",value:z,onChange:Y=>{P(Y.target.value),$(ke=>({...ke,page:1}))},placeholder:"0",className:"h-9 w-24 border-blue-300 focus:ring-blue-400"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-blue-700 whitespace-nowrap",children:":"}),s.jsx(Ie,{type:"number",value:C,onChange:Y=>{L(Y.target.value),$(ke=>({...ke,page:1}))},placeholder:"",className:"h-9 w-24 border-blue-300 focus:ring-blue-400"})]})]})]}),(U!==0||I!==150||re||z!==""||C!==""||H!=="created"||B!=="desc")&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{R(0),V(150),ce(!1),P(""),L(""),W("created"),M("desc"),$(Y=>({...Y,page:1}))},className:"h-9 text-red-600 hover:text-red-700 hover:bg-red-50",children:" "}),s.jsxs("div",{className:"ml-auto h-9 flex items-center text-sm text-[#666] bg-gradient-to-r from-gray-50 to-gray-100 px-4 rounded-lg border border-[#E6E9EE]",children:[": ",s.jsx("span",{className:"ml-1.5 font-semibold text-[#1E1E1E]",children:K.total})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap pt-3 border-t border-[#E6E9EE]",children:[s.jsx("span",{className:"text-sm text-[#666]",children:":"}),s.jsxs("select",{value:H,onChange:Y=>W(Y.target.value),className:"h-9 px-4 border border-[#E6E9EE] rounded-lg text-sm bg-white hover:border-[#39B7FF] transition-colors focus:outline-none focus:ring-2 focus:ring-[#39B7FF] min-w-[160px]",children:[s.jsx("option",{value:"created",children:"  "}),s.jsx("option",{value:"name",children:"  "}),s.jsx("option",{value:"balance",children:"  "}),s.jsx("option",{value:"level",children:"  "}),s.jsx("option",{value:"firstLine",children:"   "})]}),s.jsx("button",{onClick:()=>M(B==="asc"?"desc":"asc"),className:"h-9 px-4 border border-[#E6E9EE] rounded-lg text-sm bg-white hover:bg-[#F0F9FF] hover:border-[#39B7FF] transition-colors flex items-center gap-2 whitespace-nowrap",children:B==="desc"?s.jsxs(s.Fragment,{children:[s.jsx(ns,{className:"w-4 h-4 text-[#39B7FF]"}),s.jsx("span",{children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx(ic,{className:"w-4 h-4 text-[#12C9B6]"}),s.jsx("span",{children:" "})]})}),s.jsxs("div",{className:"relative ml-auto",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#666]"}),s.jsx(Ie,{placeholder:"  , email, ID...",value:c,onChange:Y=>d(Y.target.value),className:"pl-10 pr-4 h-9 w-72"})]})]})]}),o.length>0&&s.jsxs("div",{className:"space-y-2",children:[" ",o.map(Y=>wt(Y,!1))]}),o.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ot,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-[#666]",children:"  "})]}),K.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-[#E6E9EE]",children:[s.jsxs("p",{className:"text-[#666]",style:{fontSize:"14px"},children:[" ",K.page,"  ",K.totalPages]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>$(Y=>({...Y,page:Y.page-1})),disabled:K.page===1,children:[s.jsx(w_,{className:"w-4 h-4 mr-1"}),""]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>$(Y=>({...Y,page:Y.page+1})),disabled:!K.hasMore,children:["",s.jsx(dc,{className:"w-4 h-4 ml-1"})]})]})]})]})]})]})}),s.jsxs(Vt,{value:"ids",className:"space-y-6",children:[s.jsx(pq,{currentUser:e,onDataChange:Qt}),s.jsx(gq,{}),s.jsx(t_e,{currentUser:e}),s.jsx(r_e,{currentUser:e}),s.jsx(n_e,{currentUser:e})]})]})]}),s.jsx(Er,{open:ue,onOpenChange:pe,children:s.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_r,{children:s.jsxs(yr,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${me?.isAdmin?"bg-gradient-to-br from-purple-500 to-purple-700":"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}`,children:me?.isAdmin?s.jsx(kn,{className:"w-5 h-5 text-white"}):s.jsx(Ot,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:" "}),me?.isAdmin&&s.jsx(Qe,{className:"bg-purple-100 text-purple-700",children:"Admin"})]}),s.jsxs(kr,{className:"mt-1",children:["ID: ",me?.id," ",me?.ID&&` P${me.ID}`]})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:""}),s.jsx(Ie,{id:"",value:ee.,onChange:Y=>xe({...ee,:Y.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:""}),s.jsx(Ie,{id:"",value:ee.,onChange:Y=>xe({...ee,:Y.target.value}),placeholder:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4"}),"Email"]}),s.jsx(Ie,{id:"email",type:"email",value:ee.email,onChange:Y=>xe({...ee,email:Y.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"",className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),""]}),s.jsx(Ie,{id:"",value:ee.,onChange:Y=>xe({...ee,:Y.target.value}),placeholder:"+7 (999) 123-45-67"})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsxs(Oe,{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx(Sr,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"telegram",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Vs,{className:"w-3 h-3 text-blue-600"}),"Telegram"]}),s.jsx(Ie,{id:"telegram",value:ee.telegram||"",onChange:Y=>xe({...ee,telegram:Y.target.value}),placeholder:"@username",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"whatsapp",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Sn,{className:"w-3 h-3 text-green-600"}),"WhatsApp"]}),s.jsx(Ie,{id:"whatsapp",value:ee.whatsapp||"",onChange:Y=>xe({...ee,whatsapp:Y.target.value}),placeholder:"+7 999 123-45-67",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"instagram",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(js,{className:"w-3 h-3 text-pink-600"}),"Instagram"]}),s.jsx(Ie,{id:"instagram",value:ee.instagram||"",onChange:Y=>xe({...ee,instagram:Y.target.value}),placeholder:"@username",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"vk",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Yl,{className:"w-3 h-3 text-indigo-600"}),"VK"]}),s.jsx(Ie,{id:"vk",value:ee.vk||"",onChange:Y=>xe({...ee,vk:Y.target.value}),placeholder:"id123456789",className:"text-sm"})]})]})]}),!me?.isAdmin&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"",className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"})," "]}),s.jsx(Ie,{id:"",type:"number",value:ee.===0?"":ee.,onChange:Y=>xe({...ee,:Y.target.value===""?0:Number(Y.target.value)}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"",className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"})," "]}),s.jsx(Ie,{id:"",type:"number",value:ee.===0?"":ee.,onChange:Y=>xe({...ee,:Y.target.value===""?0:Number(Y.target.value)}),placeholder:"0"})]})]})}),me?.isAdmin&&s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"  .   ."})})]}),s.jsxs(_s,{children:[s.jsx(ie,{variant:"outline",onClick:()=>pe(!1),disabled:X,children:""}),s.jsx(ie,{onClick:wl,disabled:X,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:X?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]})]})}),s.jsx(Er,{open:de,onOpenChange:te,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(_r,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx(yr,{children:"  "}),s.jsx(kr,{children:"    "})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm text-yellow-900 font-medium",children:"    :"}),he.!==ee.&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:" :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"line-through text-gray-400",children:["",he..toLocaleString()]}),s.jsx(Us,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"font-bold text-yellow-900",children:["",ee..toLocaleString()]})]})]}),he.!==ee.&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:" :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"line-through text-gray-400",children:["",he..toLocaleString()]}),s.jsx(Us,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"font-bold text-yellow-900",children:["",ee..toLocaleString()]})]})]})]}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-xs text-red-800",children:"       .    ."})})]}),s.jsxs(_s,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>te(!1),disabled:X,children:""}),s.jsx(ie,{onClick:ni,disabled:X,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:X?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"w-4 h-4 mr-2"})," "]})})]})]})}),s.jsx(Er,{open:ze,onOpenChange:se,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(_r,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-[#39B7FF]"})}),s.jsxs("div",{children:[s.jsx(yr,{children:"  "}),s.jsx(kr,{children:"    "})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"    :"}),ne.!==ee.&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:":"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400",children:ne.}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF]",children:ee.})]})]}),ne.!==ee.&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:":"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400",children:ne.}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF]",children:ee.})]})]}),ne.email!==ee.email&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:"Email:"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400 truncate max-w-[120px]",children:ne.email}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF] truncate max-w-[120px]",children:ee.email})]})]}),ne.!==ee.&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:":"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400",children:ne.}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF]",children:ee.})]})]}),(ne.telegram!==ee.telegram||ne.whatsapp!==ee.whatsapp||ne.instagram!==ee.instagram||ne.vk!==ee.vk)&&s.jsx("div",{className:"pt-2 border-t border-blue-200",children:s.jsx("p",{className:"text-xs text-blue-700",children:"   . "})})]}),s.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsx("p",{className:"text-xs text-orange-800",children:"            ."})})]}),s.jsxs(_s,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>se(!1),disabled:X,children:""}),s.jsx(ie,{onClick:ni,disabled:X,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:X?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"w-4 h-4 mr-2"})," "]})})]})]})}),s.jsx(Er,{open:J,onOpenChange:je,children:s.jsxs(vr,{className:"max-w-lg",children:[s.jsx(_r,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-full flex items-center justify-center",children:s.jsx(Xs,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(yr,{children:" "}),s.jsx(kr,{children:et&&`: ${et.} ${et.||""}`})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"notification-type",children:" "}),s.jsxs("select",{id:"notification-type",value:Ae.,onChange:Y=>Te({...Ae,:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39B7FF]",children:[s.jsx("option",{value:"course",children:" "}),s.jsx("option",{value:"order",children:" "}),s.jsx("option",{value:"commission",children:" "}),s.jsx("option",{value:"new_partner",children:"  "}),s.jsx("option",{value:"goal",children:" "}),s.jsx("option",{value:"withdrawal",children:"  "}),s.jsx("option",{value:"inactive",children:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"notification-title",children:""}),s.jsx(Ie,{id:"notification-title",value:Ae.,onChange:Y=>Te({...Ae,:Y.target.value}),placeholder:"  ",maxLength:100})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"notification-message",children:""}),s.jsx("textarea",{id:"notification-message",value:Ae.,onChange:Y=>Te({...Ae,:Y.target.value}),placeholder:"  ",rows:4,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39B7FF] resize-none"}),s.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[Ae..length,"/500"]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:":"}),s.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Xs,{className:"w-4 h-4 text-[#39B7FF] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Ae.||" "}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ae.||"   "})]})]})})]})]}),s.jsxs(_s,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>je(!1),disabled:Be,children:""}),s.jsx(ie,{onClick:Ze,disabled:Be||!Ae.||!Ae.,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:Be?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),""]})})]})]})}),s.jsx(QL,{open:Rs,onOpenChange:Tn,children:s.jsxs(ZL,{className:"w-[600px] sm:w-[700px] overflow-y-auto",children:[s.jsx(Fee,{children:s.jsxs(eB,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl flex items-center justify-center text-white overflow-hidden relative",children:Xe?.?s.jsx("img",{src:Xe.,alt:Xe.,className:"w-full h-full object-cover absolute inset-0"}):s.jsx("span",{className:"absolute inset-0 flex items-center justify-center",style:{fontWeight:"700",fontSize:"18px"},children:Xe?.?.charAt(0).toUpperCase()||"?"})}),s.jsxs("div",{children:[s.jsxs("div",{children:[Xe?.," ",Xe?.]}),s.jsxs(tB,{className:"text-sm",children:["ID: ",Xe?.id]})]})]})}),Ms?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"})}):Xe&&s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsxs(Se,{children:[s.jsx(He,{className:"pb-3",children:s.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[s.jsx(t9,{className:"w-4 h-4"})," "]})}),s.jsx(Ee,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:"Email"}),s.jsx("p",{className:"text-sm font-medium",children:Xe.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:""}),s.jsx("p",{className:"text-sm font-medium",children:Xe.||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:""}),s.jsx(Qe,{className:"bg-orange-100 text-orange-700",children:Ue.get(Xe.id)??0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:""}),s.jsx(Qe,{className:"bg-blue-100 text-blue-700",children:Xe.})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:""}),s.jsx("p",{className:"text-sm",children:Xe.?new Date(Xe.).toLocaleDateString("ru-RU"):""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:". "}),s.jsx("p",{className:"text-sm font-mono font-medium",children:Xe.||""})]})]})})]}),s.jsxs(Se,{children:[s.jsx(He,{className:"pb-3",children:s.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[s.jsx(On,{className:"w-4 h-4"}),""]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs text-green-700 mb-1",children:" "}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["",Xe.?.toLocaleString()||0]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs text-blue-700 mb-1",children:""}),s.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["",Xe.?.toLocaleString()||0]})]})]})})]}),s.jsxs(Se,{children:[s.jsx(He,{className:"pb-3",children:s.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Ot,{className:"w-4 h-4"}),""]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:" "}),s.jsx("p",{className:"text-xl font-bold",children:Xe.?.length||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[#999] mb-1",children:" "}),s.jsx("p",{className:"text-xl font-bold",children:Kt(Xe.id)})]})]}),Xe.Id&&s.jsxs("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-purple-700 mb-1",children:""}),s.jsxs("p",{className:"text-sm font-medium",children:["ID: ",Xe.Id]})]})]})]}),(Xe.telegram||Xe.whatsapp||Xe.instagram||Xe.vk||Xe.socialMedia?.telegram||Xe.socialMedia?.whatsapp||Xe.socialMedia?.instagram||Xe.socialMedia?.vk)&&s.jsxs(Se,{children:[s.jsx(He,{className:"pb-3",children:s.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Sr,{className:"w-4 h-4"})," "]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 auto-rows-fr",children:[(Xe.telegram||Xe.socialMedia?.telegram)&&s.jsxs("a",{href:`https://t.me/${(Xe.telegram||Xe.socialMedia?.telegram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors cursor-pointer w-full",children:[s.jsx(Vs,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-[#999] mb-0.5",children:"Telegram"}),s.jsxs("p",{className:"text-sm font-medium truncate text-blue-700",children:["@",(Xe.telegram||Xe.socialMedia?.telegram).replace(/^@/,"")]})]})]}),(Xe.whatsapp||Xe.socialMedia?.whatsapp)&&s.jsxs("a",{href:`https://wa.me/${(Xe.whatsapp||Xe.socialMedia?.whatsapp).replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors cursor-pointer w-full",children:[s.jsx(Sn,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-[#999] mb-0.5",children:"WhatsApp"}),s.jsx("p",{className:"text-sm font-medium truncate text-green-700",children:Xe.whatsapp||Xe.socialMedia?.whatsapp})]})]}),(Xe.instagram||Xe.socialMedia?.instagram)&&s.jsxs("a",{href:`https://instagram.com/${(Xe.instagram||Xe.socialMedia?.instagram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-pink-50 rounded-lg hover:bg-pink-100 transition-colors cursor-pointer w-full",children:[s.jsx(js,{className:"w-4 h-4 text-pink-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-[#999] mb-0.5",children:"Instagram"}),s.jsxs("p",{className:"text-sm font-medium truncate text-pink-700",children:["@",(Xe.instagram||Xe.socialMedia?.instagram).replace(/^@/,"")]})]})]}),(Xe.vk||Xe.socialMedia?.vk)&&s.jsxs("a",{href:`https://vk.com/${(Xe.vk||Xe.socialMedia?.vk).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors cursor-pointer w-full",children:[s.jsx(Yl,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs text-[#999] mb-0.5",children:"VK"}),s.jsx("p",{className:"text-sm font-medium truncate text-indigo-700",children:(Xe.vk||Xe.socialMedia?.vk).replace(/^@/,"")})]})]})]})})]}),s.jsxs(Se,{children:[s.jsx(He,{className:"pb-3",children:s.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Ns,{className:"w-4 h-4"})," (",yt.length,")"]})}),s.jsx(Ee,{children:yt.length>0?s.jsxs("div",{className:"space-y-2",children:[yt.slice(0,5).map((Y,ke)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:Y.||""}),s.jsx("p",{className:"text-xs text-[#999]",children:Y.?new Date(Y.).toLocaleDateString("ru-RU"):""})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-bold",children:["",Y.?.toLocaleString()||0]}),s.jsx(Qe,{className:`text-xs ${Y.===""?"bg-green-100 text-green-700":Y.===" "?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:Y.||" "})]})]},ke)),yt.length>5&&s.jsxs("p",{className:"text-xs text-center text-[#999] pt-2",children:["  ",yt.length-5," ..."]})]}):s.jsx("p",{className:"text-sm text-[#999] text-center py-6",children:"  "})})]}),s.jsxs(Se,{children:[s.jsx(He,{className:"pb-3",children:s.jsxs(Ge,{className:"text-base flex items-center gap-2",children:[s.jsx(Wo,{className:"w-4 h-4"})," (",Xt.length,")"]})}),s.jsx(Ee,{children:Xt.length>0?s.jsxs("div",{className:"space-y-2",children:[Xt.slice(0,5).map((Y,ke)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:Y.||""}),s.jsx("p",{className:"text-xs text-[#999]",children:Y.?new Date(Y.).toLocaleDateString("ru-RU"):""})]}),s.jsxs("p",{className:`text-sm font-bold ${Y.>0?"text-green-600":"text-red-600"}`,children:[Y.>0?"+":"","",Y.?.toLocaleString()||0]})]},ke)),Xt.length>5&&s.jsxs("p",{className:"text-xs text-center text-[#999] pt-2",children:["  ",Xt.length-5," ..."]})]}):s.jsx("p",{className:"text-sm text-[#999] text-center py-6",children:"  "})})]})]})]})}),s.jsx(Er,{open:v,onOpenChange:N,children:s.jsxs(vr,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsxs(yr,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${j?.isAdmin?"bg-gradient-to-br from-purple-500 to-purple-700":"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}`,children:j?.isAdmin?s.jsx(kn,{className:"w-6 h-6 text-white"}):s.jsx(Ot,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{children:[j?.," ",j?.]}),j?.isAdmin&&s.jsx(Qe,{className:"bg-purple-100 text-purple-700",children:"Admin"}),s.jsxs(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:[" ",Ue.get(j?.id||"")??0]})]})})]}),s.jsxs(kr,{children:["ID: ",j?.id," ",j?.ID&&` P${j.ID}`]})]}),j&&s.jsxs("div",{className:"py-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 pb-4 border-b border-[#E6E9EE]",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(j.||"")},className:"flex items-center gap-1.5",children:[s.jsx(xi,{className:"w-3.5 h-3.5"}),"-"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{const Y=`${window.location.origin}?ref=${j.}`;navigator.clipboard.writeText(Y)},className:"flex items-center gap-1.5",children:[s.jsx(j_,{className:"w-3.5 h-3.5"}),"-"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>Tc(j),className:"flex items-center gap-1.5",children:[s.jsx(Ru,{className:"w-3.5 h-3.5"}),""]}),s.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5",onClick:()=>{le(j)},children:[s.jsx(Xs,{className:"w-3.5 h-3.5"}),""]}),s.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-1.5 border-red-200 hover:bg-red-50 text-red-700",onClick:()=>rt(j),children:[s.jsx(as,{className:"w-3.5 h-3.5"}),"  PDF"]})]}),s.jsxs(Ni,{defaultValue:"general",className:"w-full",children:[s.jsxs(Si,{className:"grid w-full grid-cols-5 mb-4",children:[s.jsx(Dt,{value:"general",children:""}),s.jsx(Dt,{value:"team",children:""}),s.jsx(Dt,{value:"sales",children:""}),s.jsx(Dt,{value:"finance",children:""}),s.jsx(Dt,{value:"activity",children:""})]}),s.jsxs(Vt,{value:"general",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:Ue.get(j.id)??0})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:j.?new Date(j.).toLocaleDateString("ru-RU"):"-"})]}),s.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:j.Id?`ID: ${j.Id}`:""})]}),s.jsxs("div",{className:"bg-teal-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:[Kt(j.id)," "]})]}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E] font-mono",style:{fontSize:"12px",fontWeight:"600"},children:j.||"-"})]})]}),s.jsxs("div",{className:"bg-[#F7FAFC] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-4 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Hs,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:border-[#39B7FF] transition-all flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Hs,{className:"w-4 h-4 text-[#39B7FF]"})}),s.jsx("span",{className:"text-[#999]",style:{fontSize:"11px",fontWeight:"600"},children:"EMAIL"})]}),s.jsx("a",{href:`mailto:${j.email}`,className:"text-[#1E1E1E] hover:text-[#39B7FF] transition-colors block mb-3 flex-grow",style:{fontSize:"13px",fontWeight:"600"},children:j.email}),s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full text-xs h-7",onClick:()=>{navigator.clipboard.writeText(j.email),Q.success("Email ")},children:[s.jsx(xi,{className:"w-3 h-3 mr-1"}),""]})]}),j.&&s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 hover:border-[#12C9B6] transition-all flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:s.jsx(Sn,{className:"w-4 h-4 text-[#12C9B6]"})}),s.jsx("span",{className:"text-[#999]",style:{fontSize:"11px",fontWeight:"600"},children:""})]}),s.jsx("div",{className:"text-[#1E1E1E] mb-3 flex-grow",style:{fontSize:"13px",fontWeight:"600"},children:j.}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:()=>window.open(`https://wa.me/${j..replace(/\D/g,"")}`,"_blank"),children:[s.jsx(Sr,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:()=>{const Y=j..replace(/\D/g,"");window.open(`tg://resolve?phone=${Y}`,"_blank")},children:[s.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Telegram"]}),s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:()=>window.open(`tel:${j.}`,"_blank"),children:[s.jsx(J$,{className:"w-3 h-3 mr-1"}),""]})]})]})]})]}),(j.telegram||j.whatsapp||j.instagram||j.vk||j.socialMedia)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Sr,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(j.telegram||j.socialMedia?.telegram)&&s.jsxs("a",{href:`https://t.me/${(j.telegram||j.socialMedia?.telegram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-50 hover:bg-blue-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Vs,{className:"w-4 h-4 text-blue-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"TELEGRAM"})]}),s.jsxs("p",{className:"text-blue-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:["@",(j.telegram||j.socialMedia?.telegram).replace(/^@/,"")]})]}),(j.whatsapp||j.socialMedia?.whatsapp)&&s.jsxs("a",{href:`https://wa.me/${(j.whatsapp||j.socialMedia?.whatsapp).replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-green-50 hover:bg-green-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Sn,{className:"w-4 h-4 text-green-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"WHATSAPP"})]}),s.jsx("p",{className:"text-green-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:j.whatsapp||j.socialMedia?.whatsapp})]}),(j.instagram||j.socialMedia?.instagram)&&s.jsxs("a",{href:`https://instagram.com/${(j.instagram||j.socialMedia?.instagram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-pink-50 hover:bg-pink-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(js,{className:"w-4 h-4 text-pink-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"INSTAGRAM"})]}),s.jsxs("p",{className:"text-pink-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:["@",(j.instagram||j.socialMedia?.instagram).replace(/^@/,"")]})]}),(j.vk||j.socialMedia?.vk)&&s.jsxs("a",{href:`https://vk.com/${(j.vk||j.socialMedia?.vk).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-50 hover:bg-indigo-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Yl,{className:"w-4 h-4 text-indigo-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"VK"})]}),s.jsx("p",{className:"text-indigo-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:(j.vk||j.socialMedia?.vk).replace(/^@/,"")})]})]})]})]}),s.jsxs(Vt,{value:"team",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:"1 "}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:j.?.length||0}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:"2 "}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:(()=>{if(!j.)return 0;const ke=typeof j.[0]=="string";let Ce=0;for(const Pe of j.){const Fe=ke?Pe:Pe.id,bt=A.find(at=>at.id===Fe)||o.find(at=>at.id===Fe);bt?.&&(Ce+=bt..length)}return Ce})()}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" 2 "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:"3 "}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:(()=>{if(!j.)return 0;const ke=typeof j.[0]=="string";let Ce=0;for(const Pe of j.){const Fe=ke?Pe:Pe.id,bt=A.find(at=>at.id===Fe)||o.find(at=>at.id===Fe);if(bt?.)for(const at of bt.){const jt=typeof at=="string"?at:at.id,dr=A.find(Zr=>Zr.id===jt)||o.find(Zr=>Zr.id===jt);dr?.&&(Ce+=dr..length)}}return Ce})()}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" 3 "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-4 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:Kt(j.id)}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" "})]})]}),s.jsxs("div",{className:"bg-[#F7FAFC] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Yr,{className:"w-4 h-4 text-green-600"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-[#666]",children:"  "}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:"85%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full",style:{width:"85%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-[#666]",children:""}),s.jsx("span",{className:"text-sm font-bold text-red-600",children:"15%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-600 h-2 rounded-full",style:{width:"15%"}})})]})]})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-4 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h3",{className:"text-[#1E1E1E] flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx($t,{className:"w-4 h-4 text-[#39B7FF]"})," "]})}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsxs(qn,{defaultValue:"1month",children:[s.jsx(Kn,{className:"h-8 text-xs flex-1",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"1month",children:" "}),s.jsx(gt,{value:"3months",children:" 3 "}),s.jsx(gt,{value:"year",children:" "}),s.jsx(gt,{value:"all",children:"  "})]})]}),s.jsxs(qn,{defaultValue:"turnover",children:[s.jsx(Kn,{className:"h-8 text-xs flex-1",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"turnover",children:" "}),s.jsx(gt,{value:"recent",children:""}),s.jsx(gt,{value:"orders",children:" "}),s.jsx(gt,{value:"activity",children:" "}),s.jsx(gt,{value:"balance",children:" "}),s.jsx(gt,{value:"team",children:" "}),s.jsx(gt,{value:"rank",children:" "})]})]})]}),s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:(()=>{if(!j.||j..length===0)return s.jsx("p",{className:"text-sm text-[#999] text-center py-4",children:" "});const ke=typeof j.[0]=="string",Ce=j..map(Pe=>{const Fe=ke?Pe:Pe.id;return A.find(bt=>bt.id===Fe)||o.find(bt=>bt.id===Fe)}).filter(Boolean).slice(0,10);return Ce.length===0?s.jsx("p",{className:"text-sm text-[#999] text-center py-4",children:" "}):Ce.map((Pe,Fe)=>{const bt=Ue.get(Pe.id)??0,at=Pe.?.length||0,jt=Yn(Pe);return s.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-[#F7FAFC] rounded-lg transition-colors cursor-pointer border border-transparent hover:border-[#39B7FF]",onClick:()=>{E(Pe),N(!0)},children:[s.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-yellow-100 to-yellow-200 flex items-center justify-center text-yellow-700 font-bold text-xs shrink-0",children:Fe+1}),s.jsxs("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] flex items-center justify-center text-white text-xs font-bold shrink-0",children:[Pe.?.[0],Pe.?.[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsxs("p",{className:"text-xs font-medium text-[#1E1E1E] truncate",children:[Pe.," ",Pe.]}),s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${jt.color} shrink-0`,title:jt.text})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Qe,{className:"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-700 text-[10px] px-1.5 py-0",children:[" ",bt]}),s.jsxs("span",{className:"text-[10px] text-[#999]",children:[at," ",at===1?"":at<5?"":""]})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("p",{className:"text-sm font-bold text-[#1E1E1E]",children:[Pe.?.toLocaleString("ru-RU")||0," "]}),s.jsx("p",{className:"text-[10px] text-[#999]",children:""})]})]},Pe.id)})})()}),j.&&j..length>10&&s.jsx("div",{className:"mt-3 pt-3 border-t border-[#E6E9EE]",children:s.jsxs("button",{className:"w-full text-xs text-[#39B7FF] hover:underline font-medium",children:["   (",j..length,")"]})})]})]}),s.jsx(Vt,{value:"sales",className:"space-y-4",children:(()=>{const Y=Dr(j.id),ke=Math.max(...Y.salesByDay,1);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Ns,{className:"w-5 h-5 text-green-600"}),s.jsx(Us,{className:"w-4 h-4 text-green-600"})]}),s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-xl font-bold",children:["",Y.personalSales.toLocaleString()]}),s.jsxs("p",{className:`text-xs mt-1 ${Y.percentChange>=0?"text-green-600":"text-red-600"}`,children:[Y.percentChange>=0?"+":"",Y.percentChange.toFixed(1),"%  "]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Ns,{className:"w-5 h-5 text-blue-600"}),s.jsx($t,{className:"w-4 h-4 text-blue-600"})]}),s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-xl font-bold",children:["",Y.teamSales.toLocaleString()]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"  "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Pn,{className:"w-5 h-5 text-purple-600"})}),s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E] text-xl font-bold",children:Y.ordersCount}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:"  "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(LS,{className:"w-5 h-5 text-orange-600"})}),s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-xl font-bold",children:["",Math.round(Y.averageCheck).toLocaleString()]}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:"  "})]})]}),s.jsxs("div",{className:"bg-[#F7FAFC] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx($t,{className:"w-4 h-4 text-[#39B7FF]"}),"  (30 )"]}),s.jsx("div",{className:"h-32 flex items-end gap-1",children:Y.salesByDay.map((Ce,Pe)=>s.jsx("div",{className:"flex-1 bg-gradient-to-t from-[#39B7FF] to-[#12C9B6] rounded-t transition-all hover:opacity-100",style:{height:`${ke>0?Ce/ke*100:5}%`,opacity:Ce>0?.8:.2,minHeight:"4px"},title:`${Ce.toLocaleString()}`},Pe))}),s.jsx("p",{className:"text-xs text-[#999] text-center mt-2",children:Y.salesByDay.reduce((Ce,Pe)=>Ce+Pe,0)>0?` : ${Y.salesByDay.reduce((Ce,Pe)=>Ce+Pe,0).toLocaleString()}`:"   30   "})]})]})})()}),s.jsxs(Vt,{value:"finance",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#39B7FF]/20 to-[#12C9B6]/20 p-4 rounded-lg border border-[#39B7FF]/30",children:[s.jsx("p",{className:"text-[#999] mb-2",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-3xl font-bold",children:["",j.?.toLocaleString()||0]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg border border-green-300",children:[s.jsx("p",{className:"text-[#999] mb-2",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-green-700 text-3xl font-bold",children:["",j.?.toLocaleString()||0]})]})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Wn,{className:"w-4 h-4 text-[#39B7FF]"}),"   ()"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-blue-600 text-xs mb-1 font-semibold",children:"D1 (1 )"}),s.jsx("p",{className:"text-[#1E1E1E] text-lg font-bold",children:"0"})]}),s.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-purple-600 text-xs mb-1 font-semibold",children:"D2 (2 )"}),s.jsx("p",{className:"text-[#1E1E1E] text-lg font-bold",children:"0"})]}),s.jsxs("div",{className:"bg-teal-50 p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-teal-600 text-xs mb-1 font-semibold",children:"D3 (3 )"}),s.jsx("p",{className:"text-[#1E1E1E] text-lg font-bold",children:"0"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 p-4 rounded-lg border border-orange-200",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx($t,{className:"w-4 h-4 text-orange-600"}),"   "]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-[#666]",children:[" ",Ue.get(j.id)??0,"   ",(Ue.get(j.id)??0)+1]}),s.jsx("span",{className:"text-sm font-bold text-orange-600",children:"0%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-yellow-500 h-3 rounded-full",style:{width:"0%"}})})]}),s.jsx("p",{className:"text-xs text-[#666]",children:"      "})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(On,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-6",children:"  "})]})]}),s.jsxs(Vt,{value:"activity",className:"space-y-4",children:[s.jsxs("div",{className:"bg-[#F7FAFC] p-4 rounded-lg border-2 border-[#E6E9EE]",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(tl,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),(()=>{const Y=Yn(j);return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg",children:[s.jsx("span",{className:`w-4 h-4 rounded-full ${Y.color} animate-pulse`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`${Y.textColor} font-semibold`,children:Y.text}),s.jsx("p",{className:"text-xs text-[#999] mt-1",children:(()=>{const ke=j.lastActivity||j.lastLogin||j.||j.;return ke?` : ${new Date(ke).toLocaleString("ru-RU")}`:"  "})()})]})]})})()]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Wo,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-[#F7FAFC] rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center shrink-0",children:s.jsx(Yr,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#1E1E1E]",children:"  "}),s.jsx("p",{className:"text-xs text-[#999]",children:j.?new Date(j.).toLocaleString("ru-RU"):" "})]})]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-4",children:"   "})]})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-3 flex items-center gap-2",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Ns,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-6",children:"  "})]})]})]})]})]})})]})}function i_e({editDialogOpen:e,setEditDialogOpen:t,editingUser:r,editFormData:n,setEditFormData:i,handleSaveUser:a,saving:o,balanceConfirmOpen:l,setBalanceConfirmOpen:c,originalBalances:d,saveUserData:h,dataConfirmOpen:m,setDataConfirmOpen:p,originalUserData:x,notificationDialogOpen:b,setNotificationDialogOpen:y,notificationTargetUser:v,notificationData:N,setNotificationData:j,handleSendNotification:E,sendingNotification:k}){return s.jsxs(s.Fragment,{children:[s.jsx(Er,{open:e,onOpenChange:t,children:s.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(_r,{children:s.jsxs(yr,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${r?.isAdmin?"bg-gradient-to-br from-purple-500 to-purple-700":"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}`,children:r?.isAdmin?s.jsx(kn,{className:"w-5 h-5 text-white"}):s.jsx(Ot,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:" "}),r?.isAdmin&&s.jsx(Qe,{className:"bg-purple-100 text-purple-700",children:"Admin"})]}),s.jsxs(kr,{className:"mt-1",children:["ID: ",r?.id," ",r?.ID&&` P${r.ID}`]})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:""}),s.jsx(Ie,{id:"",value:n.,onChange:_=>i({...n,:_.target.value}),placeholder:" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:""}),s.jsx(Ie,{id:"",value:n.,onChange:_=>i({...n,:_.target.value}),placeholder:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4"}),"Email"]}),s.jsx(Ie,{id:"email",type:"email",value:n.email,onChange:_=>i({...n,email:_.target.value}),placeholder:"email@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"",className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),""]}),s.jsx(Ie,{id:"",value:n.,onChange:_=>i({...n,:_.target.value}),placeholder:"+7 (999) 123-45-67"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:" "}),s.jsx(Ie,{id:"",type:"date",value:n.,onChange:_=>i({...n,:_.target.value})})]}),s.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[s.jsxs(Oe,{className:"flex items-center gap-2 text-sm font-semibold",children:[s.jsx(Sr,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"telegram",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Vs,{className:"w-3 h-3 text-blue-600"}),"Telegram"]}),s.jsx(Ie,{id:"telegram",value:n.telegram||"",onChange:_=>i({...n,telegram:_.target.value}),placeholder:"@username",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"whatsapp",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Sn,{className:"w-3 h-3 text-green-600"}),"WhatsApp"]}),s.jsx(Ie,{id:"whatsapp",value:n.whatsapp||"",onChange:_=>i({...n,whatsapp:_.target.value}),placeholder:"+7 999 123-45-67",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"facebook",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Sr,{className:"w-3 h-3 text-blue-600"}),"Facebook"]}),s.jsx(Ie,{id:"facebook",value:n.facebook||"",onChange:_=>i({...n,facebook:_.target.value}),placeholder:"username",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"instagram",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(js,{className:"w-3 h-3 text-pink-600"}),"Instagram"]}),s.jsx(Ie,{id:"instagram",value:n.instagram||"",onChange:_=>i({...n,instagram:_.target.value}),placeholder:"@username",className:"text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Oe,{htmlFor:"vk",className:"flex items-center gap-1.5 text-xs",children:[s.jsx(Yl,{className:"w-3 h-3 text-indigo-600"}),"VK"]}),s.jsx(Ie,{id:"vk",value:n.vk||"",onChange:_=>i({...n,vk:_.target.value}),placeholder:"id123456789",className:"text-sm"})]})]})]}),!r?.isAdmin&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:" "}),s.jsx(Ie,{id:"",type:"number",value:n.===0?"":n.,onChange:_=>i({...n,:_.target.value===""?0:Number(_.target.value)}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"",children:" "}),s.jsx(Ie,{id:"",type:"number",value:n.===0?"":n.,onChange:_=>i({...n,:_.target.value===""?0:Number(_.target.value)}),placeholder:"0"})]})]})}),r?.isAdmin&&s.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-yellow-800",children:"  .   ."})})]}),s.jsxs(_s,{children:[s.jsx(ie,{variant:"outline",onClick:()=>t(!1),disabled:o,children:""}),s.jsx(ie,{onClick:a,disabled:o,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):""})]})]})}),s.jsx(Er,{open:l,onOpenChange:c,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(_r,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx(yr,{children:"  "}),s.jsx(kr,{children:"    "})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm text-yellow-900 font-medium",children:"    :"}),d.!==n.&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:" :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"line-through text-gray-400",children:["",d..toLocaleString()]}),s.jsx(Us,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"font-bold text-yellow-900",children:["",n..toLocaleString()]})]})]}),d.!==n.&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:" :"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"line-through text-gray-400",children:["",d..toLocaleString()]}),s.jsx(Us,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("span",{className:"font-bold text-yellow-900",children:["",n..toLocaleString()]})]})]})]}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-xs text-red-800",children:"       ."})})]}),s.jsxs(_s,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>c(!1),disabled:o,children:""}),s.jsx(ie,{onClick:h,disabled:o,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"w-4 h-4 mr-2"})," "]})})]})]})}),s.jsx(Er,{open:m,onOpenChange:p,children:s.jsxs(vr,{className:"max-w-md",children:[s.jsx(_r,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-[#39B7FF]"})}),s.jsxs("div",{children:[s.jsx(yr,{children:"  "}),s.jsx(kr,{children:"    "})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-3",children:[s.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"    :"}),x?.!==n.&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:":"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400",children:x?.||"-"}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF]",children:n.})]})]}),x?.!==n.&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:":"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400",children:x?.||"-"}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF]",children:n.})]})]}),x?.email!==n.email&&s.jsxs("div",{className:"flex items-start justify-between text-sm gap-3",children:[s.jsx("span",{className:"text-gray-600 min-w-[80px]",children:"Email:"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[s.jsx("span",{className:"line-through text-gray-400 truncate max-w-[120px]",children:x?.email||"-"}),s.jsx(Us,{className:"w-4 h-4 text-[#39B7FF] flex-shrink-0"}),s.jsx("span",{className:"font-bold text-[#39B7FF] truncate max-w-[120px]",children:n.email})]})]})]}),s.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:s.jsx("p",{className:"text-xs text-orange-800",children:"       ."})})]}),s.jsxs(_s,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>p(!1),disabled:o,children:""}),s.jsx(ie,{onClick:h,disabled:o,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"w-4 h-4 mr-2"})," "]})})]})]})}),s.jsx(Er,{open:b,onOpenChange:y,children:s.jsxs(vr,{className:"max-w-lg",children:[s.jsx(_r,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-full flex items-center justify-center",children:s.jsx(Xs,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx(yr,{children:" "}),s.jsx(kr,{children:v&&`: ${v.} ${v.||""}`})]})]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"notification-type",children:" "}),s.jsxs("select",{id:"notification-type",value:N.,onChange:_=>j({...N,:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39B7FF]",children:[s.jsx("option",{value:"course",children:" "}),s.jsx("option",{value:"order",children:" "}),s.jsx("option",{value:"commission",children:" "}),s.jsx("option",{value:"new_partner",children:"  "}),s.jsx("option",{value:"goal",children:" "}),s.jsx("option",{value:"withdrawal",children:"  "}),s.jsx("option",{value:"inactive",children:" "})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"notification-title",children:""}),s.jsx(Ie,{id:"notification-title",value:N.,onChange:_=>j({...N,:_.target.value}),placeholder:"  ",maxLength:100})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Oe,{htmlFor:"notification-message",children:""}),s.jsx("textarea",{id:"notification-message",value:N.,onChange:_=>j({...N,:_.target.value}),placeholder:"  ",rows:4,maxLength:500,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39B7FF] resize-none"}),s.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[N..length,"/500"]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:":"}),s.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Xs,{className:"w-4 h-4 text-[#39B7FF] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:N.||" "}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N.||"   "})]})]})})]})]}),s.jsxs(_s,{className:"gap-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>y(!1),disabled:k,children:""}),s.jsx(ie,{onClick:E,disabled:k||!N.||!N.,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:k?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"w-4 h-4 mr-2"}),""]})})]})]})})]})}async function a_e(e,t,r,n){if(confirm(`  

${e.} ${e.}
${e.email}
ID: ${e.id}

  !

?`))try{const i=localStorage.getItem("userId"),o=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/delete-user/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${Rt}`,"X-User-Id":i||""}})).json();if(o.success)Q.success(" !"),t.invalidateQueries({queryKey:["users-optimized"]}),n&&n(!1),r&&r();else throw new Error(o.error||"Failed to delete user")}catch(i){console.error("Delete user error:",i),Q.error("  ")}}async function o_e(e,t,r){const n=e.isAdmin?"":"";if(confirm(`${n.toUpperCase()}    ${e.}?`))try{const i=localStorage.getItem("userId"),o=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/users/${e.id}/set-admin`,{method:"POST",headers:{Authorization:`Bearer ${Rt}`,"X-User-Id":i||"","Content-Type":"application/json"},body:JSON.stringify({isAdmin:!e.isAdmin})})).json();if(o.success)Q.success(` ${e.isAdmin?"":""}!`),t.invalidateQueries({queryKey:["users-optimized"]}),r&&r();else throw new Error(o.error||"Failed to toggle admin")}catch(i){console.error("Toggle admin error:",i),Q.error("  ")}}var $0="Collapsible",[l_e,xq]=ls($0),[c_e,cA]=l_e($0),vq=w.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,d]=Os({prop:n,defaultProp:i??!1,onChange:o,caller:$0});return s.jsx(c_e,{scope:r,disabled:a,contentId:As(),open:c,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),children:s.jsx(xt.div,{"data-state":dA(c),"data-disabled":a?"":void 0,...l,ref:t})})});vq.displayName=$0;var yq="CollapsibleTrigger",bq=w.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=cA(yq,r);return s.jsx(xt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":dA(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Je(e.onClick,i.onOpenToggle)})});bq.displayName=yq;var uA="CollapsibleContent",wq=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=cA(uA,e.__scopeCollapsible);return s.jsx(cs,{present:r||i.open,children:({present:a})=>s.jsx(u_e,{...n,ref:t,present:a})})});wq.displayName=uA;var u_e=w.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=e,o=cA(uA,r),[l,c]=w.useState(n),d=w.useRef(null),h=Mt(t,d),m=w.useRef(0),p=m.current,x=w.useRef(0),b=x.current,y=o.open||l,v=w.useRef(y),N=w.useRef(void 0);return w.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),Qr(()=>{const j=d.current;if(j){N.current=N.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const E=j.getBoundingClientRect();m.current=E.height,x.current=E.width,v.current||(j.style.transitionDuration=N.current.transitionDuration,j.style.animationName=N.current.animationName),c(n)}},[o.open,n]),s.jsx(xt.div,{"data-state":dA(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...a,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:y&&i})});function dA(e){return e?"open":"closed"}var d_e=vq,h_e=bq,f_e=wq,ea="Accordion",m_e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[hA,p_e,g_e]=wm(ea),[L0]=ls(ea,[g_e,xq]),fA=xq(),jq=Z.forwardRef((e,t)=>{const{type:r,...n}=e,i=n,a=n;return s.jsx(hA.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(b_e,{...a,ref:t}):s.jsx(y_e,{...i,ref:t})})});jq.displayName=ea;var[Nq,x_e]=L0(ea),[Sq,v_e]=L0(ea,{collapsible:!1}),y_e=Z.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...o}=e,[l,c]=Os({prop:r,defaultProp:n??"",onChange:i,caller:ea});return s.jsx(Nq,{scope:e.__scopeAccordion,value:Z.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Z.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(Sq,{scope:e.__scopeAccordion,collapsible:a,children:s.jsx(Eq,{...o,ref:t})})})}),b_e=Z.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=e,[o,l]=Os({prop:r,defaultProp:n??[],onChange:i,caller:ea}),c=Z.useCallback(h=>l((m=[])=>[...m,h]),[l]),d=Z.useCallback(h=>l((m=[])=>m.filter(p=>p!==h)),[l]);return s.jsx(Nq,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(Sq,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(Eq,{...a,ref:t})})})}),[w_e,B0]=L0(ea),Eq=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...o}=e,l=Z.useRef(null),c=Mt(l,t),d=p_e(r),m=Rd(i)==="ltr",p=Je(e.onKeyDown,x=>{if(!m_e.includes(x.key))return;const b=x.target,y=d().filter(D=>!D.ref.current?.disabled),v=y.findIndex(D=>D.ref.current===b),N=y.length;if(v===-1)return;x.preventDefault();let j=v;const E=0,k=N-1,_=()=>{j=v+1,j>k&&(j=E)},A=()=>{j=v-1,j<E&&(j=k)};switch(x.key){case"Home":j=E;break;case"End":j=k;break;case"ArrowRight":a==="horizontal"&&(m?_():A());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(m?A():_());break;case"ArrowUp":a==="vertical"&&A();break}const T=j%N;y[T].ref.current?.focus()});return s.jsx(w_e,{scope:r,disabled:n,direction:i,orientation:a,children:s.jsx(hA.Slot,{scope:r,children:s.jsx(xt.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:p})})})}),yv="AccordionItem",[j_e,mA]=L0(yv),_q=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...i}=e,a=B0(yv,r),o=x_e(yv,r),l=fA(r),c=As(),d=n&&o.value.includes(n)||!1,h=a.disabled||e.disabled;return s.jsx(j_e,{scope:r,open:d,disabled:h,triggerId:c,children:s.jsx(d_e,{"data-orientation":a.orientation,"data-state":Tq(d),...l,...i,ref:t,disabled:h,open:d,onOpenChange:m=>{m?o.onItemOpen(n):o.onItemClose(n)}})})});_q.displayName=yv;var Cq="AccordionHeader",kq=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=B0(ea,r),a=mA(Cq,r);return s.jsx(xt.h3,{"data-orientation":i.orientation,"data-state":Tq(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});kq.displayName=Cq;var t_="AccordionTrigger",Aq=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=B0(ea,r),a=mA(t_,r),o=v_e(t_,r),l=fA(r);return s.jsx(hA.ItemSlot,{scope:r,children:s.jsx(h_e,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...n,ref:t})})});Aq.displayName=t_;var Pq="AccordionContent",Oq=Z.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=B0(ea,r),a=mA(Pq,r),o=fA(r);return s.jsx(f_e,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Oq.displayName=Pq;function Tq(e){return e?"open":"closed"}var N_e=jq,S_e=_q,E_e=kq,__e=Aq,C_e=Oq;function k_e({...e}){return s.jsx(N_e,{"data-slot":"accordion",...e})}function uS({className:e,...t}){return s.jsx(S_e,{"data-slot":"accordion-item",className:ut("border-b last:border-b-0",e),...t})}function dS({className:e,children:t,...r}){return s.jsx(E_e,{className:"flex",children:s.jsxs(__e,{"data-slot":"accordion-trigger",className:ut("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,s.jsx(ns,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function hS({className:e,children:t,...r}){return s.jsx(C_e,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:s.jsx("div",{className:ut("pt-0 pb-4",e),children:t})})}var z0="Switch",[A_e]=ls(z0),[P_e,O_e]=A_e(z0),Rq=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...m}=e,[p,x]=w.useState(null),b=Mt(t,E=>x(E)),y=w.useRef(!1),v=p?h||!!p.closest("form"):!0,[N,j]=Os({prop:i,defaultProp:a??!1,onChange:d,caller:z0});return s.jsxs(P_e,{scope:r,checked:N,disabled:l,children:[s.jsx(xt.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":Fq(N),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:b,onClick:Je(e.onClick,E=>{j(k=>!k),v&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})}),v&&s.jsx(Dq,{control:p,bubbles:!y.current,name:n,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});Rq.displayName=z0;var Mq="SwitchThumb",Iq=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=O_e(Mq,r);return s.jsx(xt.span,{"data-state":Fq(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Iq.displayName=Mq;var T_e="SwitchBubbleInput",Dq=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const o=w.useRef(null),l=Mt(o,a),c=A0(r),d=Uv(t);return w.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&x){const b=new Event("click",{bubbles:n});x.call(h,r),h.dispatchEvent(b)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dq.displayName=T_e;function Fq(e){return e?"checked":"unchecked"}var R_e=Rq,M_e=Iq;function Ln({className:e,...t}){return s.jsx(R_e,{"data-slot":"switch",className:ut("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(M_e,{"data-slot":"switch-thumb",className:ut("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function I_e({currentUser:e}){const{users:t,isLoading:r}=xl(),[n,i]=w.useState(!1),[a,o]=w.useState([]),[l,c]=w.useState(!1),[d,h]=w.useState(null);w.useEffect(()=>{const E=localStorage.getItem("autoBackupEnabled")==="true",k=localStorage.getItem("lastBackupTime");i(E),h(k),m()},[]),w.useEffect(()=>{if(!n)return;const E=()=>{const _=Date.now(),A=d?new Date(d).getTime():0,T=(_-A)/(1e3*60*60);(T>=24||!d)&&(console.log("  : ",T.toFixed(1),""),p(!0))};E();const k=setInterval(E,3600*1e3);return()=>clearInterval(k)},[n,d,t]);const m=()=>{const E=localStorage.getItem("userBackups");if(E)try{const k=JSON.parse(E);o(k.sort((_,A)=>new Date(A.timestamp).getTime()-new Date(_.timestamp).getTime()))}catch(k){console.error("Failed to load backups:",k)}},p=async(E=!1)=>{if(t.length===0){Q.error("   ");return}c(!0);const k=Q.loading(E?"  ...":"  ...");try{const _=new Date().toISOString(),A={timestamp:_,users:t,meta:{totalUsers:t.length,nonAdminUsers:t.filter(W=>!W.isAdmin).length,createdBy:e.id,auto:E}},T=`backup_${Date.now()}`,D=JSON.stringify(A),q=Math.round(D.length/1024);localStorage.setItem(T,D);const $=[{id:T,timestamp:_,usersCount:t.length,fileSize:q,auto:E},...a],H=$.slice(0,10);$.slice(10).forEach(W=>{localStorage.removeItem(W.id)}),localStorage.setItem("userBackups",JSON.stringify(H)),o(H),h(_),localStorage.setItem("lastBackupTime",_),Q.success(`   (${q} KB)`,{id:k,description:E?" ":void 0}),console.log(` Backup created: ${T}, ${q} KB, ${t.length} users`)}catch(_){console.error("Backup error:",_),Q.error("  ",{id:k})}finally{c(!1)}},x=E=>{try{const k=localStorage.getItem(E.id);if(!k){Q.error("  ");return}const _=new Blob([k],{type:"application/json"}),A=URL.createObjectURL(_),T=document.createElement("a");T.href=A,T.download=`mlm_backup_${new Date(E.timestamp).toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(A),Q.success("  ")}catch(k){console.error("Download error:",k),Q.error(" ")}},b=async E=>{if(!confirm(`   

: ${new Date(E.timestamp).toLocaleString("ru")}
: ${E.usersCount}

:    !

?`))return;c(!0);const _=Q.loading("  ...");try{const A=localStorage.getItem(E.id);if(!A)throw new Error("  ");const D=JSON.parse(A).users;let q=0,K=0;for(const $ of D)try{const H=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${$.id}`;(await(await fetch(H,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:$})})).json()).success?q++:K++}catch(H){console.error(`Failed to restore user ${$.id}:`,H),K++}Q.success(` : ${q}`,{id:_,description:K>0?`: ${K}`:void 0}),setTimeout(()=>{window.location.reload()},1500)}catch(A){console.error("Restore error:",A),Q.error(" ",{id:_})}finally{c(!1)}},y=E=>{if(confirm(`   ${new Date(E.timestamp).toLocaleString("ru")}?`))try{localStorage.removeItem(E.id);const _=a.filter(A=>A.id!==E.id);localStorage.setItem("userBackups",JSON.stringify(_)),o(_),Q.success(" ")}catch(_){console.error("Delete error:",_),Q.error(" ")}},v=E=>{i(E),localStorage.setItem("autoBackupEnabled",E.toString()),E?(Q.success("   ",{description:"    24 "}),d||p(!0)):Q.info("  ")},N=E=>new Date(E).toLocaleString("ru",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),j=()=>{if(!d)return"";const E=Date.now(),k=new Date(d).getTime(),_=Math.floor((E-k)/(1e3*60*60));return _<1?"  ":_===1?"1  ":_<24?`${_} . `:`${Math.floor(_/24)} . `};return s.jsxs(Se,{children:[s.jsxs(He,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Tu,{className:"w-5 h-5 text-blue-500"})," "]}),s.jsx(cn,{children:"      "})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ln,{id:"auto-backup",checked:n,onCheckedChange:v,disabled:l}),s.jsx(Oe,{htmlFor:"auto-backup",className:"text-sm",children:""})]}),s.jsx(ie,{onClick:()=>p(!1),disabled:l||r,size:"sm",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tu,{className:"w-4 h-4 mr-2"})," "]})})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tl,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[" : ",s.jsx("strong",{children:j()})]})]}),n&&s.jsxs(Qe,{variant:"default",className:"bg-green-500",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),""]})]})]}),s.jsxs(Ee,{children:[a.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Tu,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:"  "}),s.jsx("p",{className:"text-sm",children:"      "})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["  (",a.length,"/10)"]}),s.jsx("span",{className:"text-xs text-gray-500",children:"   (localStorage)"})]}),a.map(E=>s.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:N(E.timestamp)}),E.auto&&s.jsx(Qe,{variant:"secondary",className:"text-xs",children:""})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[s.jsxs("span",{children:[" ",E.usersCount," "]}),s.jsxs("span",{children:[" ",E.fileSize," KB"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{onClick:()=>x(E),disabled:l,size:"sm",variant:"outline",children:s.jsx(as,{className:"w-4 h-4"})}),s.jsx(ie,{onClick:()=>b(E),disabled:l,size:"sm",variant:"outline",children:s.jsx(e9,{className:"w-4 h-4"})}),s.jsx(ie,{onClick:()=>y(E),disabled:l,size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",children:s.jsx(Un,{className:"w-4 h-4"})})]})]})},E.id))]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ks,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-medium mb-1",children:"  :"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[s.jsx("li",{children:"   24 "}),s.jsx("li",{children:"  10 "}),s.jsx("li",{children:"    (localStorage)"}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"    "})]})]})]})})]})]})}function D_e({currentUser:e,onSuccess:t}){const{users:r,isLoading:n}=xl(),i=Yd(),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[d,h]=w.useState([]),m=v=>v.isAdmin===!0||v.email?.toLowerCase()==="admin@admin.com"||v.id==="ceo"||v.id==="1",p=r.filter(v=>!m(v)),x=()=>{o(!0);try{const v=p.filter(_=>!_.Id&&_.id!=="001");if(console.log(`  ${v.length}   `),v.length===0){Q.success("    !"),h([]);return}const N=new Map;p.forEach(_=>{_.&&N.set(_.,_)});const j=v.map(_=>{let A=null,T="low",D="   ";if(_.){const $=N.get(_.);$?(A=$,T="high",D=`  : "${_.}" =  `):(D=`  "${_.}"     `,T="low")}else D="  ",T="low";const q=_.&&_..length>0,K=_.?.length||0;return{orphan:_,suggestedSponsor:A,confidence:T,reason:D,hasChildren:q,childrenCount:K}});j.sort((_,A)=>{if(_.hasChildren&&!A.hasChildren)return-1;if(!_.hasChildren&&A.hasChildren)return 1;const T={high:0,medium:1,low:2};return T[_.confidence]-T[A.confidence]}),h(j);const E=j.filter(_=>_.confidence==="high").length,k=j.filter(_=>_.hasChildren).length;Q.success("  ",{description:`: ${j.length} orphans, ${E}   , ${k}  `}),console.log("  :",j)}catch(v){console.error("Analyze error:",v),Q.error(" ")}finally{o(!1)}},b=async v=>{if(!v.suggestedSponsor){Q.error("  ");return}const{orphan:N,suggestedSponsor:j}=v;if(!confirm(`  

: ${N.} ${N.} (ID: ${N.id})
`+(v.hasChildren?` :   ${v.childrenCount} !
`:"")+`
: ${j.} ${j.} (ID: ${j.id})
: ${v.confidence==="high"?" ":v.confidence==="medium"?" ":" "}
: ${v.reason}

?`))return;c(!0);const k=Q.loading(`   ${N.} ${N.}...`);try{const _={...N,Id:j.id},A=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${N.id}`,D=await(await fetch(A,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:_})})).json();if(!D.success)throw new Error(D.error||"Failed to update orphan");const q={...j,:[...j.||[],N.id]},K=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${j.id}`,H=await(await fetch(K,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:q})})).json();if(!H.success)throw new Error(H.error||"Failed to update sponsor");Q.success("  !",{id:k,description:`${N.}  ${j.}`}),h(W=>W.filter(B=>B.orphan.id!==N.id)),i(),t&&t()}catch(_){console.error("Fix error:",_),Q.error("  ",{id:k})}finally{c(!1)}},y=async()=>{const v=d.filter(_=>_.confidence==="high"&&_.suggestedSponsor);if(v.length===0){Q.error("    ");return}const N=v.map(_=>`${_.orphan.} ${_.orphan.} (${_.orphan.id})`+(_.hasChildren?`  ${_.childrenCount} `:"")).join(`
`);if(!confirm(`  

  ${v.length}    :

${N}

?`))return;c(!0);let E=0,k=0;for(const _ of v)try{const{orphan:A,suggestedSponsor:T}=_,D={...A,Id:T.id},q=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${A.id}`;if(!(await(await fetch(q,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:D})})).json()).success)throw new Error("Orphan update failed");const H={...T,:[...T.||[],A.id]},W=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${T.id}`;if(!(await(await fetch(W,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json"},body:JSON.stringify({userData:H})})).json()).success)throw new Error("Sponsor update failed");E++}catch(A){console.error("Fix error:",A),k++}Q.success(` : ${E}`,{description:k>0?`: ${k}`:void 0}),i(),setTimeout(x,1e3),c(!1),t&&t()};return s.jsxs(Se,{children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(zS,{className:"w-5 h-5 text-yellow-500"}),"  "]}),s.jsx(cn,{children:"     "})]}),s.jsx(ie,{onClick:x,disabled:n||a,variant:"outline",size:"sm",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):" "})]})}),s.jsx(Ee,{children:d.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(to,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),s.jsx("p",{children:' " "     '})]}):s.jsxs("div",{className:"space-y-4",children:[d.filter(v=>v.confidence==="high"&&v.suggestedSponsor).length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-green-900",children:[" ",d.filter(v=>v.confidence==="high").length,"   "]}),s.jsx("p",{className:"text-sm text-green-700",children:"  "})]}),s.jsx(ie,{onClick:y,disabled:l,variant:"default",className:"bg-green-600 hover:bg-green-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"})," "]})})]}),d.map((v,N)=>s.jsx("div",{className:`p-4 border rounded-lg ${v.confidence==="high"?"border-green-300 bg-green-50":v.confidence==="medium"?"border-yellow-300 bg-yellow-50":"border-red-300 bg-red-50"}`,children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"font-medium",children:[v.orphan.," ",v.orphan.]}),s.jsxs(Qe,{variant:"secondary",className:"text-xs",children:["ID: ",v.orphan.id]}),v.hasChildren&&s.jsxs(Qe,{variant:"destructive",className:"text-xs",children:[" ",v.childrenCount," "]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Qe,{variant:v.confidence==="high"?"default":v.confidence==="medium"?"secondary":"destructive",children:v.confidence==="high"?" ":v.confidence==="medium"?" ":" "}),s.jsx("span",{children:v.reason})]}),v.suggestedSponsor&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[s.jsx(to,{className:"w-4 h-4 text-gray-400"}),s.jsx(mf,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"font-medium text-blue-600",children:[v.suggestedSponsor.," ",v.suggestedSponsor.]}),s.jsxs(Qe,{variant:"outline",className:"text-xs",children:["ID: ",v.suggestedSponsor.id]})]})]}),s.jsx(ie,{onClick:()=>b(v),disabled:!v.suggestedSponsor||l,size:"sm",variant:v.confidence==="high"?"default":"outline",children:l?s.jsx(Ut,{className:"w-4 h-4 animate-spin"}):""})]})},v.orphan.id))]})})]})}function F_e({currentUser:e,onSuccess:t}){const{users:r,isLoading:n,refetch:i}=xl(),a=Yd(),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[h,m]=w.useState([]),[p,x]=w.useState(new Set),[b,y]=w.useState(!1),v=async()=>{l(!0);const $=[];try{console.log(" Starting data analysis..."),console.log(` Total users loaded: ${r.length}`);const H=new Map(r.map(M=>[M.id,M])),W=new Set(r.map(M=>M.id));console.log(" Checking for orphan users...");for(const M of r)M.isAdmin||M.id==="ceo"||M.id==="1"||M.id==="001"||M.Id||$.push({type:"orphan",severity:"high",userId:M.id,userName:`${M.} ${M.}`,description:"  ",details:{registered:M.,hasTeam:M.?.length>0,teamSize:M.?.length||0}});console.log(" Checking for broken sponsor references...");for(const M of r)M.Id&&!W.has(M.Id)&&$.push({type:"broken_sponsor",severity:"critical",userId:M.id,userName:`${M.} ${M.}`,description:`   : ${M.Id}`,details:{brokenSponsorId:M.Id,similarIds:r.filter(z=>{const P=z.id,C=M.Id;return P.includes(C.replace(/^0+/,""))||C.includes(P.replace(/^0+/,""))}).map(z=>({id:z.id,name:`${z.} ${z.}`})).slice(0,5)}});console.log(" Checking team consistency...");for(const M of r)if(M.&&Array.isArray(M.))for(const z of M.){const P=H.get(z);P?P.Id!==M.id&&$.push({type:"broken_team",severity:"high",userId:P.id,userName:`${P.} ${P.}`,description:`   ${M.id},  sponsorId = ${P.Id||"NULL"}`,details:{parentId:M.id,parentName:`${M.} ${M.}`,currentSponsorId:P.Id||"NULL",shouldBeSponsorId:M.id}}):$.push({type:"missing_user",severity:"high",userId:M.id,userName:`${M.} ${M.}`,description:`     : ${z}`,details:{missingChildId:z,currentTeam:M.}})}console.log(" Checking sponsor-team consistency...");for(const M of r)if(M.Id&&W.has(M.Id)){const z=H.get(M.Id);z&&(!z.||!z..includes(M.id))&&$.push({type:"broken_team",severity:"medium",userId:M.id,userName:`${M.} ${M.}`,description:` sponsorId=${M.Id},     `,details:{sponsorId:M.Id,sponsorName:`${z.} ${z.}`,sponsorTeam:z.||[]}})}console.log(" Checking for duplicate IDs...");const B=new Map;for(const M of r)B.set(M.id,(B.get(M.id)||0)+1);for(const[M,z]of B)z>1&&$.push({type:"duplicate",severity:"critical",userId:M,userName:"",description:` ${z}   ID ${M}`,details:{count:z}});console.log(` Analysis complete. Found ${$.length} issues`),$.sort((M,z)=>{const P={critical:0,high:1,medium:2,low:3};return P[M.severity]-P[z.severity]}),m($),$.length===0?Q.success("   !    ."):Q.warning(`  ${$.length} `,{description:`: ${$.filter(M=>M.severity==="critical").length}`})}catch(H){console.error("Error analyzing data:",H),Q.error("  ")}finally{l(!1)}},N=async $=>{try{switch(d(!0),console.log(` Fixing issue for user ${$.userId}:`,$),$.type){case"broken_sponsor":if($.details.similarIds&&$.details.similarIds.length>0){const H=$.details.similarIds[0];confirm(`   

: ${$.userName} (${$.userId})
  : ${$.details.brokenSponsorId}

  :
${H.name} (${H.id})

  ?`)&&(await j($.userId,H.id),_($),Q.success(`: ${$.userId}  sponsorId=${H.id}`))}else confirm(`   

: ${$.userName} (${$.userId})
  : ${$.details.brokenSponsorId}

   .
 sponsorId ( orphan)?`)&&(await j($.userId,null),_($),Q.success(`:  sponsorId  ${$.userId}`));break;case"broken_team":$.details.shouldBeSponsorId?confirm(`  

: ${$.userName} (${$.userId})
  : ${$.details.parentName} (${$.details.parentId})
 sponsorId = ${$.details.currentSponsorId}

 sponsorId = ${$.details.shouldBeSponsorId}?`)&&(await j($.userId,$.details.shouldBeSponsorId),_($),Q.success(": sponsorId ")):$.details.sponsorId&&confirm(`  

: ${$.userName} (${$.userId})
 sponsorId=${$.details.sponsorId}
    

  ?`)&&(await E($.userId,$.details.sponsorId),_($),Q.success(":   "));break;case"missing_user":confirm(`   

: ${$.userName} (${$.userId})
    : ${$.details.missingChildId}

    ?`)&&(await k($.userId,$.details.missingChildId),_($),Q.success(":   "));break;case"orphan":Q.info(' "  "   ');break;default:Q.warning("     ")}}catch(H){console.error("Error fixing issue:",H),Q.error(" ")}finally{d(!1)}},j=async($,H)=>{const W=r.find(P=>P.id===$);if(!W)throw new Error("User not found");const B={...W,Id:H},z=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${$}`,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json","X-User-Id":e?.id||""},body:JSON.stringify({userData:B})})).json();if(!z.success)throw new Error(z.error||"Failed to update");a()},E=async($,H)=>{const W=r.find(P=>P.id===H);if(!W)throw new Error("Sponsor not found");const B={...W,:[...W.||[],$]},z=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${H}`,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json","X-User-Id":e?.id||""},body:JSON.stringify({userData:B})})).json();if(!z.success)throw new Error(z.error||"Failed to update");a()},k=async($,H)=>{const W=r.find(P=>P.id===$);if(!W)throw new Error("User not found");const B={...W,:(W.||[]).filter(P=>P!==H)},z=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${$}`,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json","X-User-Id":e?.id||""},body:JSON.stringify({userData:B})})).json();if(!z.success)throw new Error(z.error||"Failed to update");a()},_=$=>{x(H=>new Set([...H,`${$.type}-${$.userId}`]))},A=$=>p.has(`${$.type}-${$.userId}`),T=async()=>{const $=h.filter(B=>B.type==="missing_user"||B.type==="broken_team"&&B.details.shouldBeSponsorId);if($.length===0){Q.info("    ");return}if(!confirm(`  

   ${$.length} :
-   
-  sponsorId  

?`))return;d(!0);let H=0,W=0;try{for(const B of $)try{B.type==="missing_user"?await k(B.userId,B.details.missingChildId):B.type==="broken_team"&&B.details.shouldBeSponsorId&&await j(B.userId,B.details.shouldBeSponsorId),_(B),H++}catch(M){console.error(`Failed to fix issue for ${B.userId}:`,M),W++}H>0&&(Q.success(` : ${H} `,{description:W>0?`: ${W}`:void 0}),await i(),await v())}finally{d(!1)}},D=w.useMemo(()=>{const $={critical:h.filter(W=>W.severity==="critical").length,high:h.filter(W=>W.severity==="high").length,medium:h.filter(W=>W.severity==="medium").length,low:h.filter(W=>W.severity==="low").length},H={orphan:h.filter(W=>W.type==="orphan").length,broken_sponsor:h.filter(W=>W.type==="broken_sponsor").length,broken_team:h.filter(W=>W.type==="broken_team").length,missing_user:h.filter(W=>W.type==="missing_user").length,duplicate:h.filter(W=>W.type==="duplicate").length};return{bySeverity:$,byType:H}},[h]),q=$=>{switch($){case"critical":return s.jsx(Qe,{className:"bg-red-600 text-white",children:""});case"high":return s.jsx(Qe,{className:"bg-orange-500 text-white",children:""});case"medium":return s.jsx(Qe,{className:"bg-yellow-500 text-white",children:""});case"low":return s.jsx(Qe,{className:"bg-blue-500 text-white",children:""});default:return s.jsx(Qe,{children:""})}},K=$=>{switch($){case"orphan":return s.jsx(Ot,{className:"w-4 h-4"});case"broken_sponsor":return s.jsx(Wa,{className:"w-4 h-4"});case"broken_team":return s.jsx(N_,{className:"w-4 h-4"});case"missing_user":return s.jsx(rs,{className:"w-4 h-4"});case"duplicate":return s.jsx(Tu,{className:"w-4 h-4"});default:return s.jsx(Jg,{className:"w-4 h-4"})}};return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-3 text-[#1E1E1E]",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(tx,{className:"w-5 h-5 text-white"})}),s.jsx("span",{children:" "}),h.length>0&&s.jsxs(Qe,{className:"bg-red-100 text-red-700",children:[h.length," "]})]})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Jg,{className:"w-5 h-5 text-blue-600 mt-0.5 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:"    :"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"    "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ie,{onClick:v,disabled:o||n,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Hu,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qs,{className:"w-4 h-4 mr-2"})," "]})}),h.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(ie,{onClick:T,disabled:c,variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-50",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Hu,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mu,{className:"w-4 h-4 mr-2"}),""]})}),s.jsx(ie,{onClick:()=>y(!b),variant:"outline",size:"sm",children:b?" ":" "})]})]}),h.length>0&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-red-700",children:D.bySeverity.critical}),s.jsx("div",{className:"text-xs text-red-600",children:""})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-700",children:D.bySeverity.high}),s.jsx("div",{className:"text-xs text-orange-600",children:""})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:D.bySeverity.medium}),s.jsx("div",{className:"text-xs text-yellow-600",children:""})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:D.bySeverity.low}),s.jsx("div",{className:"text-xs text-blue-600",children:""})]})]}),h.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-[#1E1E1E]",children:" :"}),h.map(($,H)=>s.jsx("div",{className:`border rounded-lg p-4 transition-all ${A($)?"border-green-300 bg-green-50 opacity-60":$.severity==="critical"?"border-red-300 bg-red-50":$.severity==="high"?"border-orange-300 bg-orange-50":"border-yellow-300 bg-yellow-50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 ${A($)?"text-green-600":$.severity==="critical"?"text-red-600":$.severity==="high"?"text-orange-600":"text-yellow-600"}`,children:A($)?s.jsx(Yr,{className:"w-5 h-5"}):K($.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("span",{className:"font-semibold text-gray-900",children:[$.userName," (",$.userId,")"]}),q($.severity),A($)&&s.jsx(Qe,{className:"bg-green-100 text-green-700",children:""})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:$.description}),b&&$.details&&s.jsx("div",{className:"bg-white border border-gray-200 rounded p-2 text-xs text-gray-600 font-mono mb-2",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify($.details,null,2)})}),!A($)&&s.jsx(ie,{size:"sm",onClick:()=>N($),disabled:c,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white hover:opacity-90",children:c?"...":""})]})]})},`${$.type}-${$.userId}-${H}`))]}),!o&&h.length===0&&!n&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[s.jsx(Yr,{className:"w-16 h-16 text-green-600 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-green-900 font-medium mb-2",children:"  !"}),s.jsx("p",{className:"text-sm text-green-700",children:"  .   ."})]}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-gray-700",children:[" ",s.jsx("strong",{children:":"}),"       ( ID,  ,   )    ."]})})]})]})}function $_e({currentUser:e,onSuccess:t}){const{users:r}=xl(),[n,i]=w.useState(["ids"]),a=r.filter(p=>!p.isAdmin&&p.id!=="ceo"&&p.id!=="1"),o=r.filter(p=>!p.Id&&!p.isAdmin&&p.id!=="ceo"&&p.id!=="1"&&p.id!=="001").length,l=localStorage.getItem("lastBackupTime");function c(){if(r.length===0||a.length===0)return 100;let p=0;p+=o;const x=new Map(r.map(y=>[y.id,y]));for(const y of r)if(y.Id&&!x.has(y.Id)&&p++,y.&&Array.isArray(y.))for(const v of y.){const N=x.get(v);N?N.Id!==y.id&&p++:p++}return Math.max(0,Math.round((1-p/(a.length*2))*100))}const d={total:r.length,orphans:o,lastBackup:l,integrity:c()},h=p=>{if(!p)return"";const x=Date.now(),b=new Date(p).getTime(),y=Math.floor((x-b)/(1e3*60*60));return y<1?" ":y<24?`${y} .`:`${Math.floor(y/24)} .`},m=p=>{i(x=>x.includes(p)?x:[...x,p]),setTimeout(()=>{const x=document.getElementById(`accordion-${p}`);x&&x.scrollIntoView({behavior:"smooth",block:"start"})},100)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(ie,{size:"sm",variant:d.orphans>0?"destructive":"outline",onClick:()=>m("recovery"),disabled:d.orphans===0,className:d.orphans===0?"opacity-60":"",children:[s.jsx(to,{className:"w-4 h-4 mr-2"})," orphans",s.jsx("span",{className:"mx-1.5",children:""}),s.jsx("span",{className:"font-bold",children:d.orphans})]}),s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>m("backup"),className:"border-purple-300 hover:bg-purple-50",children:[s.jsx(Tu,{className:"w-4 h-4 mr-2 text-purple-600"}),"",s.jsx("span",{className:"mx-1.5",children:""}),s.jsx("span",{className:"font-medium",children:h(d.lastBackup)})]}),s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>m("ids"),className:`
            ${d.integrity>=95?"border-green-300 hover:bg-green-50":""}
            ${d.integrity>=80&&d.integrity<95?"border-yellow-300 hover:bg-yellow-50":""}
            ${d.integrity<80?"border-red-300 hover:bg-red-50":""}
          `,children:[s.jsx(Zg,{className:`w-4 h-4 mr-2 ${d.integrity>=95?"text-green-600":d.integrity>=80?"text-yellow-600":"text-red-600"}`})," ID",s.jsx("span",{className:"mx-1.5",children:""}),s.jsxs("span",{className:`font-bold ${d.integrity>=95?"text-green-600":d.integrity>=80?"text-yellow-600":"text-red-600"}`,children:[d.integrity,"%"]})]})]}),s.jsxs(k_e,{type:"multiple",value:n,onValueChange:i,className:"space-y-4",children:[s.jsxs(uS,{value:"ids",className:"border rounded-lg px-4 bg-white",id:"accordion-ids",children:[s.jsx(dS,{className:"hover:no-underline py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-9 h-9 bg-[#39B7FF] rounded-lg flex items-center justify-center",children:s.jsx(Zg,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-[#39B7FF]",children:"  ID  "}),s.jsx("p",{className:"text-xs text-gray-500",children:",  ID   "})]})]})}),s.jsxs(hS,{className:"pb-4 space-y-6",children:[s.jsx(pq,{currentUser:e,onDataChange:()=>{t&&t()}}),s.jsx(gq,{currentUser:e})]})]}),s.jsxs(uS,{value:"backup",className:"border rounded-lg px-4 bg-white",id:"accordion-backup",children:[s.jsx(dS,{className:"hover:no-underline py-2.5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Tu,{className:"w-4 h-4 text-purple-600"})}),s.jsx("div",{className:"text-left",children:s.jsx("h3",{className:"text-sm font-medium",children:" "})})]})}),s.jsx(hS,{className:"pb-4",children:s.jsx(I_e,{currentUser:e})})]}),s.jsxs(uS,{value:"recovery",className:"border rounded-lg px-4 bg-white",id:"accordion-recovery",children:[s.jsx(dS,{className:"hover:no-underline py-2.5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(zS,{className:"w-4 h-4 text-green-600"})}),s.jsx("div",{className:"text-left flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:" "}),d.orphans>0&&s.jsx(Qe,{variant:"destructive",className:"text-xs h-5",children:d.orphans})]})})]})}),s.jsxs(hS,{className:"pb-4 space-y-6",children:[s.jsx(D_e,{currentUser:e,onSuccess:()=>{t&&t()}}),s.jsx(F_e,{currentUser:e,onSuccess:()=>{t&&t()}})]})]})]}),s.jsxs("div",{className:"flex items-start gap-2 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(zS,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("span",{className:"font-medium",children:":"}),"     orphans       "]})]})]})}function L_e({rankFrom:e,rankTo:t,rankExactMatch:r,balanceFrom:n,balanceTo:i,totalResults:a,onRankFromChange:o,onRankToChange:l,onRankExactMatchChange:c,onBalanceFromChange:d,onBalanceToChange:h,onResetFilters:m}){const p=e!==0||t!==150||r||n!==""||i!=="";return s.jsx(Se,{className:"mb-2.5",children:s.jsx(Ee,{className:"!px-2.5 !pt-2.5 !pb-2.5",children:s.jsxs("div",{className:"flex items-center gap-2.5 flex-wrap",children:[s.jsx(kd,{className:"w-5 h-5 text-[#666] shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2.5 bg-gradient-to-r from-orange-50 to-orange-100/50 px-2.5 py-2.5 rounded-lg border border-orange-200",children:[s.jsx(Pn,{className:"w-4 h-4 text-orange-600 shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F0,{id:"rankExact",checked:r,onCheckedChange:x=>c(x)}),s.jsx("label",{htmlFor:"rankExact",className:"text-sm text-orange-900 cursor-pointer whitespace-nowrap select-none",children:""})]}),r?s.jsx("select",{value:e,onChange:x=>{const b=Number(x.target.value);o(b),l(b)},className:"h-9 px-3 border border-orange-300 rounded-lg text-sm bg-white hover:border-orange-400 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400 min-w-[100px]",children:Array.from({length:151},(x,b)=>b).map(x=>s.jsxs("option",{value:x,children:[" ",x]},x))}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-orange-700 whitespace-nowrap",children:":"}),s.jsx("select",{value:e,onChange:x=>o(Number(x.target.value)),className:"h-9 px-3 border border-orange-300 rounded-lg text-sm bg-white hover:border-orange-400 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400 min-w-[100px]",children:Array.from({length:151},(x,b)=>b).map(x=>s.jsx("option",{value:x,children:x},x))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-orange-700 whitespace-nowrap",children:":"}),s.jsx("select",{value:t,onChange:x=>l(Number(x.target.value)),className:"h-9 px-3 border border-orange-300 rounded-lg text-sm bg-white hover:border-orange-400 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-400 min-w-[100px]",children:Array.from({length:151},(x,b)=>b).map(x=>s.jsx("option",{value:x,children:x},x))})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2.5 bg-gradient-to-r from-blue-50 to-blue-100/50 px-2.5 py-2.5 rounded-lg border border-blue-200",children:[s.jsx(On,{className:"w-4 h-4 text-blue-600 shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-blue-700 whitespace-nowrap",children:":"}),s.jsx(Ie,{type:"number",value:n,onChange:x=>d(x.target.value),placeholder:"0",className:"h-9 w-24 border-blue-300 focus:ring-blue-400"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-blue-700 whitespace-nowrap",children:":"}),s.jsx(Ie,{type:"number",value:i,onChange:x=>h(x.target.value),placeholder:"",className:"h-9 w-24 border-blue-300 focus:ring-blue-400"})]})]})]}),p&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:m,className:"h-9 text-red-600 hover:text-red-700 hover:bg-red-50",children:" "}),s.jsxs("div",{className:"ml-auto h-9 flex items-center text-sm text-[#666] bg-gradient-to-r from-gray-50 to-gray-100 px-2.5 rounded-lg border border-[#E6E9EE]",children:[": ",s.jsx("span",{className:"ml-2.5 font-semibold text-[#1E1E1E]",children:a})]})]})})})}function $q({user:e,allUsers:t,depth:r,userRanks:n,calculateTotalTeam:i,onUserClick:a,isExpanded:o,onToggle:l,hasChildren:c,childrenCount:d,onExpandTree:h,onCollapseTree:m,isFirstSibling:p=!1,isLastSibling:x=!1,isOnlySibling:b=!1}){const[y,v]=w.useState(r<2),N=l!==void 0,j=N?o??!1:y,E=t.filter(W=>W.Id===e.id),k=N?c??!1:E.length>0,_=N?d??0:E.length,A=n.get(e.id)??e.??0,T=i(e.id),q=(()=>{if(E.length===0)return 0;let W=0;return E.forEach(B=>{const M=n.get(B.id)??B.??0;M>W&&(W=M)}),1+W})(),K=A!==q,$=W=>W>=100?"from-purple-300 to-purple-400":W>=50?"from-rose-300 to-pink-400":W>=20?"from-blue-300 to-sky-400":W>=10?"from-cyan-300 to-teal-400":W>=5?"from-emerald-300 to-green-400":W>=2?"from-amber-300 to-orange-400":W>=1?"from-sky-300 to-blue-400":"from-slate-300 to-gray-400",H=W=>W>=50?"border-purple-100":W>=20?"border-rose-100":W>=10?"border-blue-100":W>=5?"border-cyan-100":W>=1?"border-emerald-100":"border-slate-100";return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`transition-all duration-200 ${r>0?"ml-6":""}`,style:{marginLeft:r>0?`${r*24}px`:"0"},children:s.jsx("div",{className:`
            group relative bg-white rounded-xl transition-all duration-300
            border ${K?"border-red-200 bg-red-50/20":H(A)}
            ${K?"ring-1 ring-red-100":""}
            hover:shadow-lg hover:shadow-blue-100/50 hover:border-blue-200 hover:-translate-y-0.5
            ${k?"cursor-pointer hover:bg-blue-50/30 active:scale-[0.99]":"cursor-default"}
          `,onClick:W=>{k&&(W.target.closest("button")||(N&&l?l():v(!y)))},title:k?j?"  ":"  ":void 0,children:s.jsxs("div",{className:"p-2 flex items-center gap-3",children:[k?s.jsxs(ie,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-blue-50 shrink-0 relative transition-all group-hover:ring-2 group-hover:ring-blue-200/50",onClick:W=>{W.stopPropagation(),N&&l?l():v(!y)},children:[j?s.jsx(ns,{className:"w-4 h-4 text-blue-400 group-hover:text-blue-500 transition-colors"}):s.jsx(dc,{className:"w-4 h-4 text-slate-400 group-hover:text-blue-400 transition-colors"}),s.jsx("div",{className:"absolute -top-0.5 -right-0.5 bg-gradient-to-br from-blue-400 to-blue-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[9px] font-bold shadow-sm",children:_})]}):s.jsx("div",{className:"w-7 shrink-0"}),s.jsx("div",{className:"relative shrink-0",children:s.jsxs("div",{className:`
                w-11 h-11 rounded-2xl flex items-center justify-center text-white shadow-md shadow-blue-100/50 transition-transform group-hover:scale-105 overflow-hidden relative
                ${e.isAdmin?"bg-gradient-to-br from-purple-300 to-purple-400":`bg-gradient-to-br ${$(A)}`}
              `,children:[e.?s.jsx("img",{src:e.,alt:e.,className:"w-full h-full object-cover absolute inset-0",onError:W=>{W.currentTarget.style.display="none"}}):null,s.jsx("span",{className:e.?"hidden":"",children:e.isAdmin?s.jsx(kn,{className:"w-5 h-5"}):s.jsx(Ot,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[s.jsxs("p",{className:"text-slate-700 truncate font-semibold text-sm",children:[e.," ",e.]}),!e.isAdmin&&s.jsxs(Qe,{className:"bg-gradient-to-r from-orange-400 to-orange-600 text-white px-1.5 py-0 text-xs flex items-center gap-1",children:[s.jsx(Pn,{className:"w-2.5 h-2.5"})," ",A]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400",children:[s.jsxs("span",{className:"bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100",children:["ID: ",e.id]}),e.email&&s.jsxs("span",{className:"truncate",children:[" ",e.email.split("@")[0]]}),e.&&s.jsxs("span",{className:"flex items-center gap-0.5",children:[" ",new Date(e.).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"})]})]}),K&&s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"bg-red-50 text-red-500 px-1.5 py-0.5 rounded text-[9px] font-semibold border border-red-100 animate-pulse inline-flex items-center gap-1",children:[" ",A,"  ",q]})})]}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-blue-50/50 border border-blue-100 rounded-lg px-2 py-1 transition-all hover:bg-blue-50",children:[s.jsx(Ot,{className:"w-3 h-3 text-blue-400"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-blue-500 text-[9px] font-medium leading-none",children:""}),s.jsxs("span",{className:"text-blue-600 text-xs font-semibold leading-none mt-0.5",children:[_,"/",T]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 bg-emerald-50/50 border border-emerald-100 rounded-lg px-2 py-1 transition-all hover:bg-emerald-50",children:[s.jsx(On,{className:"w-3 h-3 text-emerald-400"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-emerald-500 text-[9px] font-medium leading-none",children:""}),s.jsxs("span",{className:"text-emerald-600 text-xs font-semibold leading-none mt-0.5",children:["",(e.||0).toLocaleString()]})]})]}),k&&h&&m&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-lg hover:bg-blue-50 border border-blue-100 transition-all hover:border-blue-300 hover:shadow-sm group/expand",onClick:W=>{W.stopPropagation(),h()},title:"  ",children:s.jsx(G$,{className:"w-3.5 h-3.5 text-blue-400 group-hover/expand:text-blue-600 transition-colors"})}),s.jsx(ie,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-lg hover:bg-slate-50 border border-slate-200 transition-all hover:border-slate-300 hover:shadow-sm group/collapse",onClick:W=>{W.stopPropagation(),m()},title:"  ",children:s.jsx(Y$,{className:"w-3.5 h-3.5 text-slate-400 group-hover/collapse:text-slate-600 transition-colors"})})]}),s.jsxs(ie,{variant:"default",size:"sm",className:"h-8 px-3 bg-gradient-to-r from-blue-400 to-cyan-400 hover:from-blue-500 hover:to-cyan-500 hover:shadow-lg hover:shadow-blue-200/50 transition-all text-xs text-white",onClick:W=>a(e,W),children:[s.jsx(qu,{className:"w-3 h-3 mr-1"}),""]})]})]})})}),!N&&k&&j&&s.jsx("div",{className:"relative animate-in fade-in slide-in-from-top-2 duration-300",children:E.map((W,B)=>s.jsx("div",{className:"relative",style:{animationDelay:`${B*50}ms`},children:s.jsx($q,{user:W,allUsers:t,depth:r+1,userRanks:n,calculateTotalTeam:i,onUserClick:a})},W.id))})]})}function B_e(e,t,r,n,i){const a=[],o=new Map(e.map(h=>[h.id,h]));n?.toLowerCase().trim();const l=h=>{if(!i)return!0;const m=r.get(h)??0;return m>=i.min&&m<=i.max},c=(h,m,p,x,b=0,y=1)=>{const v=o.get(h);if(!v||v.isAdmin)return;const N=v.||[],j=N.length>0,E=t.has(h),k=l(h),_=y===1,A=b===0,T=b===y-1;if(k&&a.push({id:h,user:v,depth:m,hasChildren:j,childrenCount:N.length,isExpanded:E,parentId:p,path:[...x,h],isFirstSibling:A,isLastSibling:T,isOnlySibling:_,totalSiblings:y,siblingIndex:b}),E&&N.length>0){const D=N.length;N.forEach((q,K)=>{c(q,m+1,h,[...x,h],K,D)})}},d=e.filter(h=>!h.Id&&!h.isAdmin);return d.forEach((h,m)=>{c(h.id,0,null,[],m,d.length)}),a}function z_e(e,t){const r=[],n=new Map(t.map(a=>[a.id,a]));let i=e;for(;i;)r.unshift(i),i=n.get(i)?.Id||null;return r}function W_e(e,t,r){const n=z_e(e,t),i=new Set(r);return n.slice(0,-1).forEach(a=>{i.add(a)}),i}function U_e({allUsers:e,userRanks:t,calculateTotalTeam:r,onUserClick:n,onRecalculateRanks:i,isRecalculating:a=!1}){const o=w.useRef(null),l=R=>R>=50?"#E9D5FF":R>=20?"#FBCFE8":R>=10?"#B8E0FF":R>=5?"#A7F3D0":R>=1?"#FED7AA":"#E2E8F0",[c,d]=w.useState(()=>{const R=new Set;return e.filter(V=>!V.Id&&!V.isAdmin).slice(0,10).forEach(V=>{R.add(V.id),V.&&V..slice(0,5).forEach(re=>{R.add(re)})}),R}),[h,m]=w.useState(""),[p,x]=w.useState("all"),[b,y]=w.useState(null),[v,N]=w.useState(0),[j,E]=w.useState(0),[k,_]=w.useState(0),[A,T]=w.useState([]),D=w.useMemo(()=>{switch(p){case"high":return{min:20,max:999};case"medium":return{min:5,max:19};case"low":return{min:1,max:4};default:return}},[p]),q=w.useMemo(()=>{const R=performance.now(),I=B_e(e,c,t,h,D),V=performance.now();return N(V-R),I},[e,c,t,h,D]),K=w.useMemo(()=>{const R=e.filter(ce=>!ce.isAdmin).length,I=q.length,V=c.size,re=Math.max(...Array.from(t.values()),0);return{total:R,visible:I,expanded:V,maxRank:re}},[e,q,c,t]),$=Ou({count:q.length,getScrollElement:()=>o.current,estimateSize:()=>90,overscan:10,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?R=>R?.getBoundingClientRect().height:void 0}),H=R=>{if(m(R),R.trim()){const I=R.toLowerCase(),V=e.filter(re=>{if(re.isAdmin)return!1;const ce=`${re.||""} ${re.||""}`.toLowerCase(),me=(re.email||"").toLowerCase(),ae=(re.id||"").toLowerCase(),ue=(re.||"").toLowerCase();return ce.includes(I)||me.includes(I)||ae.includes(I)||ue.includes(I)});T(V),E(V.length),_(0),V.length>0?W(V[0]):y(null)}else y(null),E(0),T([]),_(0)},W=R=>{y(R.id);const I=W_e(R.id,e,c);d(I),setTimeout(()=>{const V=q.findIndex(re=>re.id===R.id);V>=0&&$.scrollToIndex(V,{align:"center"})},150)},B=R=>{d(I=>{const V=new Set(I);return V.has(R)?V.delete(R):V.add(R),V})},M=()=>{const R=e.filter(I=>!I.Id&&!I.isAdmin);d(new Set(R.map(I=>I.id)))},z=()=>{d(new Set)},P=R=>{const I=[];return e.filter(re=>re.Id===R).forEach(re=>{I.push(re.id),I.push(...P(re.id))}),I},C=R=>{d(I=>{const V=new Set(I);return V.add(R),P(R).forEach(ce=>V.add(ce)),V})},L=R=>{d(I=>{const V=new Set(I);return P(R).forEach(ce=>V.delete(ce)),V.delete(R),V})},U=()=>{m(""),x("all"),y(null),E(0),T([]),_(0)};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx(Se,{className:"mb-3 border-slate-100 shadow-sm",children:s.jsxs(Ee,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#999]"}),s.jsx(Ie,{placeholder:"  , email, ID, ...",value:h,onChange:R=>H(R.target.value),className:"pl-10 pr-8"}),h&&s.jsxs(s.Fragment,{children:[j>0&&s.jsx("div",{className:"absolute right-10 top-1/2 transform -translate-y-1/2",children:s.jsxs(Qe,{variant:"secondary",className:"text-xs bg-emerald-50 text-emerald-600 border border-emerald-100",children:[": ",j]})}),s.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:()=>H(""),children:s.jsx(Mr,{className:"w-4 h-4"})})]})]}),j>1&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ie,{variant:"outline",size:"sm",className:"h-9 w-9 p-0",onClick:()=>{const R=k>0?k-1:A.length-1;_(R),W(A[R])},disabled:A.length===0,children:s.jsx(w_,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-xs text-slate-500 px-2 min-w-[60px] text-center font-medium",children:[k+1," / ",j]}),s.jsx(ie,{variant:"outline",size:"sm",className:"h-9 w-9 p-0",onClick:()=>{const R=k<A.length-1?k+1:0;_(R),W(A[R])},disabled:A.length===0,children:s.jsx(dc,{className:"w-4 h-4"})})]}),s.jsxs(qn,{value:p,onValueChange:R=>x(R),children:[s.jsxs(Kn,{className:"w-[160px]",children:[s.jsx(kd,{className:"w-4 h-4 mr-2"}),s.jsx(Hn,{})]}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"all",children:" "}),s.jsx(gt,{value:"high",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-purple-300 to-purple-400"})," (20+)"]})}),s.jsx(gt,{value:"medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-emerald-300 to-green-400"})," (5-19)"]})}),s.jsx(gt,{value:"low",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-amber-300 to-orange-400"})," (1-4)"]})})]})]}),(h||p!=="all")&&s.jsxs(ie,{variant:"outline",size:"sm",onClick:U,className:"shrink-0",children:[s.jsx(Mr,{className:"w-4 h-4 mr-1"}),""]})]}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ot,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-xs text-slate-400",children:[": ",s.jsx("span",{className:"font-semibold text-slate-600",children:K.visible}),"  ",K.total]})]}),s.jsx("div",{className:"w-px h-4 bg-slate-100"}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(cQ,{className:"w-4 h-4 text-cyan-400"}),s.jsxs("span",{className:"text-xs text-slate-400",children:[": ",s.jsx("span",{className:"font-semibold text-slate-600",children:K.expanded})]})]}),s.jsx("div",{className:"w-px h-4 bg-slate-100"}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx($t,{className:"w-4 h-4 text-orange-300"}),s.jsxs("span",{className:"text-xs text-slate-400",children:[". : ",s.jsx("span",{className:"font-semibold text-slate-600",children:K.maxRank})]})]}),v>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-px h-4 bg-slate-100"}),s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs("span",{className:`text-xs font-medium ${v<100?"text-emerald-400":v<500?"text-amber-400":"text-rose-400"}`,children:[" ",v.toFixed(0),"ms"]})})]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-slate-50/60 rounded-lg px-3 py-1.5 border border-slate-100/80",children:[s.jsx("span",{className:"text-slate-500 text-[10px] font-semibold whitespace-nowrap",children:":"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-slate-300 to-gray-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"0"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-sky-300 to-blue-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"1"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-amber-300 to-orange-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"2-4"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-emerald-300 to-green-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"5-9"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-cyan-300 to-teal-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"10-19"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-blue-300 to-sky-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"20-49"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-rose-300 to-pink-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"50-99"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gradient-to-r from-purple-300 to-purple-400"}),s.jsx("span",{className:"text-[9px] text-slate-400 font-medium",children:"100+"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:M,className:"text-xs",children:" "}),s.jsx(ie,{variant:"outline",size:"sm",onClick:z,className:"text-xs",children:" "}),i&&s.jsxs(ie,{variant:"default",size:"sm",onClick:i,className:"bg-gradient-to-r from-emerald-400 to-green-500 hover:from-emerald-500 hover:to-green-600 text-white shadow-sm text-xs",disabled:a||e.length===0,children:[s.jsx(Pn,{className:"w-3.5 h-3.5 mr-1"}),"  "]})]})]})]})}),s.jsx("div",{ref:o,className:"flex-1 overflow-auto bg-gradient-to-b from-white via-blue-50/20 to-slate-50/30 rounded-xl border border-slate-100 scroll-smooth",style:{height:"800px"},children:q.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-300",children:[s.jsx(Ot,{className:"w-16 h-16 mb-4 text-slate-200"}),s.jsx("p",{className:"text-slate-500 mb-2",style:{fontSize:"16px",fontWeight:"600"},children:p!=="all"?"  ":" "}),s.jsx("p",{className:"text-slate-400 mb-4",style:{fontSize:"14px"},children:p!=="all"?"   ":"    "}),p!=="all"&&s.jsxs(ie,{variant:"outline",size:"sm",onClick:U,children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"})," "]})]}):s.jsxs("div",{style:{height:`${$.getTotalSize()}px`,width:"100%",position:"relative"},children:[(()=>{const R=$.getVirtualItems(),I=[],V=new Set;return R.forEach(re=>{const ce=q[re.index];if(ce.depth===0||ce.isOnlySibling)return;const me=`${ce.parentId}_${ce.depth}`;if(!V.has(me)&&ce.isFirstSibling){V.add(me);const ae=R.find(ue=>{const pe=q[ue.index];return pe.parentId===ce.parentId&&pe.depth===ce.depth&&pe.isLastSibling});if(ae){q[ae.index];const ue=t.get(ce.user.id)??ce.user.??0,pe=16+ce.depth*24;I.push(s.jsx("div",{className:"absolute pointer-events-none",style:{left:`${pe}px`,top:`${re.start+49}px`,height:`${ae.start-re.start}px`,width:"2px",borderLeft:`2px dashed ${l(ue)}`,opacity:.5}},me))}}}),I})(),$.getVirtualItems().map(R=>{const I=q[R.index],V=b===I.id;return s.jsxs("div",{"data-index":R.index,ref:$.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${R.start}px)`},className:"transition-all duration-300",children:[I.depth>0&&s.jsx("div",{className:"absolute pointer-events-none",style:{left:`${16+I.depth*24}px`,top:"calc(50% + 4px)",width:"24px",height:"2px",borderTop:`2px dashed ${l(t.get(I.user.id)??I.user.??0)}`,opacity:.5}}),s.jsx("div",{className:`px-4 py-1 ${V?"bg-amber-50/50 ring-2 ring-amber-200 rounded-xl":""}`,children:s.jsx($q,{user:I.user,allUsers:e,depth:I.depth,userRanks:t,calculateTotalTeam:r,onUserClick:n,isExpanded:I.isExpanded,onToggle:()=>B(I.id),hasChildren:I.hasChildren,childrenCount:I.childrenCount,onExpandTree:()=>C(I.id),onCollapseTree:()=>L(I.id),isFirstSibling:I.isFirstSibling,isLastSibling:I.isLastSibling,isOnlySibling:I.isOnlySibling})})]},R.key)})]})}),q.length>0&&s.jsx("div",{className:"mt-2 text-center",children:h?s.jsx("p",{className:"text-xs text-slate-400",children:"     .    /"}):s.jsx("p",{className:"text-xs text-slate-400",children:"        "})})]})}function V_e({currentUser:e,onRefresh:t}){const[r,n]=w.useState(1),[i,a]=w.useState(""),[o,l]=w.useState(""),[c,d]=w.useState("created"),[h,m]=w.useState("desc"),[p,x]=w.useState(20),[b,y]=w.useState(""),[v,N]=w.useState(""),[j,E]=w.useState(0),[k,_]=w.useState(150),[A,T]=w.useState(!1),[D,q]=w.useState("all"),[K,$]=w.useState("list"),[H,W]=w.useState(new Set),B=le=>{W(Ze=>{const Ve=new Set(Ze);return Ve.has(le)?Ve.delete(le):Ve.add(le),Ve})},M=()=>{const le=new Set(Xe.map(Ze=>Ze.id));W(le),Q.success(` ${le.size} `)},z=()=>{W(new Set),Q.success("  ")},[P,C]=w.useState({totalUsers:0,newToday:0,newThisMonth:0,activePartners:0,passivePartners:0,activeUsers:0,passiveUsers:0,totalBalance:0}),[L,U]=w.useState("all"),[R,I]=w.useState(!1),[V,re]=w.useState(null),[ce,me]=w.useState(new Set),[ae,ue]=w.useState(new Map),[pe,ee]=w.useState(null),[xe,X]=w.useState(!1),[fe,de]=w.useState({:"",:"",email:"",:"",:0,:0,telegram:"",whatsapp:"",facebook:"",instagram:"",vk:"",:""}),[te,he]=w.useState({:0,:0}),[we,ze]=w.useState(null),[se,ne]=w.useState(!1),[ve,J]=w.useState(!1),[je,Ae]=w.useState(!1),[Te,Be]=w.useState(!1),[De,et]=w.useState({:"course",:"",:""}),[vt,Ue]=w.useState(!1),[pt,Ht]=w.useState(null),ur=w.useRef(null),Wr=Lm();w.useEffect(()=>{const le=setTimeout(()=>{l(i),n(1)},300);return()=>clearTimeout(le)},[i]);const{data:Jr,isLoading:ir,isFetching:fo,error:Rs,refetch:Tn}=Nc({queryKey:["users-optimized",r,p,o,c,h,b,v,j,k,D,L],queryFn:async()=>{const le=e?.id||localStorage.getItem("userId")||"",Ze=new URLSearchParams({page:r.toString(),limit:p.toString(),sortBy:c,sortOrder:h});o&&Ze.append("search",o),b&&Ze.append("balanceFrom",b),v&&Ze.append("balanceTo",v),j&&Ze.append("rankFrom",j.toString()),k&&Ze.append("rankTo",k.toString()),D&&D!=="all"&&Ze.append("activityFilter",D),L&&L!=="all"&&Ze.append("statsFilter",L);const Ve=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/users/optimized?${Ze}`,{headers:{Authorization:`Bearer ${Rt}`,"X-User-Id":le}});if(!Ve.ok)throw new Error("Failed to load users");return Ve.json()},enabled:!!e,staleTime:300*1e3,gcTime:1800*1e3,retry:!1}),Xe=Jr?.users||[],ds=Jr?.pagination||{total:0,totalPages:0,hasMore:!1};w.useEffect(()=>{e&&!ir&&!Jr&&Tn()},[e]);const{data:Ms,isLoading:Ca,refetch:yt}=Nc({queryKey:["users-all-tree"],queryFn:async()=>{const le=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/users/all`,{headers:{Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}});if(!le.ok)throw new Error("Failed to load all users");return le.json()},enabled:K==="tree",staleTime:300*1e3}),zt=Ms?.users||[];w.useEffect(()=>{K==="tree"&&zt.length>0&&Kt()},[K,zt]);const Xt=(le,Ze=new Set)=>{if(Ze.has(le))return 0;Ze.add(le);const Ve=zt.find(rt=>rt.id===le)||Xe.find(rt=>rt.id===le);if(!Ve||!Ve.||Ve..length===0)return 0;let Ye=Ve..length;for(const rt of Ve.)Ye+=Xt(rt,Ze);return Ye},Vr=(le,Ze,Ve=new Set)=>{if(Ve.has(le))return console.warn(`     ${le}`),0;if(Ve.add(le),!Ze.get(le))return console.warn(`  ${le}  `),0;const rt=Array.from(Ze.values()).filter(Pt=>Pt.Id===le);if(rt.length===0)return 0;let wt=0;for(const Pt of rt){const Y=Vr(Pt.id,Ze,new Set(Ve));Y>wt&&(wt=Y)}return 1+wt},Yn=async()=>{const le=Q.loading("   ...");try{const Ze=new Map;zt.forEach(ke=>Ze.set(ke.id,ke)),Q.loading("   ...",{id:le});const Ve=new Map,Ye=[];for(const ke of zt){if(ke.isAdmin)continue;const Ce=Vr(ke.id,Ze),Pe=ae.get(ke.id)??ke.??0;Ve.set(ke.id,Ce),Ce!==Pe&&Ye.push({userId:ke.id,userName:`${ke.} ${ke.}`,newRank:Ce,oldRank:Pe})}if(ue(Ve),console.log(`  : ${Ve.size}, : ${Ye.length}`),Ye.length===0){Q.success("    !   .",{id:le});return}const rt=Ye.sort((ke,Ce)=>Math.abs(Ce.newRank-Ce.oldRank)-Math.abs(ke.newRank-ke.oldRank)).slice(0,5);console.log(" -5 :"),rt.forEach(ke=>{console.log(`  ${ke.userName}: ${ke.oldRank}  ${ke.newRank} (${ke.newRank>ke.oldRank?"+":""}${ke.newRank-ke.oldRank})`)}),Q.loading(`  ${Ye.length} ...`,{id:le});let wt=0,Pt=0;const Y=10;for(let ke=0;ke<Ye.length;ke+=Y){const Pe=Ye.slice(ke,ke+Y).map(bt=>fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/user/${bt.userId}/rank`,{method:"PUT",headers:{Authorization:`Bearer ${Rt}`,"Content-Type":"application/json","X-User-Id":e?.id||""},body:JSON.stringify({rank:bt.newRank})}).then(at=>({success:at.ok,update:bt})).catch(()=>({success:!1,update:bt})));(await Promise.all(Pe)).forEach(({success:bt,update:at})=>{bt?(wt++,console.log(` ${at.userName}: ${at.oldRank}  ${at.newRank}`)):(Pt++,console.error(`   ${at.userName}`))}),Q.loading(`  ${wt}/${Ye.length}...`,{id:le})}Pt===0?Q.success(`     ${wt} !`,{id:le,duration:5e3}):Q.warning(`  ${wt}  ${Ye.length}. : ${Pt}`,{id:le,duration:7e3}),await Wr.invalidateQueries({queryKey:["users-all-tree"]}),await Wr.invalidateQueries({queryKey:["users-optimized"]})}catch(Ze){console.error("  :",Ze),Q.error(` : ${Ze}`,{id:le})}};w.useEffect(()=>{Jr?.stats&&C(Jr.stats)},[Jr]),w.useEffect(()=>{K==="list"&&Xe&&Xe.length>0&&Kt()},[Xe,K]),w.useEffect(()=>{K==="tree"&&zt&&zt.length>0&&Kt()},[zt,K]);const Kt=async()=>{try{const le=new Map,Ze=K==="tree"?zt:Xe;if(Ze.length===0)return;Ze.forEach(Ye=>{Ye.id&&Ye._metrics?.rank!==void 0&&le.set(Ye.id,Ye._metrics.rank)}),ue(le);const Ve=Ze.filter(Ye=>!Ye.isAdmin&&(!Ye._metrics||!Ye._metrics.rank)).slice(0,K==="tree"?100:50);if(Ve.length>0){for(let rt=0;rt<Ve.length;rt+=15){const wt=Ve.slice(rt,rt+15),Pt=wt.map(ke=>C_(ke.id,!0).catch(()=>({success:!0,rank:0})));(await Promise.all(Pt)).forEach((ke,Ce)=>{if(ke.success){const Pe=wt[Ce];le.set(Pe.id,ke.rank)}})}ue(new Map(le)),console.log(` User ranks updated [${K}]:`,le.size,"users (fresh data loaded)")}else console.log(` User ranks updated [${K}]:`,le.size,"users (from server cache)")}catch(le){console.error("Failed to load ranks:",le)}},Dr=le=>{U(le),n(1)},Xn=(le,Ze)=>{Ze.stopPropagation(),re(le),I(!0)},Fr=le=>{me(Ze=>{const Ve=new Set(Ze);return Ve.has(le)?Ve.delete(le):Ve.add(le),Ve})},Qt=Ou({count:Xe.length,getScrollElement:()=>ur.current,estimateSize:le=>{const Ze=Xe[le],Ve=H.has(Ze?.id),Ye=Ze?.instagram||Ze?.telegram||Ze?.facebook||Ze?.vk;return Ve?Ye?254:169:76},overscan:10});w.useEffect(()=>{Qt.measure()},[H,Qt]);const hs=le=>{ee(le),de({:le.||"",:le.||"",email:le.email||"",:le.||"",:le.||0,:le.||0,telegram:le.telegram||le.socialMedia?.telegram||"",whatsapp:le.whatsapp||le.socialMedia?.whatsapp||"",facebook:le.facebook||le.socialMedia?.facebook||"",instagram:le.instagram||le.socialMedia?.instagram||"",vk:le.vk||le.socialMedia?.vk||"",:le.||""}),he({:le.||0,:le.||0}),ze({:le.||"",:le.||"",email:le.email||"",:le.||"",telegram:le.telegram||le.socialMedia?.telegram||"",whatsapp:le.whatsapp||le.socialMedia?.whatsapp||"",facebook:le.facebook||le.socialMedia?.facebook||"",instagram:le.instagram||le.socialMedia?.instagram||"",vk:le.vk||le.socialMedia?.vk||"",:le.||""}),X(!0)},xn=async()=>{if(!pe)return;const le=fe.!==te.||fe.!==te.,Ze=fe.!==we.||fe.!==we.||fe.email!==we.email||fe.!==we.||fe.telegram!==we.telegram||fe.facebook!==we.facebook||fe.instagram!==we.instagram||fe.vk!==we.vk||fe.!==we.;if(le){J(!0);return}if(Ze){Ae(!0);return}Q.info("   "),X(!1)},ka=async()=>{if(pe)try{ne(!0);const le=localStorage.getItem("userId"),Ze=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/update-user/${pe.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":le||""},body:JSON.stringify({userData:fe})}),Ve=await Ze.json();if(!Ze.ok)throw new Error(Ve.error||"  ");Q.success(" !"),X(!1),J(!1),Ae(!1),ee(null),Wr.invalidateQueries({queryKey:["users-optimized"]}),t&&t()}catch(le){console.error("Error updating user:",le),Q.error(le.message||"  ")}finally{ne(!1)}},bl=le=>{Ht(le),et({:"course",:"",:""}),Be(!0)},Tc=async()=>{if(!pt||!De.||!De.){Q.error("  ");return}try{Ue(!0),await T_(pt.id,De),Q.success(" !"),Be(!1),Ht(null)}catch(le){console.error("Error sending notification:",le),Q.error(le.message||"  ")}finally{Ue(!1)}},Jd=async le=>{try{const Ze=(await vi(async()=>{const{default:jt}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:jt}},[])).default,Ve=(await vi(async()=>{const{default:jt}=await import("./jspdf.es.min-CTUlhMCe.js").then(dr=>dr.j);return{default:jt}},[])).default,Ye=document.createElement("div");Ye.style.cssText=`
        position: absolute;
        left: -9999px;
        top: 0;
        width: 800px;
        padding: 40px;
        background-color: #ffffff;
        font-family: Arial, sans-serif;
        color: #000000;
      `,Ye.innerHTML=`
        <div style="all: initial; font-family: Arial, sans-serif; background: #ffffff; color: #000000; box-sizing: border-box; display: block; padding: 40px; width: 800px;">
          <div style="border-bottom: 3px solid #39B7FF; padding-bottom: 20px; margin-bottom: 30px; background: transparent;">
            <h1 style="all: initial; font-family: Arial, sans-serif; color: #39B7FF; margin: 0; padding: 0; font-size: 32px; font-weight: bold; display: block;"> </h1>
            <p style="all: initial; font-family: Arial, sans-serif; color: #999999; margin: 10px 0 0 0; padding: 0; font-size: 14px; display: block;"> : ${new Date().toLocaleDateString("ru-RU")} ${new Date().toLocaleTimeString("ru-RU")}</p>
          </div>
          
          <div style="margin-bottom: 30px; background: transparent;">
            <h2 style="all: initial; font-family: Arial, sans-serif; color: #1E1E1E; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #F0F0F0; padding-bottom: 8px; display: block;"> </h2>
            <table style="all: initial; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; display: table;">
              <tbody style="all: initial; display: table-row-group;">
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; width: 180px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.||""} ${le.||""}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">ID:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.id||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">Email:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.email||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> :</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.||"-"}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> ID:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.Id||"-"}</td>
              </tr>
              <tr style="all: initial; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> :</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.?new Date(le.).toLocaleDateString("ru-RU"):"-"}</td>
              </tr>
              </tbody>
            </table>
          </div>
          
          <div style="margin-bottom: 30px; background: transparent;">
            <h2 style="all: initial; font-family: Arial, sans-serif; color: #1E1E1E; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #F0F0F0; padding-bottom: 8px; display: block;"> </h2>
            <table style="all: initial; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; display: table;">
              <tbody style="all: initial; display: table-row-group;">
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; width: 180px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;"> ${ae.get(le.id)??0}</td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #12C9B6; font-size: 16px; font-weight: 700; font-family: Arial, sans-serif; display: table-cell;">${(le.||0).toLocaleString("ru-RU")} </td>
              </tr>
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;"> :</td>
                <td style="all: initial; padding: 10px 0; color: #39B7FF; font-size: 16px; font-weight: 700; font-family: Arial, sans-serif; display: table-cell;">${(le.||0).toLocaleString("ru-RU")} </td>
              </tr>
              <tr style="all: initial; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">:</td>
                <td style="all: initial; padding: 10px 0; color: #FF9500; font-size: 16px; font-weight: 700; font-family: Arial, sans-serif; display: table-cell;">${(le.||0).toLocaleString("ru-RU")} </td>
              </tr>
              </tbody>
            </table>
          </div>
          
          <div style="background: transparent;">
            <h2 style="all: initial; font-family: Arial, sans-serif; color: #1E1E1E; font-size: 20px; font-weight: bold; margin-bottom: 15px; border-bottom: 2px solid #F0F0F0; padding-bottom: 8px; display: block;"> </h2>
            <table style="all: initial; width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; display: table;">
              <tbody style="all: initial; display: table-row-group;">
              <tr style="all: initial; border-bottom: 1px solid #F0F0F0; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; width: 180px; font-family: Arial, sans-serif; display: table-cell;"> (1 ):</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${le.?.length||0} </td>
              </tr>
              <tr style="all: initial; display: table-row;">
                <td style="all: initial; padding: 10px 0; color: #666666; font-size: 14px; font-family: Arial, sans-serif; display: table-cell;">  :</td>
                <td style="all: initial; padding: 10px 0; color: #1E1E1E; font-size: 14px; font-weight: 600; font-family: Arial, sans-serif; display: table-cell;">${Xt(le.id)} </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      `,document.body.appendChild(Ye);const rt=await Ze(Ye,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0,foreignObjectRendering:!1});document.body.removeChild(Ye);const wt=rt.toDataURL("image/png"),Pt=new Ve({orientation:"portrait",unit:"mm",format:"a4"}),Y=Pt.internal.pageSize.getWidth(),ke=Pt.internal.pageSize.getHeight(),Ce=Y-20,Pe=rt.height*Ce/rt.width;let Fe=Pe,bt=10;for(Pt.addImage(wt,"PNG",10,bt,Ce,Pe),Fe-=ke-20;Fe>0;)bt=Fe-Pe+10,Pt.addPage(),Pt.addImage(wt,"PNG",10,bt,Ce,Pe),Fe-=ke-20;const at=`user_${le.id}_${new Date().toISOString().split("T")[0]}.pdf`;console.log(" Attempting to save PDF:",at);try{console.log(" Method 1: Calling pdf.save()..."),Pt.save(at),console.log(" pdf.save() completed")}catch(jt){console.error(" pdf.save() failed, trying alternative method:",jt);try{console.log(" Method 2: Creating Blob...");const dr=Pt.output("blob"),Zr=URL.createObjectURL(dr),fr=document.createElement("a");fr.href=Zr,fr.download=at,fr.style.display="none",document.body.appendChild(fr),console.log(" Triggering download..."),fr.click(),setTimeout(()=>{document.body.removeChild(fr),URL.revokeObjectURL(Zr),console.log(" Blob method completed")},100)}catch(dr){throw console.error(" Blob method also failed:",dr),dr}}await new Promise(jt=>setTimeout(jt,300)),Q.success("    PDF!")}catch(Ze){console.error("Export error:",Ze),Q.error("   PDF")}},wl=le=>{const Ze=le?.lastActivity||le?.lastLogin;if(!Ze)return{status:"inactive",color:"bg-gray-400",text:"  ",textColor:"text-gray-600"};const Ve=new Date().getTime(),Ye=new Date(Ze).getTime(),rt=Ve-Ye,wt=Math.floor(rt/6e4),Pt=Math.floor(rt/36e5),Y=Math.floor(rt/864e5);return wt<3?{status:"online",color:"bg-green-500",text:"",textColor:"text-green-600"}:Pt<24?{status:"today",color:"bg-yellow-500",text:`${Pt} `,textColor:"text-yellow-600"}:Y<7?{status:"week",color:"bg-orange-400",text:`${Y} `,textColor:"text-orange-600"}:{status:"inactive",color:"bg-gray-400",text:`${Y} `,textColor:"text-gray-600"}},ni=le=>{const Ze=wl(le),Ve=le._metrics||{},Ye=ce.has(le.id);return s.jsxs("div",{className:`border rounded-lg bg-white hover:shadow-md transition-all duration-150 cursor-pointer ${H.has(le.id)?"p-2.5 pb-0":"p-2.5"} ${Ye?"border-green-500 bg-green-50":"border-[#E6E9EE] hover:border-[#39B7FF]/40"}`,onClick:()=>B(le.id),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2.5",children:[s.jsxs("div",{className:"flex items-center gap-2.5 flex-1 min-w-0",children:[s.jsxs("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-white shrink-0 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] overflow-hidden relative",children:[le.?s.jsx("img",{src:le.,alt:le.,className:"w-full h-full object-cover absolute inset-0",onError:rt=>{rt.currentTarget.style.display="none"}}):null,s.jsx("span",{className:le.?"hidden":"",style:{fontWeight:"600",fontSize:"14px"},children:le.?.charAt(0).toUpperCase()||"?"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5 flex-wrap",children:[s.jsxs("h3",{className:"text-[#1E1E1E]",style:{fontWeight:"600",fontSize:"14px"},children:[le.," ",le.]}),s.jsxs(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white px-1.5 py-0 text-xs",children:["ID: ",le.id]}),s.jsxs(Qe,{className:"bg-gradient-to-r from-orange-400 to-orange-600 text-white px-1.5 py-0 text-xs flex items-center gap-2.5",children:[s.jsx(Pn,{className:"w-2.5 h-2.5"})," ",ae.get(le.id)??Ve.rank??0]})]}),s.jsxs("div",{className:"flex items-center gap-2.5 text-[#666] flex-wrap",style:{fontSize:"11px"},children:[s.jsxs("span",{className:"flex items-center gap-2.5 shrink-0",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Ze.color} animate-pulse`}),s.jsx("span",{className:Ze.textColor,children:Ze.text})]}),s.jsxs("span",{className:"flex items-center gap-2.5 truncate",children:[s.jsx(Hs,{className:"w-3 h-3 shrink-0 text-[#39B7FF]"}),s.jsx("span",{className:"truncate",children:le.email})]}),le.&&s.jsxs("span",{className:"flex items-center gap-2.5 shrink-0",children:[s.jsx(Sn,{className:"w-3 h-3 shrink-0 text-[#12C9B6]"}),s.jsx("span",{children:le.})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2.5 shrink-0",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontWeight:"700",fontSize:"14px"},children:["",le.?.toLocaleString()||0]}),s.jsxs("p",{className:"text-[#999]",style:{fontSize:"10px"},children:[": ",le.?.toLocaleString()||0]})]}),s.jsxs("div",{className:"flex items-center gap-2.5 shrink-0",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:rt=>Xn(le,rt),className:"w-8 h-8 p-0 hover:bg-blue-50 rounded-lg",title:" ",children:s.jsx(qu,{className:"w-4 h-4 text-[#39B7FF]"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:rt=>{rt.stopPropagation(),hs(le)},className:"w-8 h-8 p-0 hover:bg-green-50 rounded-lg",title:"",children:s.jsx(Ru,{className:"w-4 h-4 text-[#12C9B6]"})}),s.jsx("div",{onClick:rt=>{rt.stopPropagation()},className:"w-8 h-8 flex items-center justify-center hover:bg-blue-50 rounded-lg cursor-pointer",title:"   ",children:s.jsx(F0,{checked:Ye,onCheckedChange:()=>Fr(le.id),className:"w-4 h-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:rt=>{rt.stopPropagation(),B(le.id)},className:"w-8 h-8 p-0 hover:bg-gray-100 rounded-lg shrink-0",title:H.has(le.id)?"":"",children:H.has(le.id)?s.jsx(ic,{className:"w-5 h-5 text-[#666]"}):s.jsx(ns,{className:"w-5 h-5 text-[#666]"})})]})]})]}),H.has(le.id)&&s.jsxs("div",{className:"mt-2 px-3 pb-2 pt-2 border-t border-[#E6E9EE]",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2.5 mb-2.5",children:[s.jsxs("div",{className:"px-2.5 py-2 rounded-lg",style:{backgroundColor:"#EFF6FF"},children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"12px",fontWeight:"600"},children:le.?new Date(le.).toLocaleDateString("ru-RU"):"-"})]}),s.jsxs("div",{className:"px-2.5 py-2 rounded-lg",style:{backgroundColor:"#FDF2F8"},children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"12px",fontWeight:"600"},children:le.Id||""})]}),s.jsxs("div",{className:"px-2.5 py-2 rounded-lg",style:{backgroundColor:"#F0FDF4"},children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:""}),s.jsxs("p",{className:"font-bold",style:{color:"#1E1E1E",fontSize:"12px"},children:[" : ",le.?.length||0]}),s.jsxs("p",{className:"font-bold",style:{color:"#1E1E1E",fontSize:"12px"},children:[" : ",Xt(le.id)||Ve.totalTeamSize||0]})]}),s.jsxs("div",{className:"px-2.5 py-2 rounded-lg",style:{backgroundColor:"#FFFBEB"},children:[s.jsx("p",{className:"text-[#999] mb-1",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"12px",fontWeight:"600"},children:le.?new Date(le.).toLocaleDateString("ru-RU"):" "})]})]}),(le.instagram||le.telegram||le.facebook||le.vk)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:" "}),s.jsxs("div",{className:"grid grid-cols-4 gap-2.5",children:[le.telegram&&s.jsxs("a",{href:`https://t.me/${le.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"px-2.5 py-2 rounded-lg block hover:opacity-80 transition-opacity cursor-pointer",style:{backgroundColor:"#EFF6FF"},onClick:rt=>rt.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(Vs,{className:"w-3 h-3 text-[#3B82F6]"}),s.jsx("p",{className:"text-[#3B82F6]",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase"},children:"Telegram"})]}),s.jsx("p",{className:"text-[#3B82F6] truncate",style:{fontSize:"12px",fontWeight:"600"},children:le.telegram})]}),le.facebook&&s.jsxs("a",{href:`https://facebook.com/${le.facebook.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"px-2.5 py-2 rounded-lg block hover:opacity-80 transition-opacity cursor-pointer",style:{backgroundColor:"#EFF6FF"},onClick:rt=>rt.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(Sr,{className:"w-3 h-3 text-[#1877F2]"}),s.jsx("p",{className:"text-[#1877F2]",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase"},children:"Facebook"})]}),s.jsx("p",{className:"text-[#1877F2] truncate",style:{fontSize:"12px",fontWeight:"600"},children:le.facebook})]}),le.instagram&&s.jsxs("a",{href:`https://instagram.com/${le.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"px-2.5 py-2 rounded-lg block hover:opacity-80 transition-opacity cursor-pointer",style:{backgroundColor:"#FDF2F8"},onClick:rt=>rt.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(js,{className:"w-3 h-3 text-[#EC4899]"}),s.jsx("p",{className:"text-[#EC4899]",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase"},children:"Instagram"})]}),s.jsx("p",{className:"text-[#EC4899] truncate",style:{fontSize:"12px",fontWeight:"600"},children:le.instagram})]}),le.vk&&s.jsxs("a",{href:`https://vk.com/${le.vk.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"px-2.5 py-2 rounded-lg block hover:opacity-80 transition-opacity cursor-pointer",style:{backgroundColor:"#EFF6FF"},onClick:rt=>rt.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(Sr,{className:"w-3 h-3 text-[#0077FF]"}),s.jsx("p",{className:"text-[#0077FF]",style:{fontSize:"9px",fontWeight:"600",textTransform:"uppercase"},children:"VK"})]}),s.jsx("p",{className:"text-[#0077FF] truncate",style:{fontSize:"12px",fontWeight:"600"},children:le.vk})]})]})]})]})]})};return Rs&&console.error(" Error loading users:",Rs),s.jsxs("div",{className:"p-2.5 max-w-[1400px] mx-auto",children:[s.jsx("div",{className:"mb-2.5",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2.5",style:{fontSize:"24px",fontWeight:"700"},children:" "}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"13px"},children:"      "})]})}),s.jsx(Vk,{stats:P,activeFilter:L,onFilterClick:Dr}),s.jsxs(Ni,{defaultValue:"users",className:"!gap-2.5",children:[s.jsxs(Si,{className:"bg-white border border-[#E6E9EE] p-1.5 rounded-xl shadow-sm",children:[s.jsxs(Dt,{value:"users",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white data-[state=active]:shadow-md",children:[s.jsx(Ot,{className:"w-4 h-4 mr-2"}),"",ce.size>0&&s.jsx(Qe,{className:"ml-2 bg-green-600 text-white px-2 py-0 text-xs",children:ce.size})]}),s.jsxs(Dt,{value:"ids",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white data-[state=active]:shadow-md",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"})," ID"]})]}),s.jsxs(Vt,{value:"users",className:"space-y-2.5",children:[s.jsx(Se,{className:"mb-2.5",children:s.jsx(Ee,{className:"!px-2.5 !pt-2.5 !pb-2.5",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#999]"}),s.jsx(Ie,{placeholder:"  , email, , ID...",value:i,onChange:le=>a(le.target.value),className:"pl-10"})]}),s.jsxs(qn,{value:c,onValueChange:le=>d(le),children:[s.jsx(Kn,{className:"w-[200px]",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"created",children:" "}),s.jsx(gt,{value:"rank",children:""}),s.jsx(gt,{value:"name",children:""}),s.jsx(gt,{value:"balance",children:""}),s.jsx(gt,{value:"teamSize",children:" "})]})]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>m(h==="asc"?"desc":"asc"),children:[s.jsx(iX,{className:"w-4 h-4 mr-2"}),h==="asc"?" ":" "]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{ce.size===Xe.length&&Xe.length>0?me(new Set):me(new Set(Xe.map(le=>le.id)))},className:ce.size>0?"border-blue-500 text-blue-600":"",children:[ce.size===Xe.length&&Xe.length>0?s.jsx(to,{className:"w-4 h-4 mr-2"}):s.jsx(ex,{className:"w-4 h-4 mr-2"}),ce.size===Xe.length&&Xe.length>0?" ":`  (${Xe.length})`]}),ce.size>0&&s.jsxs(s.Fragment,{children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{confirm(` ${ce.size}  ?`)&&(Q.success(` : ${ce.size}`),me(new Set))},className:"border-red-500 text-red-600 hover:bg-red-50",children:[s.jsx(Un,{className:"w-4 h-4 mr-2"})," (",ce.size,")"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{Q.info(`  ${ce.size} `)},className:"border-blue-500 text-blue-600 hover:bg-blue-50",children:[s.jsx(Sr,{className:"w-4 h-4 mr-2"})," (",ce.size,")"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>me(new Set),className:"border-green-500 text-green-600 hover:bg-green-50",children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"})," "]})]})]})})}),s.jsx(L_e,{rankFrom:j,rankTo:k,rankExactMatch:A,balanceFrom:b,balanceTo:v,totalResults:ds.total,onRankFromChange:le=>{E(le),n(1)},onRankToChange:le=>{_(le),n(1)},onRankExactMatchChange:le=>{T(le),n(1)},onBalanceFromChange:le=>{y(le),n(1)},onBalanceToChange:le=>{N(le),n(1)},onResetFilters:()=>{E(0),_(150),T(!1),y(""),N(""),q("all"),n(1)}}),s.jsx(Se,{className:"mb-2.5",children:s.jsx(Ee,{className:"!px-2.5 !pt-2.5 !pb-2.5",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2.5 min-h-[36px]",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs(ie,{variant:K==="list"?"default":"outline",size:"sm",onClick:()=>$("list"),className:`h-9 ${K==="list"?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white shadow-md":"hover:bg-gray-100"}`,title:" ",children:[s.jsx(WS,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(ie,{variant:K==="tree"?"default":"outline",size:"sm",onClick:()=>$("tree"),className:`h-9 ${K==="tree"?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white shadow-md":"hover:bg-gradient-to-r hover:from-[#39B7FF]/10 hover:to-[#12C9B6]/10 border-2 border-[#39B7FF]/30"}`,title:"  -  ",children:[s.jsx(ef,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsx("div",{className:"w-px h-7 bg-[#E6E9EE] mx-1"}),K==="list"&&s.jsxs(s.Fragment,{children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:M,className:"h-9 border-[#12C9B6] hover:bg-[#12C9B6] text-[#12C9B6] hover:text-white transition-all hover:shadow-md",title:"  ",children:[s.jsx(G$,{className:"w-4 h-4 mr-2"})," "]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:z,className:"h-9 border-slate-300 hover:bg-slate-50 text-slate-600 hover:border-slate-400",title:"  ",children:[s.jsx(Y$,{className:"w-4 h-4 mr-2"})," "]}),s.jsx("div",{className:"w-px h-7 bg-[#E6E9EE] mx-1"})]}),K==="list"&&s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(Ot,{className:"w-4 h-4 text-[#39B7FF]",title:"  "}),s.jsxs(qn,{value:p.toString(),onValueChange:le=>{x(Number(le)),n(1)},children:[s.jsx(Kn,{className:"w-[70px] h-9 border-[#39B7FF]/30",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"20",children:"20"}),s.jsx(gt,{value:"50",children:"50"}),s.jsx(gt,{value:"100",children:"100"})]})]})]}),s.jsx("div",{className:"w-px h-7 bg-[#E6E9EE] mx-1"}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:async()=>{try{const le=Xe.map((wt,Pt)=>({"":Pt+1,ID:wt.id||"-",:wt.||"-",:wt.||"-",Email:wt.email||"-",:wt.||"-",:ae.get(wt.id)??0,:wt.||0," ":wt.||0," ":wt.||"-"," ID":wt.Id||"-"," (1 )":wt.?.length||0," ":wt.?new Date(wt.).toLocaleDateString("ru-RU"):"-"})),Ze=Object.keys(le[0]||{}),Ve=[Ze.join("	"),...le.map(wt=>Ze.map(Pt=>wt[Pt]).join("	"))].join(`
`),Ye=document.createElement("textarea");Ye.value=Ve,Ye.style.position="fixed",Ye.style.left="-9999px",document.body.appendChild(Ye),Ye.select();const rt=document.execCommand("copy");if(document.body.removeChild(Ye),rt)Q.success(" !  Google Sheets   (Ctrl+V)",{duration:5e3});else throw new Error("execCommand failed")}catch{Q.error("  ")}},className:"h-9 border-green-200 hover:bg-green-50 text-green-700 hover:border-green-300",title:"   Google Sheets",children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),"  Google Sheets"]})]}),K==="list"&&s.jsxs(iA,{children:[s.jsx(aA,{asChild:!0,children:s.jsxs(ie,{variant:"outline",size:"sm",className:"h-9 border-[#E6E9EE] hover:bg-gray-50",title:"   ",children:[s.jsx(tx,{className:"w-4 h-4 mr-2"}),"",s.jsx(ns,{className:"w-4 h-4 ml-2"})]})}),s.jsxs(oA,{align:"end",className:"w-56",children:[s.jsxs(ts,{onClick:async()=>{try{const le=Q.loading("   ..."),Ve=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/diagnose-ranks`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();if(Ve.success)if(console.log("  :",Ve),Ve.issuesCount===0)Q.success("    !",{id:le});else{let Ye=`  

`;Ye+=` : ${Ve.totalUsers}
`,Ye+=` : ${Ve.issuesCount}

`,Ve.issues&&Ve.issues.length>0&&(Ye+=`:
`,Ve.issues.slice(0,10).forEach((rt,wt)=>{Ye+=`${wt+1}. ${rt.name} (ID: ${rt.userId})
`,Ye+=`   ${rt.problem}

`}),Ve.issues.length>10&&(Ye+=`...   ${Ve.issues.length-10} 

`)),Ye+=' "  "   .',alert(Ye),Q.warning(`  ${Ve.issuesCount} `,{id:le})}else Q.error(` : ${Ve.error}`,{id:le})}catch(le){console.error("Diagnosis error:",le),Q.error(" ")}},children:[s.jsx(Qs,{className:"w-4 h-4 mr-2 text-yellow-600"}),s.jsx("span",{children:"  "})]}),s.jsxs(ts,{onClick:async()=>{if(confirm(`   

   ,      .

?`))try{const le=Q.loading("  ..."),Ve=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/recalculate-all-ranks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();if(Ve.success){console.log("  :",Ve);let Ye=`  

`;Ye+=` : ${Ve.totalUsers}
`,Ye+=`: ${Ve.updatedCount}

`,Ve.updates&&Ve.updates.length>0&&(Ye+=`:
`,Ve.updates.slice(0,10).forEach((rt,wt)=>{Ye+=`${wt+1}. ${rt.name} (ID: ${rt.userId})
`,Ye+=`   : ${rt.oldRank}  ${rt.newRank}

`}),Ve.updates.length>10&&(Ye+=`...   ${Ve.updates.length-10} `)),alert(Ye),Q.success(` : ${Ve.updatedCount}`,{id:le}),setTimeout(()=>{Wr.invalidateQueries({queryKey:["users-optimized"]})},500)}else Q.error(` : ${Ve.error}`,{id:le})}catch(le){console.error("Recalculation error:",le),Q.error("  ")}},children:[s.jsx(Hu,{className:"w-4 h-4 mr-2 text-[#39B7FF]"}),s.jsx("span",{children:"   "})]}),s.jsxs(ts,{onClick:()=>{try{a2e(displayedUsers),Q.success(`  ${displayedUsers.length} `)}catch(le){console.error("Export error:",le),Q.error("  ")}},children:[s.jsx(as,{className:"w-4 h-4 mr-2 text-[#39B7FF]"}),s.jsx("span",{children:"   CSV"})]}),s.jsxs(ts,{onClick:async()=>{try{const le=Q.loading("   ..."),Ve=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/clean-broken-refs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();Ve.success?(Q.success(` : ${Ve.cleaned||0}`,{id:le}),setTimeout(()=>Wr.invalidateQueries({queryKey:["users-optimized"]}),500)):Q.error(` : ${Ve.error}`,{id:le})}catch{Q.error("  ")}},children:[s.jsx(rs,{className:"w-4 h-4 mr-2 text-orange-600"}),s.jsx("span",{children:"  "})]}),s.jsxs(ts,{onClick:async()=>{try{const le=Q.loading("  ..."),Ve=await(await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/sync-teams`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":e?.id||""}})).json();Ve.success?(Q.success(` : ${Ve.synced||0}`,{id:le}),setTimeout(()=>Wr.invalidateQueries({queryKey:["users-optimized"]}),500)):Q.error(` : ${Ve.error}`,{id:le})}catch{Q.error("  ")}},children:[s.jsx(Ot,{className:"w-4 h-4 mr-2 text-blue-600"}),s.jsx("span",{children:" "})]})]})]})]})})}),s.jsx(Se,{children:s.jsx(Ee,{className:"p-0",children:K==="tree"?Ca?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"}),s.jsx("span",{className:"ml-3 text-[#666]",children:" ..."})]}):zt.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-[#999]",children:[s.jsx(ef,{className:"w-12 h-12 mb-2.5 text-[#E6E9EE]"}),s.jsx("p",{className:"text-[#666] mb-2.5",style:{fontSize:"16px",fontWeight:"600"},children:"    "}),s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"14px"},children:"     "}),s.jsxs(ie,{variant:"default",size:"sm",onClick:()=>$("list"),className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]",children:[s.jsx(WS,{className:"w-4 h-4 mr-2"}),"  "]})]}):s.jsx("div",{className:"p-4",children:s.jsx(U_e,{allUsers:zt,userRanks:ae,calculateTotalTeam:Xt,onUserClick:Xn,onRecalculateRanks:Yn,isRecalculating:Ca})}):ir?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"}),s.jsx("span",{className:"ml-3 text-[#666]",children:" ..."})]}):Rs?s.jsx("div",{className:"flex items-center justify-center py-12 text-red-600",children:"  "}):Xe.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-[#999]",children:[s.jsx(Ot,{className:"w-12 h-12 mb-2.5 text-[#E6E9EE]"}),s.jsx("p",{className:"text-[#666] mb-2.5",style:{fontSize:"16px",fontWeight:"600"},children:"  "}),s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"14px"},children:"     "}),s.jsxs("div",{className:"flex gap-2.5",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{a(""),y(""),N(""),E(0),_(150),q("all")},children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"})," "]}),s.jsxs(ie,{variant:"default",size:"sm",onClick:()=>$("tree"),className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]",children:[s.jsx(ef,{className:"w-4 h-4 mr-2"}),"  "]})]})]}):s.jsx(s.Fragment,{children:s.jsx("div",{ref:ur,className:"h-[2000px] overflow-auto pt-1.5",style:{contain:"strict"},children:s.jsx("div",{style:{height:`${Qt.getTotalSize()}px`,width:"100%",position:"relative"},children:Qt.getVirtualItems().map(le=>{const Ze=Xe[le.index];return s.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${le.size}px`,transform:`translateY(${le.start}px)`},children:s.jsx("div",{className:"px-3 pb-2",children:ni(Ze)})},le.key)})})})})})}),K==="list"&&s.jsxs("div",{className:"mt-2.5 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2.5",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("p",{className:"text-[#666]",style:{fontSize:"14px"},children:[" ",Xe.length,"  ",ds.total]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"14px"},children:" :"}),s.jsxs(qn,{value:p.toString(),onValueChange:le=>{x(Number(le)),n(1)},children:[s.jsx(Kn,{className:"w-20 h-9",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"20",children:"20"}),s.jsx(gt,{value:"50",children:"50"}),s.jsx(gt,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx(ie,{variant:"outline",onClick:()=>n(le=>Math.max(1,le-1)),disabled:r===1||ir,children:""}),s.jsxs("span",{className:"px-3 py-1.5 text-[#1E1E1E]",style:{fontSize:"14px"},children:[" ",r,"  ",ds.totalPages]}),s.jsx(ie,{variant:"outline",onClick:()=>n(le=>le+1),disabled:!ds.hasMore||ir,children:""})]})]})]}),s.jsx(Vt,{value:"ids",children:s.jsx($_e,{currentUser:e,onSuccess:()=>Wr.invalidateQueries({queryKey:["users-optimized"]})})})]}),s.jsx(Er,{open:R,onOpenChange:I,children:s.jsxs(vr,{className:"w-[1200px] max-w-[95vw] h-[85vh] max-h-[85vh] flex flex-col overflow-hidden",children:[s.jsxs(_r,{className:"shrink-0 pb-3 border-b border-[#E6E9EE]",children:[s.jsxs(yr,{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${V?.isAdmin?"bg-gradient-to-br from-purple-500 to-purple-700":"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}`,children:V?.isAdmin?s.jsx(kn,{className:"w-5 h-5 text-white"}):s.jsx(Ot,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs("span",{children:[V?.," ",V?.]}),V?.isAdmin&&s.jsx(Qe,{className:"bg-purple-100 text-purple-700",children:"Admin"}),s.jsxs(Qe,{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:[" ",ae.get(V?.id||"")??V?._metrics?.rank??0]})]})}),s.jsxs("div",{className:"flex items-center gap-2.5 shrink-0",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{document.querySelector("[data-user-info-section]")?.scrollIntoView({behavior:"smooth",block:"start"})},className:"w-9 h-9 p-0 hover:bg-blue-50 rounded-lg",title:"",children:s.jsx(Jg,{className:"w-4 h-4 text-[#39B7FF]"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{I(!1),hs(V)},className:"w-9 h-9 p-0 hover:bg-green-50 rounded-lg",title:"",children:s.jsx(Ru,{className:"w-4 h-4 text-[#12C9B6]"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>Fr(V?.id),className:`w-9 h-9 p-0 rounded-lg ${ce.has(V?.id)?"bg-green-100 hover:bg-green-200":"hover:bg-gray-100"}`,title:ce.has(V?.id)?" ":"",children:ce.has(V?.id)?s.jsx(Yr,{className:"w-4 h-4 text-green-600"}):s.jsx(Hi,{className:"w-4 h-4 text-gray-600"})})]})]}),s.jsxs(kr,{children:["ID: ",V?.id," ",V?.ID&&` P${V.ID}`]})]}),V&&s.jsxs("div",{className:"flex-1 overflow-y-auto py-2 px-1",children:[s.jsxs("div",{className:"flex flex-wrap gap-2.5 mb-2.5 pb-2.5 border-b border-[#E6E9EE]",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>hs(V),className:"flex items-center gap-2.5 bg-[#39B7FF] text-white hover:bg-[#2da5ed] border-[#39B7FF]",children:[s.jsx(Ru,{className:"w-3.5 h-3.5"}),""]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>bl(V),className:"flex items-center gap-2.5",children:[s.jsx(Xs,{className:"w-3.5 h-3.5"}),""]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>Jd(V),className:"flex items-center gap-2.5",children:[s.jsx(as,{className:"w-3.5 h-3.5"})," PDF"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(V.||""),Q.success("- ")},className:"flex items-center gap-2.5",children:[s.jsx(xi,{className:"w-3.5 h-3.5"}),"-"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{const le=`${window.location.origin}?ref=${V.}`;navigator.clipboard.writeText(le),Q.success("- ")},className:"flex items-center gap-2.5",children:[s.jsx(j_,{className:"w-3.5 h-3.5"}),"-"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>o_e(V,Wr,t),className:"flex items-center gap-2.5",children:[s.jsx(kn,{className:"w-3.5 h-3.5"}),V.isAdmin?" ":" "]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>a_e(V,Wr,t,I),className:"flex items-center gap-2.5 text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(Un,{className:"w-3.5 h-3.5"}),""]})]}),s.jsxs(Ni,{defaultValue:"general",className:"w-full",children:[s.jsxs(Si,{className:"grid w-full grid-cols-5 mb-2.5",children:[s.jsx(Dt,{value:"general",children:""}),s.jsx(Dt,{value:"team",children:""}),s.jsx(Dt,{value:"sales",children:""}),s.jsx(Dt,{value:"finance",children:""}),s.jsx(Dt,{value:"activity",children:""})]}),s.jsxs(Vt,{value:"general",className:"space-y-2.5",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2.5",children:[s.jsxs("div",{className:"bg-orange-50 p-2.5 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:ae.get(V.id)??V._metrics?.rank??0})]}),s.jsxs("div",{className:"bg-blue-50 p-2.5 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:V.?new Date(V.).toLocaleDateString("ru-RU"):"-"})]}),s.jsxs("div",{className:"bg-purple-50 p-2.5 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:V.Id?`ID: ${V.Id}`:""})]}),s.jsxs("div",{className:"bg-teal-50 p-2.5 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontSize:"13px",fontWeight:"600"},children:[Xt(V.id)," "]})]}),s.jsxs("div",{className:"bg-green-50 p-2.5 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E] font-mono",style:{fontSize:"12px",fontWeight:"600"},children:V.||"-"})]})]}),s.jsxs("div",{className:"bg-[#F7FAFC] p-3 rounded-lg","data-user-info-section":!0,children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Hs,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2.5",children:[s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 hover:border-[#39B7FF] transition-all flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Hs,{className:"w-4 h-4 text-[#39B7FF]"})}),s.jsx("span",{className:"text-[#999]",style:{fontSize:"11px",fontWeight:"600"},children:"EMAIL"})]}),s.jsx("a",{href:`mailto:${V.email}`,className:"text-[#1E1E1E] hover:text-[#39B7FF] transition-colors block mb-2.5 flex-grow",style:{fontSize:"13px",fontWeight:"600"},children:V.email}),s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full text-xs h-7",onClick:()=>{navigator.clipboard.writeText(V.email),Q.success("Email ")},children:[s.jsx(xi,{className:"w-3 h-3 mr-1"}),""]})]}),V.&&s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 hover:border-[#12C9B6] transition-all flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-full flex items-center justify-center",children:s.jsx(Sn,{className:"w-4 h-4 text-[#12C9B6]"})}),s.jsx("span",{className:"text-[#999]",style:{fontSize:"11px",fontWeight:"600"},children:""})]}),s.jsx("div",{className:"text-[#1E1E1E] mb-2.5 flex-grow",style:{fontSize:"13px",fontWeight:"600"},children:V.}),s.jsxs("div",{className:"flex gap-2.5",children:[s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:()=>window.open(`https://wa.me/${V..replace(/\D/g,"")}`,"_blank"),children:[s.jsx(Sr,{className:"w-3 h-3 mr-1"}),"WhatsApp"]}),s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:()=>{const le=V..replace(/\D/g,"");window.open(`tg://resolve?phone=${le}`,"_blank")},children:[s.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Telegram"]}),s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:()=>window.open(`tel:${V.}`,"_blank"),children:[s.jsx(J$,{className:"w-3 h-3 mr-1"}),""]})]})]})]})]}),(V.telegram||V.facebook||V.instagram||V.vk||V.socialMedia)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Sr,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2.5",children:[(V.telegram||V.socialMedia?.telegram)&&s.jsxs("a",{href:`https://t.me/${(V.telegram||V.socialMedia?.telegram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-50 hover:bg-blue-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(Vs,{className:"w-4 h-4 text-blue-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"TELEGRAM"})]}),s.jsxs("p",{className:"text-blue-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:["@",(V.telegram||V.socialMedia?.telegram).replace(/^@/,"")]})]}),(V.facebook||V.socialMedia?.facebook)&&s.jsxs("a",{href:`https://facebook.com/${(V.facebook||V.socialMedia?.facebook).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-50 hover:bg-blue-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(Sr,{className:"w-4 h-4 text-blue-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"FACEBOOK"})]}),s.jsx("p",{className:"text-blue-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:V.facebook||V.socialMedia?.facebook})]}),(V.instagram||V.socialMedia?.instagram)&&s.jsxs("a",{href:`https://instagram.com/${(V.instagram||V.socialMedia?.instagram).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-pink-50 hover:bg-pink-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(js,{className:"w-4 h-4 text-pink-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"INSTAGRAM"})]}),s.jsxs("p",{className:"text-pink-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:["@",(V.instagram||V.socialMedia?.instagram).replace(/^@/,"")]})]}),(V.vk||V.socialMedia?.vk)&&s.jsxs("a",{href:`https://vk.com/${(V.vk||V.socialMedia?.vk).replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-50 hover:bg-indigo-100 p-3 rounded-lg transition-colors cursor-pointer block",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsx(Yl,{className:"w-4 h-4 text-indigo-600"}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"10px",fontWeight:"600"},children:"VK"})]}),s.jsx("p",{className:"text-indigo-700 truncate",style:{fontSize:"13px",fontWeight:"600"},children:(V.vk||V.socialMedia?.vk).replace(/^@/,"")})]})]})]})]}),s.jsxs(Vt,{value:"team",className:"space-y-2.5",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2.5",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:"1 "}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:V.?.length||0}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:"2 "}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:(()=>{if(!V.)return 0;const Ze=typeof V.[0]=="string";let Ve=0;for(const Ye of V.){const rt=Ze?Ye:Ye.id,wt=zt.find(Pt=>Pt.id===rt)||Xe.find(Pt=>Pt.id===rt);wt?.&&(Ve+=wt..length)}return Ve})()}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" 2 "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:"3 "}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:(()=>{if(!V.)return 0;const Ze=typeof V.[0]=="string";let Ve=0;for(const Ye of V.){const rt=Ze?Ye:Ye.id,wt=zt.find(Pt=>Pt.id===rt)||Xe.find(Pt=>Pt.id===rt);if(wt?.)for(const Pt of wt.){const Y=typeof Pt=="string"?Pt:Pt.id,ke=zt.find(Ce=>Ce.id===Y)||Xe.find(Ce=>Ce.id===Y);ke?.&&(Ve+=ke..length)}}return Ve})()}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" 3 "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-3 rounded-lg",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E] text-2xl font-bold",children:Xt(V.id)}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:" "})]})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-3 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2.5",children:s.jsxs("h3",{className:"text-[#1E1E1E] flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx($t,{className:"w-4 h-4 text-[#39B7FF]"})," "]})}),s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:(()=>{if(!V.||V..length===0)return s.jsx("p",{className:"text-sm text-[#999] text-center py-4",children:" "});const Ze=typeof V.[0]=="string",Ve=V..map(Ye=>{const rt=Ze?Ye:Ye.id;return zt.find(wt=>wt.id===rt)||Xe.find(wt=>wt.id===rt)}).filter(Boolean).slice(0,10);return Ve.length===0?s.jsx("p",{className:"text-sm text-[#999] text-center py-4",children:" "}):Ve.map((Ye,rt)=>{const wt=ae.get(Ye.id)??Ye._metrics?.rank??0,Pt=Ye.?.length||0,Y=wl(Ye);return s.jsxs("div",{className:"flex items-center gap-2.5 p-2 hover:bg-[#F7FAFC] rounded-lg transition-colors cursor-pointer border border-transparent hover:border-[#39B7FF]",onClick:()=>{re(Ye),I(!0)},children:[s.jsx("div",{className:"w-6 h-6 rounded-md bg-gradient-to-br from-yellow-100 to-yellow-200 flex items-center justify-center text-yellow-700 font-bold text-xs shrink-0",children:rt+1}),s.jsxs("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] flex items-center justify-center text-white text-xs font-bold shrink-0",children:[Ye.?.[0],Ye.?.[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2.5 mb-2.5",children:[s.jsxs("p",{className:"text-xs font-medium text-[#1E1E1E] truncate",children:[Ye.," ",Ye.]}),s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Y.color} shrink-0`,title:Y.text})]}),s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsxs(Qe,{className:"bg-gradient-to-r from-orange-100 to-orange-200 text-orange-700 text-[10px] px-1.5 py-0",children:[" ",wt]}),s.jsxs("span",{className:"text-[10px] text-[#999]",children:[Pt," ",Pt===1?"":Pt<5?"":""]})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsxs("p",{className:"text-sm font-bold text-[#1E1E1E]",children:[Ye.?.toLocaleString("ru-RU")||0," "]}),s.jsx("p",{className:"text-[10px] text-[#999]",children:""})]})]},Ye.id)})})()}),V.&&V..length>10&&s.jsx("div",{className:"mt-2.5 pt-2.5 border-t border-[#E6E9EE]",children:s.jsxs("button",{className:"w-full text-xs text-[#39B7FF] hover:underline font-medium",children:["   (",V..length,")"]})})]})]}),s.jsxs(Vt,{value:"sales",className:"space-y-2.5",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2.5",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[s.jsx(Ns,{className:"w-5 h-5 text-green-600"}),s.jsx($t,{className:"w-4 h-4 text-green-600"})]}),s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-xl font-bold",children:["",(V._metrics?.personalSales||0).toLocaleString()]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"  "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[s.jsx(Ns,{className:"w-5 h-5 text-blue-600"}),s.jsx($t,{className:"w-4 h-4 text-blue-600"})]}),s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-xl font-bold",children:["",(V._metrics?.teamSales||0).toLocaleString()]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"  "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2.5",children:s.jsx(Pn,{className:"w-5 h-5 text-purple-600"})}),s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:""}),s.jsx("p",{className:"text-[#1E1E1E] text-xl font-bold",children:V._metrics?.ordersCount||0}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:"  "})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-3 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-2.5",children:s.jsx(Js,{className:"w-5 h-5 text-orange-600"})}),s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-xl font-bold",children:["",Math.round((V._metrics?.personalSales||0)/Math.max(V._metrics?.ordersCount||1,1)).toLocaleString()]}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:"  "})]})]}),s.jsxs("div",{className:"bg-[#F7FAFC] p-3 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx($t,{className:"w-4 h-4 text-[#39B7FF]"}),"  (30 )"]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-4",children:"     "})]})]}),s.jsxs(Vt,{value:"finance",className:"space-y-2.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2.5",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[#39B7FF]/20 to-[#12C9B6]/20 p-3 rounded-lg border border-[#39B7FF]/30",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E] text-3xl font-bold",children:["",V.?.toLocaleString()||0]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-3 rounded-lg border border-green-300",children:[s.jsx("p",{className:"text-[#999] mb-2.5",style:{fontSize:"10px",fontWeight:"600"},children:" "}),s.jsxs("p",{className:"text-green-700 text-3xl font-bold",children:["",V.?.toLocaleString()||0]})]})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-3 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Wn,{className:"w-4 h-4 text-[#39B7FF]"}),"   ()"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2.5",children:[s.jsxs("div",{className:"bg-blue-50 p-2.5 rounded-lg text-center",children:[s.jsx("p",{className:"text-blue-600 text-xs mb-2.5 font-semibold",children:"D1 (1 )"}),s.jsx("p",{className:"text-[#1E1E1E] text-lg font-bold",children:"0"})]}),s.jsxs("div",{className:"bg-purple-50 p-2.5 rounded-lg text-center",children:[s.jsx("p",{className:"text-purple-600 text-xs mb-2.5 font-semibold",children:"D2 (2 )"}),s.jsx("p",{className:"text-[#1E1E1E] text-lg font-bold",children:"0"})]}),s.jsxs("div",{className:"bg-teal-50 p-2.5 rounded-lg text-center",children:[s.jsx("p",{className:"text-teal-600 text-xs mb-2.5 font-semibold",children:"D3 (3 )"}),s.jsx("p",{className:"text-[#1E1E1E] text-lg font-bold",children:"0"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 p-3 rounded-lg border border-orange-200",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx($t,{className:"w-4 h-4 text-orange-600"}),"   "]}),s.jsxs("div",{className:"mb-2.5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2.5",children:[s.jsxs("span",{className:"text-sm text-[#666]",children:[" ",ae.get(V.id)??V._metrics?.rank??0,"   ",(ae.get(V.id)??V._metrics?.rank??0)+1]}),s.jsx("span",{className:"text-sm font-bold text-orange-600",children:"0%"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-yellow-500 h-3 rounded-full",style:{width:"0%"}})})]}),s.jsx("p",{className:"text-xs text-[#666]",children:"      "})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-3 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(On,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-4",children:"  "})]})]}),s.jsxs(Vt,{value:"activity",className:"space-y-2.5",children:[s.jsxs("div",{className:"bg-[#F7FAFC] p-3 rounded-lg border-2 border-[#E6E9EE]",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(tl,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),(()=>{const le=wl(V);return s.jsxs("div",{className:"flex items-center gap-2.5 p-2.5 bg-white rounded-lg",children:[s.jsx("span",{className:`w-4 h-4 rounded-full ${le.color} animate-pulse`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`${le.textColor} font-semibold`,children:le.text}),s.jsx("p",{className:"text-xs text-[#999] mt-1",children:(()=>{const Ze=V.lastActivity||V.lastLogin||V.||V.;return Ze?` : ${new Date(Ze).toLocaleString("ru-RU")}`:"  "})()})]})]})})()]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-3 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Wo,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"space-y-2.5",children:[s.jsxs("div",{className:"flex items-start gap-2.5 p-2.5 bg-[#F7FAFC] rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center shrink-0",children:s.jsx(Yr,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-[#1E1E1E]",children:"  "}),s.jsx("p",{className:"text-xs text-[#999]",children:V.?new Date(V.).toLocaleString("ru-RU"):" "})]})]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-4",children:"   "})]})]}),s.jsxs("div",{className:"bg-white border border-[#E6E9EE] p-3 rounded-lg",children:[s.jsxs("h3",{className:"text-[#1E1E1E] mb-2.5 flex items-center gap-2.5",style:{fontSize:"14px",fontWeight:"600"},children:[s.jsx(Ns,{className:"w-4 h-4 text-[#39B7FF]"})," "]}),s.jsx("div",{className:"text-sm text-[#999] text-center py-4",children:"  "})]})]})]})]})]})}),s.jsx(i_e,{editDialogOpen:xe,setEditDialogOpen:X,editingUser:pe,editFormData:fe,setEditFormData:de,handleSaveUser:xn,saving:se,balanceConfirmOpen:ve,setBalanceConfirmOpen:J,originalBalances:te,saveUserData:ka,dataConfirmOpen:je,setDataConfirmOpen:Ae,originalUserData:we,notificationDialogOpen:Te,setNotificationDialogOpen:Be,notificationTargetUser:pt,notificationData:De,setNotificationData:et,handleSendNotification:Tc,sendingNotification:vt})]})}function q_e({userId:e,onClose:t}){const[r,n]=w.useState(null),[i,a]=w.useState(!0);w.useEffect(()=>(o(),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[e]);const o=async()=>{a(!0);try{console.log(" UserProfileView: Loading profile for user:",e);const d=await a9(e);console.log(" UserProfileView: API response:",d),d.success?(console.log(" UserProfileView: Profile loaded:",d.user),console.log(" UserProfileView: Privacy settings:",d.user.privacySettings),n(d.user)):(console.error(" UserProfileView: Failed to load profile:",d),Q.error("   "))}catch(d){console.error(" UserProfileView: Error loading profile:",d),Q.error("  ")}finally{a(!1)}};if(i)return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:t,children:s.jsx(Se,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:s.jsx(Ee,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})})})});if(!r)return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:t,children:s.jsx(Se,{className:"w-full max-w-2xl mx-4",onClick:d=>d.stopPropagation(),children:s.jsxs(Ee,{className:"p-8 text-center",children:[s.jsx("p",{className:"text-[#666] mb-4",children:"  "}),s.jsx(ie,{onClick:t,children:""})]})})});const l=r.socialMedia||{},c=r.privacySettings||{};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:s.jsx(Se,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:s.jsxs(Ee,{className:"p-0",children:[s.jsxs("div",{className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] p-6 text-white relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(Mr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-3xl",children:r.?.[0]?.toUpperCase()||""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-1",children:[r.," ",r.||""]}),s.jsxs("p",{className:"text-white/90 text-sm",children:[" ",r.,"  : ",r.]})]})]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.showBalance!==!1&&r.!==void 0&&s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[s.jsx(On,{className:"w-6 h-6 text-[#39B7FF] mx-auto mb-2"}),s.jsxs("div",{className:"font-bold text-[#39B7FF] text-xl",children:[(r.||0).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:"text-xs text-[#666] mt-1",children:""})]}),c.showEarnings!==!1&&r.totalEarnings!==void 0&&s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[s.jsx($t,{className:"w-6 h-6 text-[#12C9B6] mx-auto mb-2"}),s.jsxs("div",{className:"font-bold text-[#12C9B6] text-xl",children:[(r.totalEarnings||0).toLocaleString("ru-RU")," "]}),s.jsx("div",{className:"text-xs text-[#666] mt-1",children:""})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[s.jsx(Ot,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-purple-600 text-xl",children:r.teamSize||0}),s.jsx("div",{className:"text-xs text-[#666] mt-1",children:""})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-[#1E1E1E] mb-3 flex items-center gap-2",children:[s.jsx(Sr,{className:"w-5 h-5 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"space-y-3",children:[c.showPhone!==!1&&r.&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-[#39B7FF]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-[#666]",children:""}),s.jsx("div",{className:"font-semibold text-[#1E1E1E]",children:r.})]}),s.jsx("a",{href:`tel:${r.}`,className:"text-[#39B7FF] hover:text-[#12C9B6] transition-colors",children:""})]}),c.showEmail!==!1&&r.email&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Hs,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-[#666]",children:"Email"}),s.jsx("div",{className:"font-semibold text-[#1E1E1E]",children:r.email})]}),s.jsx("a",{href:`mailto:${r.email}`,className:"text-[#39B7FF] hover:text-[#12C9B6] transition-colors",children:""})]})]})]}),(c.showTelegram!==!1&&l.telegram||c.showWhatsapp!==!1&&l.whatsapp||c.showFacebook!==!1&&l.facebook||c.showInstagram!==!1&&l.instagram||c.showVk!==!1&&l.vk)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-[#1E1E1E] mb-3 flex items-center gap-2",children:[s.jsx(rl,{className:"w-5 h-5 text-[#39B7FF]"})," "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.showTelegram!==!1&&l.telegram&&s.jsxs("a",{href:`https://t.me/${l.telegram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(Sr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-[#666]",children:"Telegram"}),s.jsx("div",{className:"font-semibold text-[#1E1E1E] truncate",children:l.telegram})]})]}),c.showWhatsapp!==!1&&l.whatsapp&&s.jsxs("a",{href:`https://wa.me/${l.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg hover:bg-green-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx(Sn,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-[#666]",children:"WhatsApp"}),s.jsx("div",{className:"font-semibold text-[#1E1E1E] truncate",children:l.whatsapp})]})]}),c.showFacebook!==!1&&l.facebook&&s.jsxs("a",{href:`https://facebook.com/${l.facebook.replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-[#1877F2] rounded-lg flex items-center justify-center",children:s.jsx(Sr,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-[#666]",children:"Facebook"}),s.jsx("div",{className:"font-semibold text-[#1E1E1E] truncate",children:l.facebook})]})]}),c.showInstagram!==!1&&l.instagram&&s.jsxs("a",{href:`https://instagram.com/${l.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg hover:bg-pink-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(js,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-[#666]",children:"Instagram"}),s.jsx("div",{className:"font-semibold text-[#1E1E1E] truncate",children:l.instagram})]})]}),c.showVk!==!1&&l.vk&&s.jsxs("a",{href:`https://vk.com/${l.vk}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-lg hover:bg-blue-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-[#0077FF] rounded-lg flex items-center justify-center text-white font-bold",children:"VK"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-[#666]",children:""}),s.jsx("div",{className:"font-semibold text-[#1E1E1E] truncate",children:l.vk})]})]})]})]}),s.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:s.jsxs(ie,{onClick:t,variant:"outline",className:"flex-1",children:[s.jsx(K$,{className:"w-4 h-4 mr-2"}),""]})})]})]})})})}const fS=({radius:e,stroke:t,progress:r,color:n,label:i,value:a})=>{const o=2*Math.PI*e,l=o-r/100*o;return s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{width:e*2+t*2,height:e*2+t*2,className:"transform -rotate-90",children:[s.jsx("circle",{cx:e+t,cy:e+t,r:e,stroke:"#E5E7EB",strokeWidth:t,fill:"none"}),s.jsx(tr.circle,{cx:e+t,cy:e+t,r:e,stroke:n,strokeWidth:t,fill:"none",strokeDasharray:o,strokeDashoffset:l,strokeLinecap:"round",initial:{strokeDashoffset:o},animate:{strokeDashoffset:l},transition:{duration:1.5,delay:.2,ease:"easeOut"},style:{filter:`drop-shadow(0 0 8px ${n})`}})]}),s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:s.jsxs(tr.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5},className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:i})]})})]})},H_e=({value:e,suffix:t=""})=>{const[r,n]=w.useState(0);return w.useEffect(()=>{let i=0;const o=e/(1500/16),l=setInterval(()=>{i+=o,i>=e?(n(e),clearInterval(l)):n(Math.floor(i))},16);return()=>clearInterval(l)},[e]),s.jsxs("span",{children:[r.toLocaleString("ru-RU"),t]})},K_e=({team:e})=>{const n=o=>{const l=e.filter(c=>c.?new Date(c.).toDateString()===o.toDateString():!1).length;return l===0?"bg-gray-100":l<=2?"bg-green-200":l<=5?"bg-green-400":"bg-green-600"},a=(()=>{const o=[],l=new Date;for(let c=11;c>=0;c--){const d=[];for(let h=0;h<7;h++){const m=new Date(l);m.setDate(m.getDate()-(c*7+(6-h))),d.push({date:m,activity:n(m)})}o.push(d)}return o})();return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ga,{className:"w-4 h-4"}),s.jsxs("span",{children:["    ",12," "]})]}),s.jsx("div",{className:"flex gap-1",children:a.map((o,l)=>s.jsx("div",{className:"flex flex-col gap-1",children:o.map((c,d)=>s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("div",{className:`w-3 h-3 rounded-sm ${c.activity} cursor-pointer hover:ring-2 hover:ring-gray-400 transition-all`})}),s.jsx(Ko,{children:s.jsx("p",{children:c.date.toLocaleDateString("ru-RU")})})]})},d))},l))}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[s.jsx("span",{children:""}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-100 rounded-sm"}),s.jsx("div",{className:"w-3 h-3 bg-green-200 rounded-sm"}),s.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-sm"}),s.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-sm"})]}),s.jsx("span",{children:""})]})]})},G_e=({team:e})=>{const t=[{count:1,label:" ",icon:"",achieved:e.length>=1},{count:5,label:"5 ",icon:"",achieved:e.length>=5},{count:10,label:"10 ",icon:"",achieved:e.length>=10},{count:25,label:"25 ",icon:"",achieved:e.length>=25},{count:50,label:"50 ",icon:"",achieved:e.length>=50}];return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-200 via-blue-400 to-blue-600"}),s.jsx("div",{className:"space-y-6",children:t.map((r,n)=>s.jsxs(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl z-10 ${r.achieved?"bg-gradient-to-br from-blue-400 to-blue-600 shadow-lg ring-4 ring-blue-200":"bg-gray-200"}`,children:r.icon}),s.jsxs("div",{className:`flex-1 ${r.achieved?"opacity-100":"opacity-50"}`,children:[s.jsx("div",{className:"font-semibold text-gray-800",children:r.label}),s.jsxs("div",{className:"text-sm text-gray-500",children:[r.count," "]})]}),r.achieved&&s.jsx(tr.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:n*.1+.3},children:s.jsx(Yr,{className:"w-6 h-6 text-green-500"})})]},n))})]})};function Y_e({currentUser:e,refreshTrigger:t}){const[r,n]=w.useState([]),[i,a]=w.useState(null),[o,l]=w.useState(!0),[c,d]=w.useState(!1),[h,m]=w.useState("cards"),[p,x]=w.useState(new Set),[b,y]=w.useState(new Set([1,2,3])),[v,N]=w.useState(null),[j,E]=w.useState([]),[k,_]=w.useState(!1),[A,T]=w.useState(""),[D,q]=w.useState("15"),K=w.useRef(null),$=e?.id,H=()=>({10:"h-[800px]",15:"h-[1100px]",20:"h-[1400px]"})[D];w.useEffect(()=>{if(h==="tree"&&p.size===0&&r.length>0){const J=r.filter(je=>je.===e.).map(je=>je.id);x(new Set(J))}},[h,r,e.]),w.useEffect(()=>{K.current&&(K.current.scrollTop=0)},[h]),w.useEffect(()=>{W(),B()},[t,$]);const W=async()=>{if($){l(!0);try{const J=await Cv($);if(J.success&&J.team){const je=J.team.filter(Ae=>Ae.id!==$);if(console.log(" FULL TEAM:",je.map(Ae=>({id:Ae.id,:Ae.,:Ae.,:Ae.,:Ae.}))),n(je),h==="tree"&&je.length>0){const Te=je.filter(Be=>Be.===e.).map(Be=>Be.id);x(new Set(Te))}}else n([])}catch(J){console.error("Failed to load team:",J),Q.error("    ")}finally{l(!1)}}},B=async()=>{if(e?.Id)try{const J=await __(e.Id);J.success&&J.user&&a(J.user)}catch(J){console.error("Failed to load sponsor:",J)}},M=J=>{if(!J)return{color:"bg-gray-400",label:"",dot:""};const je=new Date,Ae=new Date(J),Te=(je.getTime()-Ae.getTime())/(1e3*60*60);return Te<1?{color:"bg-green-500",label:"",dot:""}:Te<24?{color:"bg-yellow-500",label:"",dot:""}:Te<168?{color:"bg-orange-500",label:"  ",dot:""}:{color:"bg-gray-400",label:"",dot:""}},z=()=>{const J=[],je=new Date;for(let Ae=5;Ae>=0;Ae--){const Te=new Date(je.getFullYear(),je.getMonth()-Ae,1),Be=Te.toLocaleDateString("ru-RU",{month:"short"}),De=r.filter(et=>!et.&&!et.?!1:new Date(et.||et.)<=Te).length;J.push({month:Be,:De,:0})}return J},P=()=>{const J=r.length,je=r.reduce((Te,Be)=>Te+(Be.||0),0),Ae=r.filter(Te=>Te.?(new Date().getTime()-new Date(Te.).getTime())/(1e3*60*60)<168:!1).length;return{partners:{value:J,progress:Math.min(100,J/50*100),goal:50},income:{value:je,progress:Math.min(100,je/1e6*100),goal:1e6},activity:{value:Ae,progress:J>0?Ae/J*100:0,goal:J}}},C=J=>{switch(J){case 1:return"bg-blue-50 text-blue-600 border-blue-200";case 2:return"bg-rose-50 text-rose-600 border-rose-200";case 3:return"bg-amber-50 text-amber-600 border-amber-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},L=J=>{switch(J){case 1:return"bg-gradient-to-br from-blue-200 to-blue-300";case 2:return"bg-gradient-to-br from-rose-200 to-rose-300";case 3:return"bg-gradient-to-br from-amber-200 to-amber-300";default:return"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}},U=J=>{switch(J){case 1:return"text-blue-700";case 2:return"text-rose-700";case 3:return"text-amber-700";default:return"text-white"}},R=async()=>{try{const J=`${window.location.origin}?ref=${e.}`;if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(J),d(!0),Q.success("  !"),setTimeout(()=>d(!1),2e3);return}catch{console.log("Clipboard API ,  fallback ")}const je=document.createElement("textarea");je.value=J,je.style.position="fixed",je.style.left="-999999px",je.style.top="-999999px",document.body.appendChild(je),je.focus(),je.select();const Ae=document.execCommand("copy");if(document.body.removeChild(je),Ae)d(!0),Q.success("  !"),setTimeout(()=>d(!1),2e3);else throw new Error("execCommand failed")}catch(J){console.error("  :",J),Q.error("   ")}},I=()=>{const je=`  H Partner Platform!

        H-Touch.

 : ${`${window.location.origin}?ref=${e.}`}`;T(je),_(!0)},V=()=>{navigator.share?navigator.share({title:"H Partner Platform",text:A}).catch(()=>{navigator.clipboard.writeText(A),Q.success("    !")}):(navigator.clipboard.writeText(A),Q.success("    !")),_(!1)},re=J=>{const je=new Set(p);je.has(J)?je.delete(J):je.add(J),x(je)},ce=()=>{const J=r.map(je=>je.id);x(new Set(J)),Q.success("  ")},me=()=>{x(new Set),Q.success("  ")},ae=()=>{const J=Array.from(new Set(r.map(je=>je.))).filter(je=>je);y(new Set(J)),Q.success("  ")},ue=()=>{y(new Set),Q.success("  ")},pe=(J,je=0)=>r.filter(Te=>Te.===J).map(Te=>({...Te,children:pe(Te.,je+1),depth:je})),ee=J=>{const je=J.children&&J.children.length>0,Ae=p.has(J.id),Te=M(J.||null),Be=J.privacySettings?.showPhone!==!1,De=J.privacySettings?.showTelegram!==!1,et=J.privacySettings?.showWhatsapp!==!1;return s.jsxs("div",{className:"ml-0",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-xl mb-2 hover:shadow-md transition-all duration-200 group relative border border-gray-100",children:[s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("div",{className:`absolute top-2 left-2 w-2.5 h-2.5 ${Te.color} rounded-full animate-pulse`})}),s.jsx(Ko,{children:s.jsx("p",{children:Te.label})})]})}),je&&s.jsx("button",{onClick:vt=>{vt.stopPropagation(),re(J.id)},className:"p-1 hover:bg-gray-100 rounded-lg transition-colors ml-3",children:Ae?s.jsx(ns,{size:16,className:"text-[#666]"}):s.jsx(dc,{size:16,className:"text-[#666]"})}),!je&&s.jsx("div",{className:"w-6 ml-3"}),s.jsxs("div",{onClick:()=>N(J.id),className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",children:[s.jsx("div",{className:`w-10 h-10 ${L(J.||1)} rounded-lg flex items-center justify-center ${U(J.||1)} flex-shrink-0 shadow-sm group-hover:scale-110 transition-transform`,children:s.jsx("span",{style:{fontWeight:"700",fontSize:"14px"},children:J..charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-[#1E1E1E] truncate group-hover:text-[#39B7FF] transition-colors",style:{fontWeight:"600",fontSize:"14px"},children:[J.," ",J.]}),s.jsxs(Qe,{className:`${C(J.||1)} border text-xs`,children:[" ",J.||1]})]}),s.jsxs("div",{className:"text-[#666]",style:{fontSize:"12px"},children:[J.,"  ",(J.||0).toLocaleString("ru-RU"),""]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[De&&J.telegram&&s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("a",{href:`https://t.me/${J.telegram.replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",onClick:vt=>vt.stopPropagation(),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",children:s.jsx(Vs,{size:16,className:"text-[#0088cc]"})})}),s.jsx(Ko,{children:s.jsx("p",{children:"Telegram"})})]})}),et&&J.whatsapp&&s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("a",{href:`https://wa.me/${J.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",onClick:vt=>vt.stopPropagation(),className:"p-2 hover:bg-green-100 rounded-lg transition-colors",children:s.jsx(Sr,{size:16,className:"text-[#25D366]"})})}),s.jsx(Ko,{children:s.jsx("p",{children:"WhatsApp"})})]})}),Be&&J.&&s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("a",{href:`tel:${J.}`,onClick:vt=>vt.stopPropagation(),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:s.jsx(Sn,{size:16,className:"text-[#8B5CF6]"})})}),s.jsx(Ko,{children:s.jsx("p",{children:""})})]})})]}),je&&s.jsxs(Qe,{variant:"outline",className:"text-xs",children:[J.children.length," ."]})]}),s.jsx("div",{className:"overflow-hidden",children:s.jsx(fD,{mode:"wait",children:je&&Ae&&s.jsx(tr.div,{initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:0},transition:{duration:.2,ease:"easeInOut"},style:{originY:0,willChange:"transform",transform:"translateZ(0)"},className:"ml-8 border-l-2 border-gray-200 pl-4 mt-2",children:J.children.map(vt=>ee(vt))})})})]},J.id)},xe=()=>[...r].sort((J,je)=>(je.||0)-(J.||0)).slice(0,10),X=J=>{const je=new Set(b);je.has(J)?je.delete(J):je.add(J),y(je)},fe=J=>{const je=r.find(Be=>Be.id===J);if(!je)return[];const Ae=[],Te=[je.];for(;Te.length>0;){const Be=Te.shift();r.filter(et=>et.===Be).forEach(et=>{Ae.push(et.id),Te.push(et.)})}return Ae},de=J=>{const je=r.find(Be=>Be.id===J);if(!je)return[];const Ae=[];let Te=je.;for(;Te;){const Be=r.find(De=>De.===Te);if(Be)Ae.push(Be.id),Te=Be.;else break}return Ae},te=()=>{if(j.length===0)return[];const J=new Set,je=new Set;j.forEach(Te=>{if(!r.find(et=>et.id===Te))return;J.add(Te),de(Te).forEach(et=>{J.add(et),je.add(et)})});const Ae=Math.max(...r.map(Te=>Te.||1));for(let Te=1;Te<=Ae;Te++)r.filter(De=>De.===Te).forEach(De=>{const et=j.includes(De.id),vt=je.has(De.id)&&!et;J.has(De.id)&&!vt&&r.filter(pt=>pt.===De.).forEach(pt=>{J.add(pt.id)})});return Array.from(J)},he=()=>{const J={};return r.forEach(je=>{const Ae=je.||1;J[Ae]||(J[Ae]=[]),J[Ae].push(je)}),J},we=()=>{if(j.length===0)return[];const J=[];return j.forEach(je=>{fe(je).forEach(Te=>{J.includes(Te)||J.push(Te)})}),r.filter(je=>J.includes(je.id))},ze=(J,je)=>{const Ae=M(J.||null);J.privacySettings?.showPhone;const Te=J.privacySettings?.showTelegram!==!1,Be=J.privacySettings?.showWhatsapp!==!1,De=r.find(Ue=>Ue.===J.)||(J.===e.?e:null),et=r.filter(Ue=>Ue.===J.).length,vt={1:"from-blue-400 to-blue-600",2:"from-rose-400 to-rose-600",3:"from-amber-400 to-amber-600"};return s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},onClick:()=>{console.log(" CLICK on partner:",{id:J.id,:J.,:J.,:J.,:J.}),j.includes(J.id)?(console.log(" Removing from selection"),E(j.filter(Ue=>Ue!==J.id))):(console.log(" Adding to selection"),E([...j,J.id]))},className:"group cursor-pointer",children:s.jsx(Se,{className:`border transition-all duration-200 overflow-hidden ${j.includes(J.id)?"border-[#39B7FF] bg-blue-50 shadow-md ring-2 ring-[#39B7FF]/20":"border-gray-200/60 hover:border-[#39B7FF]/30 hover:shadow-sm bg-white"}`,children:s.jsx(Ee,{className:"!p-0",children:s.jsxs("div",{className:"flex items-center gap-2.5 p-2.5",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("div",{className:`w-9 h-9 ${L(J.||1)} rounded-lg flex items-center justify-center ${U(J.||1)} font-bold text-sm`,children:J..charAt(0).toUpperCase()}),s.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 ${Ae.color} rounded-full border border-white`})]}),s.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 truncate group-hover:text-[#39B7FF] transition-colors text-xs leading-none",children:[J.," ",J.]}),s.jsx("div",{className:`w-1 h-1 rounded-full ${vt[J.]?"bg-gradient-to-r "+vt[J.]:"bg-gray-400"}`})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 leading-none mt-1",children:[s.jsx("code",{className:"text-xs bg-gray-50 px-1 py-0 rounded font-mono",children:J.}),s.jsx("span",{children:""}),s.jsxs("span",{className:"font-semibold text-gray-700",children:[(J.||0).toLocaleString("ru-RU"),""]}),De&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-0.5 text-gray-400",children:[s.jsx(ac,{size:9,className:"text-[#39B7FF]"}),s.jsx("span",{className:"text-xs",children:De.})]})]}),et>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-0.5 text-gray-400",children:[s.jsx(Ot,{size:9,className:"text-[#12C9B6]"}),s.jsx("span",{className:"text-xs",children:et})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{onClick:Ue=>{Ue.stopPropagation(),N(J.id)},className:"p-1.5 bg-[#39B7FF]/10 hover:bg-[#39B7FF]/20 rounded-lg transition-colors",title:" ",children:s.jsx(qu,{size:14,className:"text-[#39B7FF]"})}),s.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[Te&&J.telegram&&s.jsx("a",{href:`https://t.me/${J.telegram.replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",onClick:Ue=>Ue.stopPropagation(),className:"p-1 hover:bg-blue-50 rounded transition-colors",children:s.jsx(Vs,{size:11,className:"text-[#0088cc]"})}),Be&&J.whatsapp&&s.jsx("a",{href:`https://wa.me/${J.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",onClick:Ue=>Ue.stopPropagation(),className:"p-1 hover:bg-green-50 rounded transition-colors",children:s.jsx(Sr,{size:11,className:"text-[#25D366]"})})]})]})]})})})},J.id)};if(o)return s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Ut,{className:"w-12 h-12 text-[#39B7FF] animate-spin"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})})});const se=r.reduce((J,je)=>{const Ae=je.||1;return J[Ae]=(J[Ae]||0)+1,J},{}),ne=z(),ve=P();return s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mb-6 md:mb-8",children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"clamp(24px, 5vw, 32px)",fontWeight:"700"},children:"  "}),s.jsx("p",{className:"text-[#666] text-sm md:text-base",children:"     "})]}),s.jsx(tr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.2},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl md:rounded-3xl shadow-lg bg-gradient-to-br from-white to-blue-50 mb-6 md:mb-8",children:s.jsxs(Ee,{className:"p-4 md:p-8",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6",children:[s.jsx(Wo,{className:"w-5 h-5 md:w-6 md:h-6 text-[#39B7FF]"}),s.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:" "})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 md:gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(fS,{radius:50,stroke:10,progress:ve.partners.progress,color:"#39B7FF",label:"",value:ve.partners.value}),s.jsx("div",{className:"mt-2 md:mt-4 text-center",children:s.jsxs("div",{className:"text-xs md:text-sm text-gray-600",children:[": ",ve.partners.goal]})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(fS,{radius:50,stroke:10,progress:ve.income.progress,color:"#12C9B6",label:"",value:`${Math.floor(ve.income.value/1e3)}K`}),s.jsx("div",{className:"mt-2 md:mt-4 text-center",children:s.jsxs("div",{className:"text-xs md:text-sm text-gray-600",children:[": ",(ve.income.goal/1e3).toLocaleString("ru-RU"),"K"]})})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(fS,{radius:50,stroke:10,progress:ve.activity.progress,color:"#EF4444",label:"",value:ve.activity.value}),s.jsx("div",{className:"mt-2 md:mt-4 text-center",children:s.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:" "})})]})]}),s.jsx("div",{className:"mt-6 md:mt-8 p-3 md:p-4 bg-blue-50 rounded-xl md:rounded-2xl border border-blue-100",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-800 text-sm md:text-base",children:[s.jsx(GX,{className:"w-4 h-4 md:w-5 md:h-5 flex-shrink-0"}),s.jsx("span",{className:"font-semibold",children:ve.partners.progress>=100&&ve.income.progress>=100&&ve.activity.progress>=80?"   !  !":" ,    !"})]})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white h-full",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx($t,{className:"w-5 h-5 text-green-500"}),"  (6 )"]})}),s.jsx(Ee,{children:s.jsx(Qo,{width:"100%",height:250,children:s.jsxs(ok,{data:ne,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorGrowth",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#39B7FF",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#39B7FF",stopOpacity:.1})]})}),s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),s.jsx(ei,{dataKey:"month",stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(En,{contentStyle:{backgroundColor:"#FFF",border:"1px solid #E5E7EB",borderRadius:"8px"}}),s.jsx(_a,{type:"monotone",dataKey:"",stroke:"#39B7FF",strokeWidth:3,fill:"url(#colorGrowth)",animationDuration:1500})]})})})]})}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white h-full",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(LS,{className:"w-5 h-5 text-blue-500"})," "]})}),s.jsxs(Ee,{children:[s.jsx(Qo,{width:"100%",height:250,children:s.jsxs(ov,{data:ne,children:[s.jsx(Za,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),s.jsx(ei,{dataKey:"month",stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(ti,{stroke:"#6B7280",style:{fontSize:"12px"}}),s.jsx(En,{contentStyle:{backgroundColor:"#FFF",border:"1px solid #E5E7EB",borderRadius:"8px"}}),s.jsx(ja,{dataKey:"",fill:"#12C9B6",radius:[8,8,0,0],animationDuration:1500})]})}),ne.every(J=>J.===0)&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 p-3 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsx(Mu,{size:16,className:"text-blue-600 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-blue-700",children:"        "})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(Js,{className:"w-5 h-5 text-purple-500"}),"  "]})}),s.jsx(Ee,{children:s.jsx(G_e,{team:r})})]})}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-gray-800",children:[s.jsx(Ga,{className:"w-5 h-5 text-green-500"})," "]})}),s.jsx(Ee,{children:s.jsx(K_e,{team:r})})]})})]}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[{icon:Ot,value:r.length,label:" ",color:"bg-blue-500",gradient:"from-blue-400 to-blue-600"},{icon:$t,value:se[1]||0,label:"1- ",color:"bg-purple-500",gradient:"from-purple-400 to-purple-600"},{icon:$t,value:se[2]||0,label:"2- ",color:"bg-pink-500",gradient:"from-pink-400 to-pink-600"},{icon:$t,value:se[3]||0,label:"3- ",color:"bg-amber-500",gradient:"from-amber-400 to-amber-600"}].map((J,je)=>s.jsx(tr.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.7+je*.1},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-lg bg-white hover:shadow-xl transition-shadow",children:s.jsxs(Ee,{className:"p-6",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${J.gradient} rounded-2xl flex items-center justify-center mb-4 shadow-lg`,children:s.jsx(J.icon,{className:"w-7 h-7 text-white"})}),s.jsx("div",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"36px",fontWeight:"700"},children:s.jsx(H_e,{value:J.value})}),s.jsx("div",{className:"text-[#666] font-medium",children:J.label})]})})},je))})}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-lg bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white mb-8",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm flex-shrink-0",children:s.jsx(ac,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg mb-1",children:" "}),s.jsxs("p",{className:"opacity-90 text-sm",children:["  : ",s.jsx("code",{className:"bg-white/20 px-2 py-1 rounded font-mono font-bold ml-1",children:e.})]})]})]}),s.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[s.jsxs(ie,{onClick:I,className:"bg-white text-[#39B7FF] hover:bg-white/90 font-semibold shadow-md",size:"sm",children:[s.jsx(rl,{size:16,className:"mr-2"}),""]}),s.jsxs(ie,{onClick:R,className:"bg-white/20 backdrop-blur-md text-white hover:bg-white/30 font-semibold border border-white/40 shadow-md",size:"sm",children:[c?s.jsx(Yr,{size:16,className:"mr-2"}):s.jsx(xi,{size:16,className:"mr-2"}),c?"!":""]})]})]})})})}),s.jsx(tr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-3xl shadow-lg bg-white",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:""}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`flex gap-2 ${h==="tree"&&r.length>0?"opacity-100":"opacity-0 pointer-events-none"}`,children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:ce,className:"text-xs",children:[s.jsx(k6,{size:14,className:"mr-1"})," "]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:me,className:"text-xs",children:[s.jsx(P6,{size:14,className:"mr-1"})," "]})]}),s.jsxs("div",{className:`flex gap-2 ${h==="cards"&&r.length>0?"opacity-100":"opacity-0 pointer-events-none"}`,children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:ae,className:"text-xs",children:[s.jsx(k6,{size:14,className:"mr-1"})," "]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:ue,className:"text-xs",children:[s.jsx(P6,{size:14,className:"mr-1"})," "]})]}),s.jsxs(qn,{value:D,onValueChange:J=>q(J),children:[s.jsx(Kn,{className:"w-[150px] h-9",children:s.jsx(Hn,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qu,{size:14}),s.jsxs("span",{className:"text-xs",children:[D," "]})]})})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"10",children:"10 "}),s.jsx(gt,{value:"15",children:"15 "}),s.jsx(gt,{value:"20",children:"20 "})]})]}),s.jsx(Ni,{value:h,onValueChange:J=>m(J),className:"w-auto",children:s.jsxs(Si,{className:"grid grid-cols-4 w-auto",children:[s.jsx(Dt,{value:"cards",className:"px-3",children:s.jsx(Ot,{size:16})}),s.jsx(Dt,{value:"list",className:"px-3",children:s.jsx(LS,{size:16})}),s.jsx(Dt,{value:"tree",className:"px-3",children:s.jsx(ef,{size:16})}),s.jsx(Dt,{value:"top",className:"px-3",children:s.jsx(fa,{size:16})})]})})]})]})}),s.jsx(Ee,{children:r.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ot,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-[#1E1E1E] mb-3 font-bold text-xl",children:"  "}),s.jsx("p",{className:"text-[#666] mb-8",children:"  ,    "}),s.jsxs(ie,{onClick:I,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white font-semibold",size:"lg",children:[s.jsx(ac,{size:20,className:"mr-2"})," "]})]}):s.jsxs(s.Fragment,{children:[!1,s.jsxs("div",{ref:K,className:`${H()} overflow-auto transition-opacity duration-200`,style:{contain:"layout",willChange:"transform",transform:"translateZ(0)"},children:[h==="cards"&&s.jsx("div",{className:"space-y-6",children:Object.entries(he()).sort(([J],[je])=>Number(J)-Number(je)).map(([J,je])=>{const Ae=Number(J),Te=b.has(Ae),Be=te();console.log("Selected IDs:",j),console.log("Related IDs:",Be),console.log("Line:",J,"All members:",je.map(pt=>pt.id));const De=Be.length>0?je.filter(pt=>Be.includes(pt.id)):je;if(console.log("Line:",J,"Filtered members:",De.map(pt=>pt.id)),De.length===0)return null;const et=De.some(pt=>j.includes(pt.id)),vt={1:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",gradient:"from-blue-400 to-blue-600"},2:{bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-200",gradient:"from-rose-400 to-rose-600"},3:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",gradient:"from-amber-400 to-amber-600"}},Ue=vt[Ae]||vt[1];return s.jsxs("div",{className:"mb-2.5",style:{willChange:"transform",transform:"translateZ(0)"},children:[s.jsxs("div",{className:`w-full flex items-center justify-between p-2.5 rounded-xl ${Ue.bg} border ${Ue.border} mb-2.5`,children:[s.jsxs("button",{onClick:()=>X(Ae),className:"flex-1 flex items-center justify-between hover:opacity-80 transition-opacity",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${Ue.gradient} rounded-lg flex items-center justify-center text-white shadow-sm`,children:s.jsx("span",{className:"text-sm font-bold",children:J})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`font-semibold ${Ue.text} text-sm`,children:[Ae,"- "]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[De.length," ",De.length===1?"":De.length<5?"":""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-right hidden sm:block",children:s.jsxs("div",{className:"font-semibold text-gray-800 text-sm",children:[je.reduce((pt,Ht)=>pt+(Ht.||0),0).toLocaleString("ru-RU"),""]})}),s.jsx(ns,{className:`w-4 h-4 ${Ue.text} transition-transform ${Te?"":"-rotate-90"}`})]})]}),j.length>0&&(Ae===1||et)&&s.jsxs(ie,{onClick:pt=>{pt.stopPropagation(),E([])},variant:"ghost",size:"sm",className:"h-7 px-2 ml-2 hover:bg-white/50",children:[s.jsx(Mr,{size:14,className:"mr-1"}),Ae===1?" ":" "]})]}),s.jsx("div",{className:"overflow-hidden",children:s.jsx(fD,{mode:"wait",children:Te&&s.jsx(tr.div,{initial:{opacity:0,scaleY:0},animate:{opacity:1,scaleY:1},exit:{opacity:0,scaleY:0},transition:{duration:.2,ease:"easeInOut"},style:{originY:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2.5",children:De.map((pt,Ht)=>ze(pt))})})})]},J)})}),h==="cards"&&j.length>0&&we().length>0&&s.jsxs("div",{className:"mt-6 mb-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2.5 p-3 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-indigo-600 rounded-lg flex items-center justify-center text-white shadow-sm",children:s.jsx(Ot,{size:16})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-purple-700 text-sm",children:"  "}),s.jsxs("p",{className:"text-xs text-gray-500",children:[we().length," ",we().length===1?"":we().length<5?"":""]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2.5",children:we().map((J,je)=>ze(J))})]}),h==="tree"&&s.jsxs("div",{className:"mt-6 mb-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2.5 p-3 bg-gradient-to-r from-purple-50 to-indigo-50 border border-purple-200 rounded-xl",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-indigo-600 rounded-lg flex items-center justify-center text-white shadow-sm",children:s.jsx(Ot,{size:16})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-purple-700 text-sm",children:"  "}),s.jsxs("p",{className:"text-xs text-gray-500",children:[we().length," ",we().length===1?"":we().length<5?"":""]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2.5",children:we().map((J,je)=>ze(J))})]}),h==="tree"&&s.jsx("div",{className:"space-y-2",children:pe(e.).map(J=>ee(J))}),h==="list"&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left p-4 text-[#666] font-semibold",children:""}),s.jsx("th",{className:"text-left p-4 text-[#666] font-semibold",children:""}),s.jsx("th",{className:"text-left p-4 text-[#666] font-semibold",children:""}),s.jsx("th",{className:"text-right p-4 text-[#666] font-semibold",children:""}),s.jsx("th",{className:"text-left p-4 text-[#666] font-semibold",children:""})]})}),s.jsx("tbody",{children:r.map((J,je)=>{const Ae=M(J.||null);return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-[#F7FAFC] transition-colors cursor-pointer",onClick:()=>N(J.id),children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-10 h-10 ${L(J.||1)} rounded-lg flex items-center justify-center ${U(J.||1)} shadow-sm`,children:s.jsx("span",{className:"font-bold text-sm",children:J..charAt(0).toUpperCase()})}),s.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 ${Ae.color} rounded-full border-2 border-white animate-pulse`})]}),s.jsxs("span",{className:"text-[#1E1E1E] font-semibold",children:[J.," ",J.]})]})}),s.jsx("td",{className:"p-4",children:s.jsxs(Qe,{className:`${C(J.||1)} border`,children:[" ",J.||1]})}),s.jsx("td",{className:"p-4",children:s.jsx("code",{className:"text-[#666] bg-gray-100 px-3 py-1 rounded-lg text-xs",children:J.})}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("span",{className:"text-[#1E1E1E] font-bold",children:[(J.||0).toLocaleString("ru-RU"),""]})}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"text-sm text-[#666]",children:[Ae.dot," ",Ae.label]})})]},J.id)})})]})}),h==="top"&&s.jsx("div",{className:"space-y-4",children:xe().map((J,je)=>{const Ae=M(J.||null);return s.jsxs("div",{className:"flex items-center gap-4 p-5 bg-[#F7FAFC] rounded-2xl hover:shadow-md transition-all cursor-pointer",onClick:()=>N(J.id),children:[s.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg ${je===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":je===1?"bg-gradient-to-br from-gray-300 to-gray-500":je===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6]"}`,children:je+1}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-12 h-12 ${L(J.||1)} rounded-lg flex items-center justify-center ${U(J.||1)} shadow-sm`,children:s.jsx("span",{className:"font-bold",children:J..charAt(0).toUpperCase()})}),s.jsx("div",{className:`absolute -top-1 -right-1 w-3.5 h-3.5 ${Ae.color} rounded-full border-2 border-white`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("p",{className:"text-[#1E1E1E] font-bold truncate",children:[J.," ",J.]}),s.jsxs(Qe,{className:`${C(J.||1)} border text-xs`,children:[" ",J.||1]})]}),s.jsxs("div",{className:"text-[#666] text-sm",children:[J.,"  ",Ae.dot," ",Ae.label]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"text-[#1E1E1E] font-bold text-xl mb-1",children:[(J.||0).toLocaleString("ru-RU"),""]}),s.jsxs("div",{className:"flex items-center justify-end gap-1 text-[#12C9B6] text-sm",children:[s.jsx($t,{size:14}),s.jsxs("span",{className:"font-semibold",children:["-",je+1]})]})]})]},J.id)})})]})]})})]})}),v&&s.jsx(q_e,{userId:v,onClose:()=>N(null)}),s.jsx(Er,{open:k,onOpenChange:_,children:s.jsxs(vr,{className:"max-w-2xl",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:" "}),s.jsx(kr,{children:"      "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Oe,{htmlFor:"message",children:""}),s.jsx(eo,{id:"message",value:A,onChange:J=>T(J.target.value),className:"h-40"}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ie,{variant:"outline",onClick:()=>_(!1),children:""}),s.jsxs(ie,{onClick:V,className:"bg-[#39B7FF] hover:bg-[#2A9FE8]",children:[s.jsx(rl,{size:16,className:"mr-2"}),""]})]})]})]})})]})}function X_e({currentUser:e}){const t=e?.isAdmin===!0||e?.email==="admin@admin.com"||e?.id==="ceo"||e?.id==="1",[r,n]=w.useState(null),[i,a]=w.useState([]),[o,l]=w.useState(!0),[c,d]=w.useState(!1),[h,m]=w.useState(null),[p,x]=w.useState(!1),[b,y]=w.useState(!1),[v,N]=w.useState(null),[j,E]=w.useState("video"),[k,_]=w.useState(""),[A,T]=w.useState(""),[D,q]=w.useState(!1),K=w.useRef(null),[$,H]=w.useState(null),W=[{name:"Droplet",component:Qg,label:""},{name:"Users",component:Ot,label:""},{name:"Award",component:Pn,label:""},{name:"BookOpen",component:Fg,label:""},{name:"TrendingUp",component:$t,label:""},{name:"Play",component:Ib,label:""},{name:"FileText",component:BS,label:""}],[B,M]=w.useState({:"",:"",icon:"Droplet",:"",:"#39B7FF",:[{id:"",title:"",materials:[]}]});w.useEffect(()=>{z()},[]);const z=async()=>{l(!0);try{const te=await V9();te.success&&te.courses&&a(te.courses)}catch(te){console.error("Failed to load courses:",te),Q.error("   ")}finally{l(!1)}},P=()=>{M({:"",:"",icon:"Droplet",:"",:"#39B7FF",:[{id:"",title:"",materials:[]}]})},C=te=>{m(te);const he=te.?.map((we,ze)=>typeof we=="string"?{id:`lesson_${ze}`,title:we,materials:[]}:{id:we.id||`lesson_${ze}`,title:we.title||we,materials:we.materials||[]})||[{id:"",title:"",materials:[]}];M({:te.||"",:te.||"",icon:te.iconName||"Droplet",:te.||"",:te.||"#39B7FF",:he}),d(!0)},L=async()=>{if(p)return;if(!B.||!B.){Q.error("   ");return}const te=B..filter(he=>he.title.trim()!=="");if(te.length===0){Q.error("    ");return}x(!0);try{(await q9({...B,:te,:te.length})).success?(Q.success(" "),d(!1),P(),await z()):Q.error("   ")}catch(he){console.error("Create course error:",he),Q.error("  ")}finally{x(!1)}},U=async()=>{if(!h||p)return;if(!B.||!B.){Q.error("   ");return}const te=B..filter(he=>he.title.trim()!=="");if(te.length===0){Q.error("    ");return}x(!0);try{(await H9(h.id,{...B,:te,:te.length})).success?(Q.success(" "),d(!1),m(null),P(),await z()):Q.error("   ")}catch(he){console.error("Update course error:",he),Q.error("  ")}finally{x(!1)}},R=async te=>{try{(await K9(te)).success?(Q.success(" "),await z()):Q.error("   ")}catch(he){console.error("Delete course error:",he),Q.error("  ")}},I=()=>{M({...B,:[...B.,{id:`lesson_${Date.now()}`,title:"",materials:[]}]})},V=te=>{const he=B..filter((we,ze)=>ze!==te);M({...B,:he.length>0?he:[{id:"",title:"",materials:[]}]})},re=(te,he,we)=>{const ze=[...B.];ze[te][he]=we,M({...B,:ze})},ce=(te,he)=>{if(he==="up"&&te===0||he==="down"&&te===B..length-1)return;const we=[...B.],ze=he==="up"?te-1:te+1;[we[te],we[ze]]=[we[ze],we[te]],M({...B,:we})},me=te=>{const he=W.find(we=>we.name===te);return he?he.component:Qg},ae=te=>{N(te),E("video"),_(""),T(""),y(!0)},ue=te=>{const he=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,we=te.match(he);if(we)return{provider:"youtube",id:we[1]};const ze=/vimeo\.com\/(\d+)/,se=te.match(ze);return se?{provider:"vimeo",id:se[1]}:te.match(/\.(mp4|webm|ogg)$/i)?{provider:"direct",id:te}:null},pe=()=>{if(!k.trim()){Q.error("   ");return}const te=ue(k);if(!te){Q.error("  .  YouTube, Vimeo     MP4");return}const he={id:`material_${Date.now()}`,type:"video",title:A.trim()||" ",url:k,videoProvider:te.provider,uploadedAt:new Date().toISOString()};if(v!==null){const we=[...B.];we[v].materials.push(he),M({...B,:we}),_(""),T(""),y(!1),Q.success(" ")}},ee=async te=>{const he=te.target.files?.[0];if(he){if(he.size>50*1024*1024){Q.error("  .  50MB");return}q(!0);try{const we=await G9(he);if(we.success&&we.url){const ze=he.type.includes("pdf")?"pdf":he.type.includes("image")?"image":"document",se={id:`material_${Date.now()}`,type:ze,title:A.trim()||he.name,url:we.url,fileSize:he.size,uploadedAt:new Date().toISOString()};if(v!==null){const ne=[...B.];ne[v].materials.push(se),M({...B,:ne}),T(""),y(!1),Q.success(" ")}}else Q.error("  ")}catch(we){console.error("File upload error:",we),Q.error("   ")}finally{q(!1),K.current&&(K.current.value="")}}},xe=(te,he)=>{const we=[...B.];we[te].materials=we[te].materials.filter(ze=>ze.id!==he),M({...B,:we}),Q.success(" ")},X=te=>{switch(te){case"video":return VS;case"pdf":return BS;case"image":return iQ;default:return HX}},fe=te=>{if(!te)return"";const he=te/(1024*1024);return he<1?`${(te/1024).toFixed(0)} KB`:`${he.toFixed(1)} MB`},de=te=>te.type!=="video"?te.url:te.videoProvider==="youtube"?`https://www.youtube.com/embed/${ue(te.url)?.id}`:te.videoProvider==="vimeo"?`https://player.vimeo.com/video/${ue(te.url)?.id}`:te.url;return o?s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden flex items-center justify-center min-h-screen",style:{backgroundColor:"#F7FAFC"},children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"})}):s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs("div",{className:"flex items-start justify-between mb-6 lg:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"24px",fontWeight:"700"},children:"  "}),s.jsx("p",{className:"text-[#666]",children:"     "})]}),t&&s.jsxs(ie,{onClick:()=>{m(null),P(),d(!0)},className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] hover:opacity-90",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsx(Se,{className:"border-0 rounded-2xl shadow-sm mb-6 lg:mb-8 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6]",children:s.jsxs(Ee,{className:"p-6 lg:p-8",children:[s.jsx("h2",{className:"text-white mb-3",style:{fontSize:"20px",fontWeight:"700"},children:"    H"}),s.jsx("p",{className:"text-white/90 mb-6 max-w-3xl",children:"   .          ,      ."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-white/20 rounded-xl p-4 backdrop-blur-sm",children:[s.jsx("div",{className:"text-white/80 text-sm",children:" "}),s.jsx("div",{className:"text-white mt-1",style:{fontSize:"28px",fontWeight:"700"},children:i.length})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl p-4 backdrop-blur-sm",children:[s.jsx("div",{className:"text-white/80 text-sm",children:" "}),s.jsx("div",{className:"text-white mt-1",style:{fontSize:"28px",fontWeight:"700"},children:i.reduce((te,he)=>te+(he.||0),0)})]}),s.jsxs("div",{className:"bg-white/20 rounded-xl p-4 backdrop-blur-sm",children:[s.jsx("div",{className:"text-white/80 text-sm",children:" "}),s.jsxs("div",{className:"text-white mt-1",style:{fontSize:"28px",fontWeight:"700"},children:[i.reduce((te,he)=>{const we=parseInt(he.)||0;return te+we},0)," "]})]})]})]})}),s.jsx("div",{className:"grid gap-4 lg:gap-6 mb-8",children:i.length===0?s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"p-12 text-center",children:[s.jsx(Fg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-[#666] mb-4",children:"  "}),t&&s.jsxs(ie,{onClick:()=>{m(null),P(),d(!0)},className:"bg-[#39B7FF]",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"}),"  "]})]})}):i.map(te=>{const he=me(te.iconName||"Droplet");return s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm hover:shadow-md transition-all bg-white",children:s.jsx(Ee,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:te.+"20"},children:s.jsx(he,{size:28,style:{color:te.}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-[#1E1E1E] mb-2",style:{fontSize:"18px",fontWeight:"700"},children:te.}),s.jsx("p",{className:"text-[#666] text-sm mb-4 line-clamp-2",children:te.}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[#666]",children:[s.jsx(Ib,{size:16}),s.jsxs("span",{children:[te.||0," "]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[#666]",children:[s.jsx(Fg,{size:16}),s.jsx("span",{children:te.})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsxs(ie,{className:"bg-[#39B7FF] hover:bg-[#2A9FE8] text-white",style:{fontWeight:"600"},onClick:()=>n(te),children:[s.jsx(Ib,{size:16,className:"mr-2"})," "]}),t&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{variant:"outline",className:"border-amber-500 text-amber-600 hover:bg-amber-50",onClick:()=>C(te),children:s.jsx(hc,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-50",onClick:()=>{confirm(`  "${te.}"?`)&&R(te.id)},children:s.jsx(Un,{className:"w-4 h-4"})})]})]})]})})},te.id)})}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "})}),s.jsx(Ee,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 border border-[#E6E9EE] rounded-xl hover:border-[#39B7FF] transition-all cursor-pointer",children:[s.jsx("div",{className:"text-[#1E1E1E] mb-2",style:{fontWeight:"600",fontSize:"16px"},children:" "}),s.jsx("p",{className:"text-[#666] text-sm",children:"       ."})]}),s.jsxs("div",{className:"p-4 border border-[#E6E9EE] rounded-xl hover:border-[#39B7FF] transition-all cursor-pointer",children:[s.jsx("div",{className:"text-[#1E1E1E] mb-2",style:{fontWeight:"600",fontSize:"16px"},children:" "}),s.jsx("p",{className:"text-[#666] text-sm",children:"  ,    ."})]}),s.jsxs("div",{className:"p-4 border border-[#E6E9EE] rounded-xl hover:border-[#39B7FF] transition-all cursor-pointer",children:[s.jsx("div",{className:"text-[#1E1E1E] mb-2",style:{fontWeight:"600",fontSize:"16px"},children:"FAQ  "}),s.jsx("p",{className:"text-[#666] text-sm",children:"     ."})]})]})})]}),s.jsx(Er,{open:!!r,onOpenChange:()=>n(null),children:s.jsxs(vr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsx(yr,{className:"text-[#1E1E1E] flex items-center gap-3",children:r&&(()=>{const te=me(r.iconName||"Droplet");return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:r.+"20"},children:s.jsx(te,{size:20,style:{color:r.}})}),r.]})})()}),s.jsx(kr,{children:"        ."})]}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-[#666]",children:r.}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#1E1E1E] mb-3",style:{fontWeight:"600"},children:" :"}),s.jsx("div",{className:"space-y-3",children:r.?.map((te,he)=>{const we=typeof te=="string"?te:te.title,ze=typeof te=="object"?te.materials||[]:[];return s.jsxs("div",{className:"border border-[#E6E9EE] rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#F7FAFC]",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:r.+"20"},children:s.jsx("span",{style:{color:r.,fontWeight:"700"},children:he+1})}),s.jsx("span",{className:"text-[#1E1E1E] flex-1",style:{fontWeight:"500"},children:we}),ze.length>0&&s.jsxs("span",{className:"text-xs text-[#666] bg-white px-2 py-1 rounded-full",children:[ze.length," ",ze.length>1?"":""]})]}),ze.length>0&&s.jsx("div",{className:"p-4 space-y-2",children:ze.map(se=>{const ne=X(se.type);return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-[#E6E9EE] rounded-lg hover:border-[#39B7FF] transition-all cursor-pointer",onClick:()=>H(se),children:[s.jsx(ne,{size:20,className:"text-[#39B7FF]"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-[#1E1E1E] truncate",children:se.title}),se.fileSize&&s.jsx("div",{className:"text-xs text-[#666]",children:fe(se.fileSize)})]}),s.jsx(qu,{size:16,className:"text-[#666]"})]},se.id)})})]},he)})})]})]})]})}),s.jsx(Er,{open:!!$,onOpenChange:()=>H(null),children:s.jsxs(vr,{className:"max-w-5xl max-h-[90vh]",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:$?.title}),s.jsx(kr,{children:"  "})]}),$&&s.jsxs("div",{className:"space-y-4",children:[$.type==="video"&&s.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:s.jsx("iframe",{src:de($),className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),$.type==="image"&&s.jsx("div",{className:"rounded-lg overflow-hidden",children:s.jsx("img",{src:$.url,alt:$.title,className:"w-full h-auto"})}),$.type==="pdf"&&s.jsx("div",{className:"aspect-[4/3] bg-gray-100 rounded-lg overflow-hidden",children:s.jsx("iframe",{src:$.url,className:"w-full h-full"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{asChild:!0,className:"bg-[#39B7FF]",children:s.jsxs("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Q$,{className:"w-4 h-4 mr-2"}),"   "]})}),$.type!=="video"&&s.jsx(ie,{asChild:!0,variant:"outline",children:s.jsxs("a",{href:$.url,download:!0,children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),""]})})]})]})]})}),t&&s.jsx(Er,{open:c,onOpenChange:te=>{d(te),te||(m(null),P(),x(!1))},children:s.jsxs(vr,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:h?" ":" "}),s.jsx(kr,{children:h?"   ":"     "})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:"  *"}),s.jsx(Ie,{value:B.,onChange:te=>M({...B,:te.target.value}),placeholder:":   "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:"  *"}),s.jsx(eo,{value:B.,onChange:te=>M({...B,:te.target.value}),placeholder:"     ",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx("select",{value:B.icon,onChange:te=>M({...B,icon:te.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg",children:W.map(te=>s.jsx("option",{value:te.name,children:te.label},te.name))})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(Ie,{value:B.,onChange:te=>M({...B,:te.target.value}),placeholder:"45 "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{type:"color",value:B.,onChange:te=>M({...B,:te.target.value}),className:"w-16 h-10"}),s.jsx(Ie,{value:B.,onChange:te=>M({...B,:te.target.value}),placeholder:"#39B7FF",className:"flex-1"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Oe,{children:"  *"}),s.jsxs(ie,{type:"button",size:"sm",variant:"outline",onClick:I,className:"text-[#39B7FF] border-[#39B7FF]",children:[s.jsx(Ua,{className:"w-4 h-4 mr-1"})," "]})]}),s.jsx("div",{className:"space-y-3",children:B..map((te,he)=>s.jsxs("div",{className:"border border-[#E6E9EE] rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-10 flex items-center justify-center bg-[#F7FAFC] rounded-lg",children:s.jsx("span",{className:"text-[#666] font-semibold",children:he+1})}),s.jsx(Ie,{value:te.title,onChange:we=>re(he,"title",we.target.value),placeholder:`  ${he+1}`,className:"flex-1"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ie,{type:"button",size:"sm",variant:"outline",onClick:()=>ce(he,"up"),disabled:he===0,className:"px-2",children:s.jsx(lX,{className:"w-4 h-4"})}),s.jsx(ie,{type:"button",size:"sm",variant:"outline",onClick:()=>ce(he,"down"),disabled:he===B..length-1,className:"px-2",children:s.jsx(tX,{className:"w-4 h-4"})}),s.jsx(ie,{type:"button",size:"sm",variant:"outline",onClick:()=>V(he),disabled:B..length===1,className:"border-red-300 text-red-600 hover:bg-red-50 px-2",children:s.jsx(Un,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"pl-10",children:[te.materials.length>0&&s.jsx("div",{className:"space-y-2 mb-2",children:te.materials.map(we=>{const ze=X(we.type);return s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-[#F7FAFC] rounded-lg text-sm",children:[s.jsx(ze,{size:16,className:"text-[#39B7FF]"}),s.jsx("span",{className:"flex-1 truncate",children:we.title}),s.jsx(ie,{type:"button",size:"sm",variant:"ghost",onClick:()=>xe(he,we.id),className:"h-6 w-6 p-0 text-red-500",children:s.jsx(Mr,{className:"w-4 h-4"})})]},we.id)})}),s.jsxs(ie,{type:"button",size:"sm",variant:"outline",onClick:()=>ae(he),className:"w-full border-dashed",children:[s.jsx(Ua,{className:"w-4 h-4 mr-1"})," "]})]})]},he))}),s.jsxs("p",{className:"text-sm text-[#666] mt-2",children:[" : ",B..filter(te=>te.title.trim()!=="").length]})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsxs(ie,{type:"button",onClick:h?U:L,className:"bg-[#39B7FF]",disabled:p,children:[p?s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Ku,{className:"w-4 h-4 mr-2"}),p?"...":h?"":""]}),s.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{d(!1),m(null),P()},disabled:p,children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),""]})]})]})]})}),t&&s.jsx(Er,{open:b,onOpenChange:y,children:s.jsxs(vr,{className:"max-w-2xl","aria-describedby":"add-material-description",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:"   "}),s.jsx(kr,{id:"add-material-description",children:" , PDF,    "})]}),s.jsxs(Ni,{value:j,onValueChange:te=>E(te),children:[s.jsxs(Si,{className:"grid w-full grid-cols-2",children:[s.jsxs(Dt,{value:"video",children:[s.jsx(VS,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"file",children:[s.jsx(e9,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsxs(Vt,{value:"video",className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:" "}),s.jsx(Ie,{value:A,onChange:te=>T(te.target.value),placeholder:":   "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:"  "}),s.jsx(Ie,{value:k,onChange:te=>_(te.target.value),placeholder:"https://youtube.com/watch?v=...  https://vimeo.com/..."}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:": YouTube, Vimeo,    MP4"})]}),s.jsxs(ie,{onClick:pe,className:"w-full bg-[#39B7FF]",children:[s.jsx(N_,{className:"w-4 h-4 mr-2"})," "]})]}),s.jsxs(Vt,{value:"file",className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:" "}),s.jsx(Ie,{value:A,onChange:te=>T(te.target.value),placeholder:":  "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" "}),s.jsx("input",{ref:K,type:"file",onChange:ee,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.mp4,.webm",className:"w-full p-2 border border-gray-300 rounded-lg",disabled:D}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:"PDF, ,  (. 50MB)"})]}),D&&s.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 bg-[#F7FAFC] rounded-lg",children:[s.jsx(Ut,{className:"w-5 h-5 animate-spin text-[#39B7FF]"}),s.jsx("span",{className:"text-[#666]",children:" ..."})]})]})]})]})})]})}function Q_e(e,t=[]){let r=[];function n(a,o){const l=w.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const d=m=>{const{scope:p,children:x,...b}=m,y=p?.[e]?.[c]||l,v=w.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:v,children:x})};d.displayName=a+"Provider";function h(m,p){const x=p?.[e]?.[c]||l,b=w.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=l?.[e]||a;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,J_e(i,...t)]}function J_e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Z_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pA=Z_e.reduce((e,t)=>{const r=_v(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mS={exports:{}},pS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PF;function eCe(){if(PF)return pS;PF=1;var e=Ev();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(m,p){var x=p(),b=n({inst:{value:x,getSnapshot:p}}),y=b[0].inst,v=b[1];return a(function(){y.value=x,y.getSnapshot=p,c(y)&&v({inst:y})},[m,x,p]),i(function(){return c(y)&&v({inst:y}),m(function(){c(y)&&v({inst:y})})},[m]),o(x),x}function c(m){var p=m.getSnapshot;m=m.value;try{var x=p();return!r(m,x)}catch{return!0}}function d(m,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return pS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,pS}var OF;function tCe(){return OF||(OF=1,mS.exports=eCe()),mS.exports}var rCe=tCe();function nCe(){return rCe.useSyncExternalStore(sCe,()=>!0,()=>!1)}function sCe(){return()=>{}}var gA="Avatar",[iCe]=Q_e(gA),[aCe,Lq]=iCe(gA),Bq=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=w.useState("idle");return s.jsx(aCe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(pA.span,{...n,ref:t})})});Bq.displayName=gA;var zq="AvatarImage",Wq=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=Lq(zq,r),l=oCe(n,a),c=Ki(d=>{i(d),o.onImageLoadingStatusChange(d)});return Qr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(pA.img,{...a,ref:t,src:n}):null});Wq.displayName=zq;var Uq="AvatarFallback",Vq=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=Lq(Uq,r),[o,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(pA.span,{...i,ref:t}):null});Vq.displayName=Uq;function TF(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oCe(e,{referrerPolicy:t,crossOrigin:r}){const n=nCe(),i=w.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=w.useState(()=>TF(a,e));return Qr(()=>{l(TF(a,e))},[a,e]),Qr(()=>{const c=m=>()=>{l(m)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,r,t]),o}var lCe=Bq,cCe=Wq,uCe=Vq;function dCe({className:e,...t}){return s.jsx(lCe,{"data-slot":"avatar",className:ut("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function hCe({className:e,...t}){return s.jsx(cCe,{"data-slot":"avatar-image",className:ut("aspect-square size-full",e),...t})}function fCe({className:e,...t}){return s.jsx(uCe,{"data-slot":"avatar-fallback",className:ut("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}function mCe(e){const t=pCe(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,l=w.Children.toArray(a),c=l.find(xCe);if(c){const d=c.props.children,h=l.map(m=>m===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:w.isValidElement(d)?w.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function pCe(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=yCe(i),l=vCe(a,i.props);return i.type!==w.Fragment&&(l.ref=n?Na(n,o):o),w.cloneElement(i,l)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gCe=Symbol("radix.slottable");function xCe(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gCe}function vCe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function yCe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var W0="Popover",[qq]=ls(W0,[ll]),Wm=ll(),[bCe,vl]=qq(W0),Hq=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Wm(t),c=w.useRef(null),[d,h]=w.useState(!1),[m,p]=Os({prop:n,defaultProp:i??!1,onChange:a,caller:W0});return s.jsx(Vv,{...l,children:s.jsx(bCe,{scope:t,contentId:As(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(x=>!x),[p]),hasCustomAnchor:d,onCustomAnchorAdd:w.useCallback(()=>h(!0),[]),onCustomAnchorRemove:w.useCallback(()=>h(!1),[]),modal:o,children:r})})};Hq.displayName=W0;var Kq="PopoverAnchor",wCe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=vl(Kq,r),a=Wm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return w.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Sm,{...a,...n,ref:t})});wCe.displayName=Kq;var Gq="PopoverTrigger",Yq=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=vl(Gq,r),a=Wm(r),o=Mt(t,i.triggerRef),l=s.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eH(i.open),...n,ref:o,onClick:Je(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Sm,{asChild:!0,...a,children:l})});Yq.displayName=Gq;var xA="PopoverPortal",[jCe,NCe]=qq(xA,{forceMount:void 0}),Xq=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=vl(xA,t);return s.jsx(jCe,{scope:t,forceMount:r,children:s.jsx(cs,{present:r||a.open,children:s.jsx(Td,{asChild:!0,container:i,children:n})})})};Xq.displayName=xA;var Nd="PopoverContent",Qq=w.forwardRef((e,t)=>{const r=NCe(Nd,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=vl(Nd,e.__scopePopover);return s.jsx(cs,{present:n||a.open,children:a.modal?s.jsx(ECe,{...i,ref:t}):s.jsx(_Ce,{...i,ref:t})})});Qq.displayName=Nd;var SCe=mCe("PopoverContent.RemoveScroll"),ECe=w.forwardRef((e,t)=>{const r=vl(Nd,e.__scopePopover),n=w.useRef(null),i=Mt(t,n),a=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return Mv(o)},[]),s.jsx(bm,{as:SCe,allowPinchZoom:!0,children:s.jsx(Jq,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(e.onCloseAutoFocus,o=>{o.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Je(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),_Ce=w.forwardRef((e,t)=>{const r=vl(Nd,e.__scopePopover),n=w.useRef(!1),i=w.useRef(!1);return s.jsx(Jq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Jq=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...m}=e,p=vl(Nd,r),x=Wm(r);return Ov(),s.jsx(ym,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Od,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(qv,{"data-state":eH(p.open),role:"dialog",id:p.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Zq="PopoverClose",CCe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=vl(Zq,r);return s.jsx(xt.button,{type:"button",...n,ref:t,onClick:Je(e.onClick,()=>i.onOpenChange(!1))})});CCe.displayName=Zq;var kCe="PopoverArrow",ACe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Wm(r);return s.jsx(Hv,{...i,...n,ref:t})});ACe.displayName=kCe;function eH(e){return e?"open":"closed"}var PCe=Hq,OCe=Yq,TCe=Xq,RCe=Qq;function MCe({...e}){return s.jsx(PCe,{"data-slot":"popover",...e})}function ICe({...e}){return s.jsx(OCe,{"data-slot":"popover-trigger",...e})}function DCe({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(TCe,{children:s.jsx(RCe,{"data-slot":"popover-content",align:t,sideOffset:r,className:ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function Yt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ri(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function es(e,t){const r=Yt(e);return isNaN(t)?ri(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Xi(e,t){const r=Yt(e);if(isNaN(t))return ri(e,NaN);if(!t)return r;const n=r.getDate(),i=ri(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const vA=6048e5,FCe=864e5;let $Ce={};function Um(){return $Ce}function _i(e,t){const r=Um(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Yt(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Sc(e){return _i(e,{weekStartsOn:1})}function tH(e){const t=Yt(e),r=t.getFullYear(),n=ri(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Sc(n),a=ri(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Sc(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Sd(e){const t=Yt(e);return t.setHours(0,0,0,0),t}function bv(e){const t=Yt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ha(e,t){const r=Sd(e),n=Sd(t),i=+r-bv(r),a=+n-bv(n);return Math.round((i-a)/FCe)}function LCe(e){const t=tH(e),r=ri(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Sc(r)}function r_(e,t){const r=t*7;return es(e,r)}function BCe(e,t){return Xi(e,t*12)}function zCe(e){let t;return e.forEach(function(r){const n=Yt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function WCe(e){let t;return e.forEach(r=>{const n=Yt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Cs(e,t){const r=Sd(e),n=Sd(t);return+r==+n}function yA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UCe(e){if(!yA(e)&&typeof e!="number")return!1;const t=Yt(e);return!isNaN(Number(t))}function hm(e,t){const r=Yt(e),n=Yt(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function VCe(e,t,r){const n=_i(e,r),i=_i(t,r),a=+n-bv(n),o=+i-bv(i);return Math.round((a-o)/vA)}function bA(e){const t=Yt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ps(e){const t=Yt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function rH(e){const t=Yt(e),r=ri(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function wA(e,t){const r=Um(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Yt(e),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function nH(e){return wA(e,{weekStartsOn:1})}const qCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},HCe=(e,t,r)=>{let n;const i=qCe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Uu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const KCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XCe={date:Uu({formats:KCe,defaultWidth:"full"}),time:Uu({formats:GCe,defaultWidth:"full"}),dateTime:Uu({formats:YCe,defaultWidth:"full"})},QCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JCe=(e,t,r,n)=>QCe[e];function oa(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const ZCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ske={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ike=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ake={ordinalNumber:ike,era:oa({values:ZCe,defaultWidth:"wide"}),quarter:oa({values:eke,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oa({values:tke,defaultWidth:"wide"}),day:oa({values:rke,defaultWidth:"wide"}),dayPeriod:oa({values:nke,defaultWidth:"wide",formattingValues:ske,defaultFormattingWidth:"wide"})};function la(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lke(l,m=>m.test(o)):oke(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function oke(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lke(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const cke=/^(\d+)(th|st|nd|rd)?/i,uke=/\d+/i,dke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hke={any:[/^b/i,/^(a|c)/i]},fke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mke={any:[/1/i,/2/i,/3/i,/4/i]},pke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wke={ordinalNumber:sH({matchPattern:cke,parsePattern:uke,valueCallback:e=>parseInt(e,10)}),era:la({matchPatterns:dke,defaultMatchWidth:"wide",parsePatterns:hke,defaultParseWidth:"any"}),quarter:la({matchPatterns:fke,defaultMatchWidth:"wide",parsePatterns:mke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:la({matchPatterns:pke,defaultMatchWidth:"wide",parsePatterns:gke,defaultParseWidth:"any"}),day:la({matchPatterns:xke,defaultMatchWidth:"wide",parsePatterns:vke,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:yke,defaultMatchWidth:"any",parsePatterns:bke,defaultParseWidth:"any"})},iH={code:"en-US",formatDistance:HCe,formatLong:XCe,formatRelative:JCe,localize:ake,match:wke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jke(e){const t=Yt(e);return ha(t,rH(t))+1}function aH(e){const t=Yt(e),r=+Sc(t)-+LCe(t);return Math.round(r/vA)+1}function oH(e,t){const r=Yt(e),n=r.getFullYear(),i=Um(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=ri(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=_i(o,t),c=ri(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=_i(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Nke(e,t){const r=Um(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=oH(e,t),a=ri(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),_i(a,t)}function lH(e,t){const r=Yt(e),n=+_i(r,t)-+Nke(r,t);return Math.round(n/vA)+1}function or(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Mo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return or(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):or(r+1,2)},d(e,t){return or(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return or(e.getHours()%12||12,t.length)},H(e,t){return or(e.getHours(),t.length)},m(e,t){return or(e.getMinutes(),t.length)},s(e,t){return or(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return or(i,t.length)}},fu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RF={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Mo.y(e,t)},Y:function(e,t,r,n){const i=oH(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return or(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):or(a,t.length)},R:function(e,t){const r=tH(e);return or(r,t.length)},u:function(e,t){const r=e.getFullYear();return or(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return or(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return or(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Mo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return or(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=lH(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):or(i,t.length)},I:function(e,t,r){const n=aH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):or(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Mo.d(e,t)},D:function(e,t,r){const n=jke(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):or(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return or(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return or(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return or(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=fu.noon:n===0?i=fu.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=fu.evening:n>=12?i=fu.afternoon:n>=4?i=fu.morning:i=fu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Mo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Mo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):or(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):or(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Mo.s(e,t)},S:function(e,t){return Mo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return IF(n);case"XXXX":case"XX":return Vl(n);case"XXXXX":case"XXX":default:return Vl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return IF(n);case"xxxx":case"xx":return Vl(n);case"xxxxx":case"xxx":default:return Vl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+MF(n,":");case"OOOO":default:return"GMT"+Vl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+MF(n,":");case"zzzz":default:return"GMT"+Vl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return or(n,t.length)},T:function(e,t,r){const n=e.getTime();return or(n,t.length)}};function MF(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+or(a,2)}function IF(e,t){return e%60===0?(e>0?"-":"+")+or(Math.abs(e)/60,2):Vl(e,t)}function Vl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=or(Math.trunc(n/60),2),a=or(n%60,2);return r+i+t+a}const DF=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cH=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ske=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return DF(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",DF(n,t)).replace("{{time}}",cH(i,t))},Eke={p:cH,P:Ske},_ke=/^D+$/,Cke=/^Y+$/,kke=["D","DD","YY","YYYY"];function Ake(e){return _ke.test(e)}function Pke(e){return Cke.test(e)}function Oke(e,t,r){const n=Tke(e,t,r);if(console.warn(n),kke.includes(e))throw new RangeError(n)}function Tke(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ike=/^'([^]*?)'?$/,Dke=/''/g,Fke=/[a-zA-Z]/;function ws(e,t,r){const n=Um(),i=r?.locale??n.locale??iH,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Yt(e);if(!UCe(l))throw new RangeError("Invalid time value");let c=t.match(Mke).map(h=>{const m=h[0];if(m==="p"||m==="P"){const p=Eke[m];return p(h,i.formatLong)}return h}).join("").match(Rke).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:$ke(h)};if(RF[m])return{isToken:!0,value:h};if(m.match(Fke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(h=>{if(!h.isToken)return h.value;const m=h.value;(!r?.useAdditionalWeekYearTokens&&Pke(m)||!r?.useAdditionalDayOfYearTokens&&Ake(m))&&Oke(m,t,String(e));const p=RF[m[0]];return p(l,m,i.localize,d)}).join("")}function $ke(e){const t=e.match(Ike);return t?t[1].replace(Dke,"'"):e}function Lke(e){const t=Yt(e),r=t.getFullYear(),n=t.getMonth(),i=ri(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Bke(e){return Math.trunc(+Yt(e)/1e3)}function zke(e){const t=Yt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Wke(e,t){return VCe(zke(e),Ps(e),t)+1}function n_(e,t){const r=Yt(e),n=Yt(t);return r.getTime()>n.getTime()}function uH(e,t){const r=Yt(e),n=Yt(t);return+r<+n}function FF(e,t,r){const n=_i(e,r),i=_i(t,r);return+n==+i}function jA(e,t){const r=Yt(e),n=Yt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Uke(e,t){const r=Yt(e),n=Yt(t);return r.getFullYear()===n.getFullYear()}function gS(e,t){return es(e,-t)}function xS(e,t){const r=Yt(e),n=r.getFullYear(),i=r.getDate(),a=ri(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=Lke(a);return r.setMonth(t,Math.min(i,o)),r}function $F(e,t){const r=Yt(e);return isNaN(+r)?ri(e,NaN):(r.setFullYear(t),r)}function Vh(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,n=t%100;return r===1&&n!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(n<10||n>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Zn(e){return(t,r)=>r?.addSuffix?r.comparison&&r.comparison>0?e.future?Vh(e.future,t):" "+Vh(e.regular,t):e.past?Vh(e.past,t):Vh(e.regular,t)+" ":Vh(e.regular,t)}const Vke={lessThanXSeconds:Zn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t?.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:Zn({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Zn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:Zn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Zn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Zn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Zn({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Zn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Zn({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},qke=(e,t,r)=>Vke[e](t,r),Hke={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},Kke={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Gke={any:"{{date}}, {{time}}"},Yke={date:Uu({formats:Hke,defaultWidth:"full"}),time:Uu({formats:Kke,defaultWidth:"full"}),dateTime:Uu({formats:Gke,defaultWidth:"any"})},NA=["","","","","","",""];function Xke(e){const t=NA[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function LF(e){const t=NA[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function Qke(e){const t=NA[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const Jke={lastWeek:(e,t,r)=>{const n=e.getDay();return FF(e,t,r)?LF(n):Xke(n)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,r)=>{const n=e.getDay();return FF(e,t,r)?LF(n):Qke(n)},other:"P"},Zke=(e,t,r,n)=>{const i=Jke[e];return typeof i=="function"?i(t,r,n):i},eAe={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},tAe={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},rAe={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},nAe={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},sAe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},iAe={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},aAe={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},oAe=(e,t)=>{const r=Number(e),n=t?.unit;let i;return n==="date"?i="-":n==="week"||n==="minute"||n==="second"?i="-":i="-",r+i},lAe={ordinalNumber:oAe,era:oa({values:eAe,defaultWidth:"wide"}),quarter:oa({values:tAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:oa({values:rAe,defaultWidth:"wide",formattingValues:nAe,defaultFormattingWidth:"wide"}),day:oa({values:sAe,defaultWidth:"wide"}),dayPeriod:oa({values:iAe,defaultWidth:"any",formattingValues:aAe,defaultFormattingWidth:"wide"})},cAe=/^(\d+)(-?(||||||||||))?/i,uAe=/\d+/i,dAe={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},hAe={any:[/^/i,/^/i]},fAe={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},mAe={any:[/1/i,/2/i,/3/i,/4/i]},pAe={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},gAe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},xAe={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},vAe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},yAe={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},bAe={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},wAe={ordinalNumber:sH({matchPattern:cAe,parsePattern:uAe,valueCallback:e=>parseInt(e,10)}),era:la({matchPatterns:dAe,defaultMatchWidth:"wide",parsePatterns:hAe,defaultParseWidth:"any"}),quarter:la({matchPatterns:fAe,defaultMatchWidth:"wide",parsePatterns:mAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:la({matchPatterns:pAe,defaultMatchWidth:"wide",parsePatterns:gAe,defaultParseWidth:"any"}),day:la({matchPatterns:xAe,defaultMatchWidth:"wide",parsePatterns:vAe,defaultParseWidth:"any"}),dayPeriod:la({matchPatterns:yAe,defaultMatchWidth:"wide",parsePatterns:bAe,defaultParseWidth:"any"})},jAe={code:"ru",formatDistance:qke,formatLong:Yke,formatRelative:Zke,localize:lAe,match:wAe,options:{weekStartsOn:1,firstWeekContainsDate:1}};var kt=function(){return kt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},kt.apply(this,arguments)};function NAe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function dH(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Vm(e){return e.mode==="multiple"}function qm(e){return e.mode==="range"}function U0(e){return e.mode==="single"}var SAe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function EAe(e,t){return ws(e,"LLLL y",t)}function _Ae(e,t){return ws(e,"d",t)}function CAe(e,t){return ws(e,"LLLL",t)}function kAe(e){return"".concat(e)}function AAe(e,t){return ws(e,"cccccc",t)}function PAe(e,t){return ws(e,"yyyy",t)}var OAe=Object.freeze({__proto__:null,formatCaption:EAe,formatDay:_Ae,formatMonthCaption:CAe,formatWeekNumber:kAe,formatWeekdayName:AAe,formatYearCaption:PAe}),TAe=function(e,t,r){return ws(e,"do MMMM (EEEE)",r)},RAe=function(){return"Month: "},MAe=function(){return"Go to next month"},IAe=function(){return"Go to previous month"},DAe=function(e,t){return ws(e,"cccc",t)},FAe=function(e){return"Week n. ".concat(e)},$Ae=function(){return"Year: "},LAe=Object.freeze({__proto__:null,labelDay:TAe,labelMonthDropdown:RAe,labelNext:MAe,labelPrevious:IAe,labelWeekNumber:FAe,labelWeekday:DAe,labelYearDropdown:$Ae});function BAe(){var e="buttons",t=SAe,r=iH,n={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:OAe,labels:LAe,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function zAe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=Ps(n):t&&(a=new Date(t,0,1)),i?o=bA(i):r&&(o=new Date(r,11,31)),{fromDate:a?Sd(a):void 0,toDate:o?Sd(o):void 0}}var hH=w.createContext(void 0);function WAe(e){var t,r=e.initialProps,n=BAe(),i=zAe(r),a=i.fromDate,o=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(U0(r)||Vm(r)||qm(r))&&(c=r.onSelect);var d=kt(kt(kt({},n),r),{captionLayout:l,classNames:kt(kt({},n.classNames),r.classNames),components:kt({},r.components),formatters:kt(kt({},n.formatters),r.formatters),fromDate:a,labels:kt(kt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:kt(kt({},n.modifiers),r.modifiers),modifiersClassNames:kt(kt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:kt(kt({},n.styles),r.styles),toDate:o});return s.jsx(hH.Provider,{value:d,children:e.children})}function br(){var e=w.useContext(hH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function fH(e){var t=br(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function UAe(e){return s.jsx("svg",kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mH(e){var t,r,n=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,d=br(),h=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:UAe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:n,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function VAe(e){var t,r=br(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,h=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var m=[];if(Uke(n,i))for(var p=Ps(n),x=n.getMonth();x<=i.getMonth();x++)m.push(xS(p,x));else for(var p=Ps(new Date),x=0;x<=11;x++)m.push(xS(p,x));var b=function(v){var N=Number(v.target.value),j=xS(Ps(e.displayMonth),N);e.onChange(j)},y=(t=d?.Dropdown)!==null&&t!==void 0?t:mH;return s.jsx(y,{name:"months","aria-label":h(),className:c.dropdown_month,style:a.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function qAe(e){var t,r=e.displayMonth,n=br(),i=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,h=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,p=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var x=i.getFullYear(),b=a.getFullYear(),y=x;y<=b;y++)p.push($F(rH(new Date),y));var v=function(j){var E=$F(Ps(r),Number(j.target.value));e.onChange(E)},N=(t=d?.Dropdown)!==null&&t!==void 0?t:mH;return s.jsx(N,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:h(r,{locale:o}),children:p.map(function(j){return s.jsx("option",{value:j.getFullYear(),children:h(j,{locale:o})},j.getFullYear())})})}function HAe(e,t){var r=w.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function KAe(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&hm(a,i)<0){var d=-1*(c-1);i=Xi(a,d)}return o&&hm(i,o)<0&&(i=o),Ps(i)}function GAe(){var e=br(),t=KAe(e),r=HAe(t,e.month),n=r[0],i=r[1],a=function(o){var l;if(!e.disableNavigation){var c=Ps(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function YAe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=Ps(e),a=Ps(Xi(i,n)),o=hm(a,i),l=[],c=0;c<o;c++){var d=Xi(i,c);l.push(d)}return r&&(l=l.reverse()),l}function XAe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=Ps(e);if(!r)return Xi(l,o);var c=hm(r,e);if(!(c<a))return Xi(l,o)}}function QAe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=Ps(e);if(!r)return Xi(l,-o);var c=hm(l,r);if(!(c<=0))return Xi(l,-o)}}var pH=w.createContext(void 0);function JAe(e){var t=br(),r=GAe(),n=r[0],i=r[1],a=YAe(n,t),o=XAe(n,t),l=QAe(n,t),c=function(m){return a.some(function(p){return jA(m,p)})},d=function(m,p){c(m)||(p&&uH(m,p)?i(Xi(m,1+t.numberOfMonths*-1)):i(m))},h={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(pH.Provider,{value:h,children:e.children})}function Hm(){var e=w.useContext(pH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function BF(e){var t,r=br(),n=r.classNames,i=r.styles,a=r.components,o=Hm().goToMonth,l=function(h){o(Xi(h,e.displayIndex?-e.displayIndex:0))},c=(t=a?.CaptionLabel)!==null&&t!==void 0?t:fH,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(VAe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(qAe,{onChange:l,displayMonth:e.displayMonth})]})}function ZAe(e){return s.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ePe(e){return s.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var wv=w.forwardRef(function(e,t){var r=br(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=kt(kt({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",kt({},e,{ref:t,type:"button",className:o,style:l}))});function tPe(e){var t,r,n=br(),i=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,h=c.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var p=d(e.previousMonth,{locale:a}),x=[o.nav_button,o.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:a}),y=[o.nav_button,o.nav_button_next].join(" "),v=(t=m?.IconRight)!==null&&t!==void 0?t:ePe,N=(r=m?.IconLeft)!==null&&r!==void 0?r:ZAe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(wv,{name:"previous-month","aria-label":p,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(wv,{name:"next-month","aria-label":b,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function zF(e){var t=br().numberOfMonths,r=Hm(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return jA(e.displayMonth,b)}),c=l===0,d=l===o.length-1,h=t>1&&(c||!d),m=t>1&&(d||!c),p=function(){n&&a(n)},x=function(){i&&a(i)};return s.jsx(tPe,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:i,previousMonth:n,onPreviousClick:p,onNextClick:x})}function rPe(e){var t,r=br(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:fH,d;return i?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(BF,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(BF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(zF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(zF,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:d})}function nPe(e){var t=br(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?s.jsx("tfoot",{className:i,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function sPe(e,t,r){for(var n=r?Sc(new Date):_i(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=es(n,a);i.push(o)}return i}function iPe(){var e=br(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=sPe(i,a,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(h,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(h,{locale:i}),children:l(h,{locale:i})},m)})]})}function aPe(){var e,t=br(),r=t.classNames,n=t.styles,i=t.components,a=(e=i?.HeadRow)!==null&&e!==void 0?e:iPe;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function oPe(e){var t=br(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var SA=w.createContext(void 0);function lPe(e){if(!Vm(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(SA.Provider,{value:t,children:e.children})}return s.jsx(cPe,{initialProps:e.initialProps,children:e.children})}function cPe(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,o=function(d,h,m){var p,x;(p=t.onDayClick)===null||p===void 0||p.call(t,d,h,m);var b=!!(h.selected&&i&&n?.length===i);if(!b){var y=!!(!h.selected&&a&&n?.length===a);if(!y){var v=n?dH([],n):[];if(h.selected){var N=v.findIndex(function(j){return Cs(d,j)});v.splice(N,1)}else v.push(d);(x=t.onSelect)===null||x===void 0||x.call(t,v,d,h,m)}}},l={disabled:[]};n&&l.disabled.push(function(d){var h=a&&n.length>a-1,m=n.some(function(p){return Cs(p,d)});return!!(h&&!m)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(SA.Provider,{value:c,children:r})}function EA(){var e=w.useContext(SA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function uPe(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Cs(i,e)&&Cs(n,e)?void 0:Cs(i,e)?{from:i,to:void 0}:Cs(n,e)?void 0:n_(n,e)?{from:e,to:i}:{from:n,to:e}:i?n_(e,i)?{from:i,to:e}:{from:e,to:i}:n?uH(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var _A=w.createContext(void 0);function dPe(e){if(!qm(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(_A.Provider,{value:t,children:e.children})}return s.jsx(hPe,{initialProps:e.initialProps,children:e.children})}function hPe(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,o=i.to,l=t.min,c=t.max,d=function(x,b,y){var v,N;(v=t.onDayClick)===null||v===void 0||v.call(t,x,b,y);var j=uPe(x,n);(N=t.onSelect)===null||N===void 0||N.call(t,j,x,b,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(h.range_start=[a],o?(h.range_end=[o],Cs(a,o)||(h.range_middle=[{after:a,before:o}])):h.range_end=[a]):o&&(h.range_start=[o],h.range_end=[o]),l&&(a&&!o&&h.disabled.push({after:gS(a,l-1),before:es(a,l-1)}),a&&o&&h.disabled.push({after:a,before:es(a,l-1)}),!a&&o&&h.disabled.push({after:gS(o,l-1),before:es(o,l-1)})),c){if(a&&!o&&(h.disabled.push({before:es(a,-c+1)}),h.disabled.push({after:es(a,c-1)})),a&&o){var m=ha(o,a)+1,p=c-m;h.disabled.push({before:gS(a,p)}),h.disabled.push({after:es(o,p)})}!a&&o&&(h.disabled.push({before:es(o,-c+1)}),h.disabled.push({after:es(o,c-1)}))}return s.jsx(_A.Provider,{value:{selected:n,onDayClick:d,modifiers:h},children:r})}function CA(){var e=w.useContext(_A);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Kg(e){return Array.isArray(e)?dH([],e):e!==void 0?[e]:[]}function fPe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=Kg(i)}),t}var Qi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Qi||(Qi={}));var mPe=Qi.Selected,Ba=Qi.Disabled,pPe=Qi.Hidden,gPe=Qi.Today,vS=Qi.RangeEnd,yS=Qi.RangeMiddle,bS=Qi.RangeStart,xPe=Qi.Outside;function vPe(e,t,r){var n,i=(n={},n[mPe]=Kg(e.selected),n[Ba]=Kg(e.disabled),n[pPe]=Kg(e.hidden),n[gPe]=[e.today],n[vS]=[],n[yS]=[],n[bS]=[],n[xPe]=[],n);return e.fromDate&&i[Ba].push({before:e.fromDate}),e.toDate&&i[Ba].push({after:e.toDate}),Vm(e)?i[Ba]=i[Ba].concat(t.modifiers[Ba]):qm(e)&&(i[Ba]=i[Ba].concat(r.modifiers[Ba]),i[bS]=r.modifiers[bS],i[yS]=r.modifiers[yS],i[vS]=r.modifiers[vS]),i}var gH=w.createContext(void 0);function yPe(e){var t=br(),r=EA(),n=CA(),i=vPe(t,r,n),a=fPe(t.modifiers),o=kt(kt({},i),a);return s.jsx(gH.Provider,{value:o,children:e.children})}function xH(){var e=w.useContext(gH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function bPe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function wPe(e){return!!(e&&typeof e=="object"&&"from"in e)}function jPe(e){return!!(e&&typeof e=="object"&&"after"in e)}function NPe(e){return!!(e&&typeof e=="object"&&"before"in e)}function SPe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function EPe(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=ha(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=ha(e,n)>=0&&ha(i,e)>=0;return o}return i?Cs(i,e):n?Cs(n,e):!1}function _Pe(e){return yA(e)}function CPe(e){return Array.isArray(e)&&e.every(yA)}function kPe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(_Pe(r))return Cs(e,r);if(CPe(r))return r.includes(e);if(wPe(r))return EPe(e,r);if(SPe(r))return r.dayOfWeek.includes(e.getDay());if(bPe(r)){var n=ha(r.before,e),i=ha(r.after,e),a=n>0,o=i<0,l=n_(r.before,r.after);return l?o&&a:a||o}return jPe(r)?ha(e,r.after)>0:NPe(r)?ha(r.before,e)>0:typeof r=="function"?r(e):!1})}function kA(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return kPe(e,l)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!jA(e,r)&&(i.outside=!0),i}function APe(e,t){for(var r=Ps(e[0]),n=bA(e[e.length-1]),i,a,o=r;o<=n;){var l=kA(o,t),c=!l.disabled&&!l.hidden;if(!c){o=es(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=es(o,1)}return a||i}var PPe=365;function vH(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,d=i.fromDate,h=i.toDate,m=i.locale,p={day:es,week:r_,month:Xi,year:BCe,startOfWeek:function(v){return i.ISOWeek?Sc(v):_i(v,{locale:m,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?nH(v):wA(v,{locale:m,weekStartsOn:c})}},x=p[r](e,n==="after"?1:-1);n==="before"&&d?x=zCe([d,x]):n==="after"&&h&&(x=WCe([h,x]));var b=!0;if(a){var y=kA(x,a);b=!y.disabled&&!y.hidden}return b?x:l.count>PPe?l.lastFocused:vH(x,{moveBy:r,direction:n,context:i,modifiers:a,retry:kt(kt({},l),{count:l.count+1})})}var yH=w.createContext(void 0);function OPe(e){var t=Hm(),r=xH(),n=w.useState(),i=n[0],a=n[1],o=w.useState(),l=o[0],c=o[1],d=APe(t.displayMonths,r),h=i??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(i),a(void 0)},p=function(v){a(v)},x=br(),b=function(v,N){if(i){var j=vH(i,{moveBy:v,direction:N,context:x,modifiers:r});Cs(i,j)||(t.goToDate(j,i),p(j))}},y={focusedDay:i,focusTarget:h,blur:m,focus:p,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return s.jsx(yH.Provider,{value:y,children:e.children})}function AA(){var e=w.useContext(yH);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function TPe(e,t){var r=xH(),n=kA(e,r,t);return n}var PA=w.createContext(void 0);function RPe(e){if(!U0(e.initialProps)){var t={selected:void 0};return s.jsx(PA.Provider,{value:t,children:e.children})}return s.jsx(MPe,{initialProps:e.initialProps,children:e.children})}function MPe(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,d,h;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:n};return s.jsx(PA.Provider,{value:i,children:r})}function bH(){var e=w.useContext(PA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function IPe(e,t){var r=br(),n=bH(),i=EA(),a=CA(),o=AA(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,p=o.focus,x=o.focusMonthBefore,b=o.focusMonthAfter,y=o.focusYearBefore,v=o.focusYearAfter,N=o.focusStartOfWeek,j=o.focusEndOfWeek,E=function(P){var C,L,U,R;U0(r)?(C=n.onDayClick)===null||C===void 0||C.call(n,e,t,P):Vm(r)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,P):qm(r)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,P):(R=r.onDayClick)===null||R===void 0||R.call(r,e,t,P)},k=function(P){var C;p(e),(C=r.onDayFocus)===null||C===void 0||C.call(r,e,t,P)},_=function(P){var C;m(),(C=r.onDayBlur)===null||C===void 0||C.call(r,e,t,P)},A=function(P){var C;(C=r.onDayMouseEnter)===null||C===void 0||C.call(r,e,t,P)},T=function(P){var C;(C=r.onDayMouseLeave)===null||C===void 0||C.call(r,e,t,P)},D=function(P){var C;(C=r.onDayPointerEnter)===null||C===void 0||C.call(r,e,t,P)},q=function(P){var C;(C=r.onDayPointerLeave)===null||C===void 0||C.call(r,e,t,P)},K=function(P){var C;(C=r.onDayTouchCancel)===null||C===void 0||C.call(r,e,t,P)},$=function(P){var C;(C=r.onDayTouchEnd)===null||C===void 0||C.call(r,e,t,P)},H=function(P){var C;(C=r.onDayTouchMove)===null||C===void 0||C.call(r,e,t,P)},W=function(P){var C;(C=r.onDayTouchStart)===null||C===void 0||C.call(r,e,t,P)},B=function(P){var C;(C=r.onDayKeyUp)===null||C===void 0||C.call(r,e,t,P)},M=function(P){var C;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),d();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),h();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?y():x();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?v():b();break;case"Home":P.preventDefault(),P.stopPropagation(),N();break;case"End":P.preventDefault(),P.stopPropagation(),j();break}(C=r.onDayKeyDown)===null||C===void 0||C.call(r,e,t,P)},z={onClick:E,onFocus:k,onBlur:_,onKeyDown:M,onKeyUp:B,onMouseEnter:A,onMouseLeave:T,onPointerEnter:D,onPointerLeave:q,onTouchCancel:K,onTouchEnd:$,onTouchMove:H,onTouchStart:W};return z}function DPe(){var e=br(),t=bH(),r=EA(),n=CA(),i=U0(e)?t.selected:Vm(e)?r.selected:qm(e)?n.selected:void 0;return i}function FPe(e){return Object.values(Qi).includes(e)}function $Pe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(FPe(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function LPe(e,t){var r=kt({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=kt(kt({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function BPe(e,t,r){var n,i,a,o=br(),l=AA(),c=TPe(e,t),d=IPe(e,c),h=DPe(),m=!!(o.onDayClick||o.mode!=="default");w.useEffect(function(){var A;c.outside||l.focusedDay&&m&&Cs(l.focusedDay,e)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,e,r,m,c.outside]);var p=$Pe(o,c).join(" "),x=LPe(o,c),b=!!(c.outside&&!o.showOutsideDays||c.hidden),y=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:oPe,v=s.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),N={style:x,className:p,children:v,role:"gridcell"},j=l.focusTarget&&Cs(l.focusTarget,e)&&!c.outside,E=l.focusedDay&&Cs(l.focusedDay,e),k=kt(kt(kt({},N),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=E||j?0:-1,n)),d),_={isButton:m,isHidden:b,activeModifiers:c,selectedDays:h,buttonProps:k,divProps:N};return _}function zPe(e){var t=w.useRef(null),r=BPe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(wv,kt({name:"day",ref:t},r.buttonProps)):s.jsx("div",kt({},r.divProps))}function WPe(e){var t=e.number,r=e.dates,n=br(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,h=d(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:h});var m=c(Number(t),{locale:l}),p=function(x){i(t,r,x)};return s.jsx(wv,{name:"week-number","aria-label":m,className:o.weeknumber,style:a.weeknumber,onClick:p,children:h})}function UPe(e){var t,r,n=br(),i=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l?.Day)!==null&&t!==void 0?t:zPe,d=(r=l?.WeekNumber)!==null&&r!==void 0?r:WPe,h;return o&&(h=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[h,e.dates.map(function(m){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},Bke(m))})]})}function WF(e,t,r){for(var n=r?.ISOWeek?nH(t):wA(t,r),i=r?.ISOWeek?Sc(e):_i(e,r),a=ha(n,i),o=[],l=0;l<=a;l++)o.push(es(i,l));var c=o.reduce(function(d,h){var m=r?.ISOWeek?aH(h):lH(h,r),p=d.find(function(x){return x.weekNumber===m});return p?(p.dates.push(h),d):(d.push({weekNumber:m,dates:[h]}),d)},[]);return c}function VPe(e,t){var r=WF(Ps(e),bA(e),t);if(t?.useFixedWeeks){var n=Wke(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=r_(a,6-n),l=WF(r_(a,1),o,t);r.push.apply(r,l)}}return r}function qPe(e){var t,r,n,i=br(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,h=i.components,m=i.weekStartsOn,p=i.firstWeekContainsDate,x=i.ISOWeek,b=VPe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:x,locale:a,weekStartsOn:m,firstWeekContainsDate:p}),y=(t=h?.Head)!==null&&t!==void 0?t:aPe,v=(r=h?.Row)!==null&&r!==void 0?r:UPe,N=(n=h?.Footer)!==null&&n!==void 0?n:nPe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(y,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(j){return s.jsx(v,{displayMonth:e.displayMonth,dates:j.dates,weekNumber:j.weekNumber},j.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function HPe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var KPe=HPe()?w.useLayoutEffect:w.useEffect,wS=!1,GPe=0;function UF(){return"react-day-picker-".concat(++GPe)}function YPe(e){var t,r=e??(wS?UF():null),n=w.useState(r),i=n[0],a=n[1];return KPe(function(){i===null&&a(UF())},[]),w.useEffect(function(){wS===!1&&(wS=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function XPe(e){var t,r,n=br(),i=n.dir,a=n.classNames,o=n.styles,l=n.components,c=Hm().displayMonths,d=YPe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],p=o.month,x=e.displayIndex===0,b=e.displayIndex===c.length-1,y=!x&&!b;i==="rtl"&&(t=[x,b],b=t[0],x=t[1]),x&&(m.push(a.caption_start),p=kt(kt({},p),o.caption_start)),b&&(m.push(a.caption_end),p=kt(kt({},p),o.caption_end)),y&&(m.push(a.caption_between),p=kt(kt({},p),o.caption_between));var v=(r=l?.Caption)!==null&&r!==void 0?r:rPe;return s.jsxs("div",{className:m.join(" "),style:p,children:[s.jsx(v,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(qPe,{id:h,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function QPe(e){var t=br(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function JPe(e){var t,r,n=e.initialProps,i=br(),a=AA(),o=Hm(),l=w.useState(!1),c=l[0],d=l[1];w.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var m=kt(kt({},i.styles.root),i.style),p=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,y){var v;return kt(kt({},b),(v={},v[y]=n[y],v))},{}),x=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:QPe;return s.jsx("div",kt({className:h.join(" "),style:m,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:s.jsx(x,{children:o.displayMonths.map(function(b,y){return s.jsx(XPe,{displayIndex:y,displayMonth:b},y)})})}))}function ZPe(e){var t=e.children,r=NAe(e,["children"]);return s.jsx(WAe,{initialProps:r,children:s.jsx(JAe,{children:s.jsx(RPe,{initialProps:r,children:s.jsx(lPe,{initialProps:r,children:s.jsx(dPe,{initialProps:r,children:s.jsx(yPe,{children:s.jsx(OPe,{children:t})})})})})})})}function eOe(e){return s.jsx(ZPe,kt({},e,{children:s.jsx(JPe,{initialProps:e})}))}function tOe({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(eOe,{showOutsideDays:r,className:ut("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:ut(qS({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:ut("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:ut(qS({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...a})=>s.jsx(w_,{className:ut("size-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(dc,{className:ut("size-4",i),...a})},...n})}var jS,VF;function rOe(){if(VF)return jS;VF=1;var e=!1,t,r,n,i,a,o,l,c,d,h,m,p,x,b,y;function v(){if(!e){e=!0;var j=navigator.userAgent,E=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),k=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(p=/\b(iPhone|iP[ao]d)/.exec(j),x=/\b(iP[ao]d)/.exec(j),h=/Android/i.exec(j),b=/FBAN\/\w+;/i.exec(j),y=/Mobile/i.exec(j),m=!!/Win64/.exec(j),E){t=E[1]?parseFloat(E[1]):E[5]?parseFloat(E[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(j);o=_?parseFloat(_[1])+4:t,r=E[2]?parseFloat(E[2]):NaN,n=E[3]?parseFloat(E[3]):NaN,i=E[4]?parseFloat(E[4]):NaN,i?(E=/(?:Chrome\/(\d+\.\d+))/.exec(j),a=E&&E[1]?parseFloat(E[1]):NaN):a=NaN}else t=r=n=a=i=NaN;if(k){if(k[1]){var A=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);l=A?parseFloat(A[1].replace("_",".")):!0}else l=!1;c=!!k[2],d=!!k[3]}else l=c=d=!1}}var N={ie:function(){return v()||t},ieCompatibilityMode:function(){return v()||o>t},ie64:function(){return N.ie()&&m},firefox:function(){return v()||r},opera:function(){return v()||n},webkit:function(){return v()||i},safari:function(){return N.webkit()},chrome:function(){return v()||a},windows:function(){return v()||c},osx:function(){return v()||l},linux:function(){return v()||d},iphone:function(){return v()||p},mobile:function(){return v()||p||x||h||y},nativeApp:function(){return v()||b},android:function(){return v()||h},ipad:function(){return v()||x}};return jS=N,jS}var NS,qF;function nOe(){if(qF)return NS;qF=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return NS=t,NS}var SS,HF;function sOe(){if(HF)return SS;HF=1;var e=nOe(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function r(n,i){if(!e.canUseDOM||i&&!("addEventListener"in document))return!1;var a="on"+n,o=a in document;if(!o){var l=document.createElement("div");l.setAttribute(a,"return;"),o=typeof l[a]=="function"}return!o&&t&&n==="wheel"&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}return SS=r,SS}var ES,KF;function iOe(){if(KF)return ES;KF=1;var e=rOe(),t=sOe(),r=10,n=40,i=800;function a(o){var l=0,c=0,d=0,h=0;return"detail"in o&&(c=o.detail),"wheelDelta"in o&&(c=-o.wheelDelta/120),"wheelDeltaY"in o&&(c=-o.wheelDeltaY/120),"wheelDeltaX"in o&&(l=-o.wheelDeltaX/120),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(l=c,c=0),d=l*r,h=c*r,"deltaY"in o&&(h=o.deltaY),"deltaX"in o&&(d=o.deltaX),(d||h)&&o.deltaMode&&(o.deltaMode==1?(d*=n,h*=n):(d*=i,h*=i)),d&&!l&&(l=d<1?-1:1),h&&!c&&(c=h<1?-1:1),{spinX:l,spinY:c,pixelX:d,pixelY:h}}return a.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},ES=a,ES}var _S,GF;function aOe(){return GF||(GF=1,_S=iOe()),_S}var oOe=aOe();const lOe=rr(oOe);function cOe(e,t,r,n,i,a){a===void 0&&(a=0);var o=Ed(e,t,a),l=o.width,c=o.height,d=Math.min(l,r),h=Math.min(c,n);return d>h*i?{width:h*i,height:h}:{width:d,height:d/i}}function uOe(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function qh(e,t,r,n,i){i===void 0&&(i=0);var a=Ed(t.width,t.height,i),o=a.width,l=a.height;return{x:YF(e.x,o,r.width,n),y:YF(e.y,l,r.height,n)}}function YF(e,t,r,n){var i=t*n/2-r/2;return V0(e,-i,i)}function XF(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function QF(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function dOe(e,t,r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!0);var l=o?hOe:fOe,c=Ed(t.width,t.height,a),d=Ed(t.naturalWidth,t.naturalHeight,a),h={x:l(100,((c.width-r.width/i)/2-e.x/i)/c.width*100),y:l(100,((c.height-r.height/i)/2-e.y/i)/c.height*100),width:l(100,r.width/c.width*100/i),height:l(100,r.height/c.height*100/i)},m=Math.round(l(d.width,h.width*d.width/100)),p=Math.round(l(d.height,h.height*d.height/100)),x=d.width>=d.height*n,b=x?{width:Math.round(p*n),height:p}:{width:m,height:Math.round(m/n)},y=lr(lr({},b),{x:Math.round(l(d.width-b.width,h.x*d.width/100)),y:Math.round(l(d.height-b.height,h.y*d.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:y}}function hOe(e,t){return Math.min(e,Math.max(0,t))}function fOe(e,t){return t}function mOe(e,t,r,n,i,a){var o=Ed(t.width,t.height,r),l=V0(n.width/o.width*(100/e.width),i,a),c={x:l*o.width/2-n.width/2-o.width*l*(e.x/100),y:l*o.height/2-n.height/2-o.height*l*(e.y/100)};return{crop:c,zoom:l}}function pOe(e,t,r){var n=uOe(t);return r.height>r.width?r.height/(e.height*n):r.width/(e.width*n)}function gOe(e,t,r,n,i,a){r===void 0&&(r=0);var o=Ed(t.naturalWidth,t.naturalHeight,r),l=V0(pOe(e,t,n),i,a),c=n.height>n.width?n.height/e.height:n.width/e.width,d={x:((o.width-e.width)/2-e.x)*c,y:((o.height-e.height)/2-e.y)*c};return{crop:d,zoom:l}}function JF(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function xOe(e){return e*Math.PI/180}function Ed(e,t,r){var n=xOe(r);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}function V0(e,t,r){return Math.min(Math.max(e,t),r)}function _g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(r){return typeof r=="string"&&r.length>0}).join(" ").trim()}var vOe=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,yOe=1,bOe=3,wOe=1,jOe=(function(e){M_(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cropperRef=w.createRef(),r.imageRef=w.createRef(),r.videoRef=w.createRef(),r.containerPosition={x:0,y:0},r.containerRef=null,r.styleRef=null,r.containerRect=null,r.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.gestureZoomStart=0,r.gestureRotationStart=0,r.isTouching=!1,r.lastPinchDistance=0,r.lastPinchRotation=0,r.rafDragTimeout=null,r.rafPinchTimeout=null,r.wheelTimer=null,r.currentDoc=typeof document<"u"?document:null,r.currentWindow=typeof window<"u"?window:null,r.resizeObserver=null,r.previousCropSize=null,r.isInitialized=!1,r.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},r.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!r.containerRef)){var n=!0;r.resizeObserver=new window.ResizeObserver(function(i){if(n){n=!1;return}r.computeSizes()}),r.resizeObserver.observe(r.containerRef)}},r.preventZoomSafari=function(n){return n.preventDefault()},r.cleanEvents=function(){r.currentDoc&&(r.currentDoc.removeEventListener("mousemove",r.onMouseMove),r.currentDoc.removeEventListener("mouseup",r.onDragStopped),r.currentDoc.removeEventListener("touchmove",r.onTouchMove),r.currentDoc.removeEventListener("touchend",r.onDragStopped),r.currentDoc.removeEventListener("gesturechange",r.onGestureChange),r.currentDoc.removeEventListener("gestureend",r.onGestureEnd),r.currentDoc.removeEventListener("scroll",r.onScroll))},r.clearScrollEvent=function(){r.containerRef&&r.containerRef.removeEventListener("wheel",r.onWheel),r.wheelTimer&&clearTimeout(r.wheelTimer)},r.onMediaLoad=function(){var n=r.computeSizes();n&&(r.previousCropSize=n,r.emitCropData(),r.setInitialCrop(n),r.isInitialized=!0),r.props.onMediaLoaded&&r.props.onMediaLoaded(r.mediaSize)},r.setInitialCrop=function(n){if(r.props.initialCroppedAreaPercentages){var i=mOe(r.props.initialCroppedAreaPercentages,r.mediaSize,r.props.rotation,n,r.props.minZoom,r.props.maxZoom),a=i.crop,o=i.zoom;r.props.onCropChange(a),r.props.onZoomChange&&r.props.onZoomChange(o)}else if(r.props.initialCroppedAreaPixels){var l=gOe(r.props.initialCroppedAreaPixels,r.mediaSize,r.props.rotation,n,r.props.minZoom,r.props.maxZoom),a=l.crop,o=l.zoom;r.props.onCropChange(a),r.props.onZoomChange&&r.props.onZoomChange(o)}},r.computeSizes=function(){var n,i,a,o,l,c,d=r.imageRef.current||r.videoRef.current;if(d&&r.containerRef){r.containerRect=r.containerRef.getBoundingClientRect(),r.saveContainerPosition();var h=r.containerRect.width/r.containerRect.height,m=((n=r.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((i=r.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,p=((a=r.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=r.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,x=d.offsetWidth<m||d.offsetHeight<p,b=m/p,y=void 0;if(x)switch(r.state.mediaObjectFit){default:case"contain":y=h>b?{width:r.containerRect.height*b,height:r.containerRect.height}:{width:r.containerRect.width,height:r.containerRect.width/b};break;case"horizontal-cover":y={width:r.containerRect.width,height:r.containerRect.width/b};break;case"vertical-cover":y={width:r.containerRect.height*b,height:r.containerRect.height};break}else y={width:d.offsetWidth,height:d.offsetHeight};r.mediaSize=lr(lr({},y),{naturalWidth:m,naturalHeight:p}),r.props.setMediaSize&&r.props.setMediaSize(r.mediaSize);var v=r.props.cropSize?r.props.cropSize:cOe(r.mediaSize.width,r.mediaSize.height,r.containerRect.width,r.containerRect.height,r.props.aspect,r.props.rotation);return(((l=r.state.cropSize)===null||l===void 0?void 0:l.height)!==v.height||((c=r.state.cropSize)===null||c===void 0?void 0:c.width)!==v.width)&&r.props.onCropSizeChange&&r.props.onCropSizeChange(v),r.setState({cropSize:v},r.recomputeCropPosition),r.props.setCropSize&&r.props.setCropSize(v),v}},r.saveContainerPosition=function(){if(r.containerRef){var n=r.containerRef.getBoundingClientRect();r.containerPosition={x:n.left,y:n.top}}},r.onMouseDown=function(n){r.currentDoc&&(n.preventDefault(),r.currentDoc.addEventListener("mousemove",r.onMouseMove),r.currentDoc.addEventListener("mouseup",r.onDragStopped),r.saveContainerPosition(),r.onDragStart(t.getMousePoint(n)))},r.onMouseMove=function(n){return r.onDrag(t.getMousePoint(n))},r.onScroll=function(n){r.currentDoc&&(n.preventDefault(),r.saveContainerPosition())},r.onTouchStart=function(n){r.currentDoc&&(r.isTouching=!0,!(r.props.onTouchRequest&&!r.props.onTouchRequest(n))&&(r.currentDoc.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.currentDoc.addEventListener("touchend",r.onDragStopped),r.saveContainerPosition(),n.touches.length===2?r.onPinchStart(n):n.touches.length===1&&r.onDragStart(t.getTouchPoint(n.touches[0]))))},r.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?r.onPinchMove(n):n.touches.length===1&&r.onDrag(t.getTouchPoint(n.touches[0]))},r.onGestureStart=function(n){r.currentDoc&&(n.preventDefault(),r.currentDoc.addEventListener("gesturechange",r.onGestureChange),r.currentDoc.addEventListener("gestureend",r.onGestureEnd),r.gestureZoomStart=r.props.zoom,r.gestureRotationStart=r.props.rotation)},r.onGestureChange=function(n){if(n.preventDefault(),!r.isTouching){var i=t.getMousePoint(n),a=r.gestureZoomStart-1+n.scale;if(r.setNewZoom(a,i,{shouldUpdatePosition:!0}),r.props.onRotationChange){var o=r.gestureRotationStart+n.rotation;r.props.onRotationChange(o)}}},r.onGestureEnd=function(n){r.cleanEvents()},r.onDragStart=function(n){var i,a,o=n.x,l=n.y;r.dragStartPosition={x:o,y:l},r.dragStartCrop=lr({},r.props.crop),(a=(i=r.props).onInteractionStart)===null||a===void 0||a.call(i)},r.onDrag=function(n){var i=n.x,a=n.y;r.currentWindow&&(r.rafDragTimeout&&r.currentWindow.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=r.currentWindow.requestAnimationFrame(function(){if(r.state.cropSize&&!(i===void 0||a===void 0)){var o=i-r.dragStartPosition.x,l=a-r.dragStartPosition.y,c={x:r.dragStartCrop.x+o,y:r.dragStartCrop.y+l},d=r.props.restrictPosition?qh(c,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):c;r.props.onCropChange(d)}}))},r.onDragStopped=function(){var n,i;r.isTouching=!1,r.cleanEvents(),r.emitCropData(),(i=(n=r.props).onInteractionEnd)===null||i===void 0||i.call(n)},r.onWheel=function(n){if(r.currentWindow&&!(r.props.onWheelRequest&&!r.props.onWheelRequest(n))){n.preventDefault();var i=t.getMousePoint(n),a=lOe(n).pixelY,o=r.props.zoom-a*r.props.zoomSpeed/200;r.setNewZoom(o,i,{shouldUpdatePosition:!0}),r.state.hasWheelJustStarted||r.setState({hasWheelJustStarted:!0},function(){var l,c;return(c=(l=r.props).onInteractionStart)===null||c===void 0?void 0:c.call(l)}),r.wheelTimer&&clearTimeout(r.wheelTimer),r.wheelTimer=r.currentWindow.setTimeout(function(){return r.setState({hasWheelJustStarted:!1},function(){var l,c;return(c=(l=r.props).onInteractionEnd)===null||c===void 0?void 0:c.call(l)})},250)}},r.getPointOnContainer=function(n,i){var a=n.x,o=n.y;if(!r.containerRect)throw new Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(a-i.x),y:r.containerRect.height/2-(o-i.y)}},r.getPointOnMedia=function(n){var i=n.x,a=n.y,o=r.props,l=o.crop,c=o.zoom;return{x:(i+l.x)/c,y:(a+l.y)/c}},r.setNewZoom=function(n,i,a){var o=a===void 0?{}:a,l=o.shouldUpdatePosition,c=l===void 0?!0:l;if(!(!r.state.cropSize||!r.props.onZoomChange)){var d=V0(n,r.props.minZoom,r.props.maxZoom);if(c){var h=r.getPointOnContainer(i,r.containerPosition),m=r.getPointOnMedia(h),p={x:m.x*d-h.x,y:m.y*d-h.y},x=r.props.restrictPosition?qh(p,r.mediaSize,r.state.cropSize,d,r.props.rotation):p;r.props.onCropChange(x)}r.props.onZoomChange(d)}},r.getCropData=function(){if(!r.state.cropSize)return null;var n=r.props.restrictPosition?qh(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop;return dOe(n,r.mediaSize,r.state.cropSize,r.getAspect(),r.props.zoom,r.props.rotation,r.props.restrictPosition)},r.emitCropData=function(){var n=r.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(i,a),r.props.onCropAreaChange&&r.props.onCropAreaChange(i,a)}},r.emitCropAreaChange=function(){var n=r.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;r.props.onCropAreaChange&&r.props.onCropAreaChange(i,a)}},r.recomputeCropPosition=function(){var n,i;if(r.state.cropSize){var a=r.props.crop;if(r.isInitialized&&(!((n=r.previousCropSize)===null||n===void 0)&&n.width)&&(!((i=r.previousCropSize)===null||i===void 0)&&i.height)){var o=Math.abs(r.previousCropSize.width-r.state.cropSize.width)>1e-6||Math.abs(r.previousCropSize.height-r.state.cropSize.height)>1e-6;if(o){var l=r.state.cropSize.width/r.previousCropSize.width,c=r.state.cropSize.height/r.previousCropSize.height;a={x:r.props.crop.x*l,y:r.props.crop.y*c}}}var d=r.props.restrictPosition?qh(a,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):a;r.previousCropSize=r.state.cropSize,r.props.onCropChange(d),r.emitCropData()}},r.onKeyDown=function(n){var i,a,o=r.props,l=o.crop,c=o.onCropChange,d=o.keyboardStep,h=o.zoom,m=o.rotation,p=d;if(r.state.cropSize){n.shiftKey&&(p*=.2);var x=lr({},l);switch(n.key){case"ArrowUp":x.y-=p,n.preventDefault();break;case"ArrowDown":x.y+=p,n.preventDefault();break;case"ArrowLeft":x.x-=p,n.preventDefault();break;case"ArrowRight":x.x+=p,n.preventDefault();break;default:return}r.props.restrictPosition&&(x=qh(x,r.mediaSize,r.state.cropSize,h,m)),n.repeat||(a=(i=r.props).onInteractionStart)===null||a===void 0||a.call(i),c(x)}},r.onKeyUp=function(n){var i,a;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}r.emitCropData(),(a=(i=r.props).onInteractionEnd)===null||a===void 0||a.call(i)},r}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=vOe,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var r,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(r){var n,i,a,o,l,c,d,h,m;r.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):r.aspect!==this.props.aspect?this.computeSizes():r.objectFit!==this.props.objectFit?this.computeSizes():r.zoom!==this.props.zoom?this.recomputeCropPosition():((n=r.cropSize)===null||n===void 0?void 0:n.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=r.cropSize)===null||a===void 0?void 0:a.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((l=r.crop)===null||l===void 0?void 0:l.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((d=r.crop)===null||d===void 0?void 0:d.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),r.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),r.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},t.prototype.getAspect=function(){var r=this.props,n=r.cropSize,i=r.aspect;return n?n.width/n.height:i},t.prototype.getObjectFit=function(){var r,n,i,a;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,c=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,d=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,h=c/d;return h<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(r){var n=t.getTouchPoint(r.touches[0]),i=t.getTouchPoint(r.touches[1]);this.lastPinchDistance=XF(n,i),this.lastPinchRotation=QF(n,i),this.onDragStart(JF(n,i))},t.prototype.onPinchMove=function(r){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(r.touches[0]),a=t.getTouchPoint(r.touches[1]),o=JF(i,a);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=XF(i,a),c=n.props.zoom*(l/n.lastPinchDistance);n.setNewZoom(c,o,{shouldUpdatePosition:!1}),n.lastPinchDistance=l;var d=QF(i,a),h=n.props.rotation+(d-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(h),n.lastPinchRotation=d})}},t.prototype.render=function(){var r=this,n,i=this.props,a=i.image,o=i.video,l=i.mediaProps,c=i.cropperProps,d=i.transform,h=i.crop,m=h.x,p=h.y,x=i.rotation,b=i.zoom,y=i.cropShape,v=i.showGrid,N=i.roundCropAreaPixels,j=i.style,E=j.containerStyle,k=j.cropAreaStyle,_=j.mediaStyle,A=i.classes,T=A.containerClassName,D=A.cropAreaClassName,q=A.mediaClassName,K=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return w.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(H){return r.containerRef=H},"data-testid":"container",style:E,className:_g("reactEasyCrop_Container",T)},a?w.createElement("img",lr({alt:"",className:_g("reactEasyCrop_Image",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",q)},l,{src:a,ref:this.imageRef,style:lr(lr({},_),{transform:d||"translate(".concat(m,"px, ").concat(p,"px) rotate(").concat(x,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):o&&w.createElement("video",lr({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:_g("reactEasyCrop_Video",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",q)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:lr(lr({},_),{transform:d||"translate(".concat(m,"px, ").concat(p,"px) rotate(").concat(x,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function($){return w.createElement("source",lr({key:$.src},$))})),this.state.cropSize&&w.createElement("div",lr({ref:this.cropperRef,style:lr(lr({},k),{width:N?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:N?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:_g("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",D)},c)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:bOe,minZoom:yOe,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:wOe},t.getMousePoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t.getTouchPoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t})(w.Component),wH=["PageUp","PageDown"],jH=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],NH={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xd="Slider",[s_,NOe,SOe]=wm(Xd),[SH]=ls(Xd,[SOe]),[EOe,q0]=SH(Xd),EH=w.forwardRef((e,t)=>{const{name:r,min:n=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:x=!1,form:b,...y}=e,v=w.useRef(new Set),N=w.useRef(0),E=o==="horizontal"?_Oe:COe,[k=[],_]=Os({prop:h,defaultProp:d,onChange:$=>{[...v.current][N.current]?.focus(),m($)}}),A=w.useRef(k);function T($){const H=TOe(k,$);K($,H)}function D($){K($,N.current)}function q(){const $=A.current[N.current];k[N.current]!==$&&p(k)}function K($,H,{commit:W}={commit:!1}){const B=DOe(a),M=FOe(Math.round(($-n)/a)*a+n,B),z=mv(M,[n,i]);_((P=[])=>{const C=POe(P,z,H);if(IOe(C,c*a)){N.current=C.indexOf(z);const L=String(C)!==String(P);return L&&W&&p(C),L?C:P}else return P})}return s.jsx(EOe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:i,valueIndexToChangeRef:N,thumbs:v.current,values:k,orientation:o,form:b,children:s.jsx(s_.Provider,{scope:e.__scopeSlider,children:s.jsx(s_.Slot,{scope:e.__scopeSlider,children:s.jsx(E,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:Je(y.onPointerDown,()=>{l||(A.current=k)}),min:n,max:i,inverted:x,onSlideStart:l?void 0:T,onSlideMove:l?void 0:D,onSlideEnd:l?void 0:q,onHomeKeyDown:()=>!l&&K(n,0,{commit:!0}),onEndKeyDown:()=>!l&&K(i,k.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:H})=>{if(!l){const M=wH.includes($.key)||$.shiftKey&&jH.includes($.key)?10:1,z=N.current,P=k[z],C=a*M*H;K(P+C,z,{commit:!0})}}})})})})});EH.displayName=Xd;var[_H,CH]=SH(Xd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_Oe=w.forwardRef((e,t)=>{const{min:r,max:n,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,[m,p]=w.useState(null),x=Mt(t,E=>p(E)),b=w.useRef(void 0),y=Rd(i),v=y==="ltr",N=v&&!a||!v&&a;function j(E){const k=b.current||m.getBoundingClientRect(),_=[0,k.width],T=OA(_,N?[r,n]:[n,r]);return b.current=k,T(E-k.left)}return s.jsx(_H,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:s.jsx(kH,{dir:y,"data-orientation":"horizontal",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const k=j(E.clientX);o?.(k)},onSlideMove:E=>{const k=j(E.clientX);l?.(k)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:E=>{const _=NH[N?"from-left":"from-right"].includes(E.key);d?.({event:E,direction:_?-1:1})}})})}),COe=w.forwardRef((e,t)=>{const{min:r,max:n,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,h=w.useRef(null),m=Mt(t,h),p=w.useRef(void 0),x=!i;function b(y){const v=p.current||h.current.getBoundingClientRect(),N=[0,v.height],E=OA(N,x?[n,r]:[r,n]);return p.current=v,E(y-v.top)}return s.jsx(_H,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:s.jsx(kH,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const v=b(y.clientY);a?.(v)},onSlideMove:y=>{const v=b(y.clientY);o?.(v)},onSlideEnd:()=>{p.current=void 0,l?.()},onStepKeyDown:y=>{const N=NH[x?"from-bottom":"from-top"].includes(y.key);c?.({event:y,direction:N?-1:1})}})})}),kH=w.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,h=q0(Xd,r);return s.jsx(xt.span,{...d,ref:t,onKeyDown:Je(e.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):wH.concat(jH).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Je(e.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(p)?p.focus():n(m)}),onPointerMove:Je(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Je(e.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),a(m))})})}),AH="SliderTrack",PH=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=q0(AH,r);return s.jsx(xt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:t})});PH.displayName=AH;var i_="SliderRange",OH=w.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,i=q0(i_,r),a=CH(i_,r),o=w.useRef(null),l=Mt(t,o),c=i.values.length,d=i.values.map(p=>MH(p,i.min,i.max)),h=c>1?Math.min(...d):0,m=100-Math.max(...d);return s.jsx(xt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:m+"%"}})});OH.displayName=i_;var a_="SliderThumb",TH=w.forwardRef((e,t)=>{const r=NOe(e.__scopeSlider),[n,i]=w.useState(null),a=Mt(t,l=>i(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(kOe,{...e,ref:a,index:o})}),kOe=w.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:i,...a}=e,o=q0(a_,r),l=CH(a_,r),[c,d]=w.useState(null),h=Mt(t,j=>d(j)),m=c?o.form||!!c.closest("form"):!0,p=Uv(c),x=o.values[n],b=x===void 0?0:MH(x,o.min,o.max),y=OOe(n,o.values.length),v=p?.[l.size],N=v?ROe(v,b,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${N}px)`},children:[s.jsx(s_.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(xt.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:h,style:x===void 0?{display:"none"}:e.style,onFocus:Je(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&s.jsx(RH,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:x},n)]})});TH.displayName=a_;var AOe="RadioBubbleInput",RH=w.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const i=w.useRef(null),a=Mt(i,n),o=A0(t);return w.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const m=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(xt.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});RH.displayName=AOe;function POe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((i,a)=>i-a)}function MH(e,t,r){const a=100/(r-t)*(e-t);return mv(a,[0,100])}function OOe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function TOe(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),n=Math.min(...r);return r.indexOf(n)}function ROe(e,t,r){const n=e/2,a=OA([0,50],[0,n]);return(n-a(t)*r)*r}function MOe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function IOe(e,t){if(t>0){const r=MOe(e);return Math.min(...r)>=t}return!0}function OA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function DOe(e){return(String(e).split(".")[1]||"").length}function FOe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var $Oe=EH,LOe=PH,BOe=OH,zOe=TH;function WOe({className:e,defaultValue:t,value:r,min:n=0,max:i=100,...a}){const o=w.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,i],[r,t,n,i]);return s.jsxs($Oe,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:i,className:ut("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[s.jsx(LOe,{"data-slot":"slider-track",className:ut("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:s.jsx(BOe,{"data-slot":"slider-range",className:ut("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,c)=>s.jsx(zOe,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function UOe({open:e,onClose:t,imageSrc:r,onCropComplete:n}){const[i,a]=w.useState({x:0,y:0}),[o,l]=w.useState(1),[c,d]=w.useState(0),[h,m]=w.useState(null),[p,x]=w.useState(!1),b=w.useCallback(_=>{a(_)},[]),y=w.useCallback(_=>{l(_)},[]),v=w.useCallback((_,A)=>{m(A)},[]),N=_=>new Promise((A,T)=>{const D=new Image;D.addEventListener("load",()=>A(D)),D.addEventListener("error",q=>T(q)),D.setAttribute("crossOrigin","anonymous"),D.src=_}),j=async(_,A,T=0)=>{const D=await N(_),q=document.createElement("canvas"),K=q.getContext("2d");if(!K)throw new Error("No 2d context");const H=2*(Math.max(D.width,D.height)/2*Math.sqrt(2));q.width=H,q.height=H,K.translate(H/2,H/2),K.rotate(T*Math.PI/180),K.translate(-H/2,-H/2),K.drawImage(D,H/2-D.width*.5,H/2-D.height*.5);const W=K.getImageData(0,0,H,H);return q.width=A.width,q.height=A.height,K.putImageData(W,Math.round(0-H/2+D.width*.5-A.x),Math.round(0-H/2+D.height*.5-A.y)),new Promise(B=>{q.toBlob(M=>{M&&B(M)},"image/jpeg",.95)})},E=async()=>{if(h)try{x(!0);const _=await j(r,h,c);n(_),t()}catch(_){console.error("Error cropping image:",_)}finally{x(!1)}},k=()=>{d(_=>(_+90)%360)};return s.jsx(Er,{open:e,onOpenChange:t,children:s.jsxs(vr,{className:"max-w-2xl",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:" "}),s.jsx(kr,{children:"       ."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative w-full h-[400px] bg-gray-900 rounded-lg overflow-hidden",children:s.jsx(jOe,{image:r,crop:i,zoom:o,rotation:c,aspect:1,cropShape:"round",showGrid:!1,onCropChange:b,onZoomChange:y,onCropComplete:v})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-[#666]",children:""}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ie,{variant:"ghost",size:"sm",onClick:k,className:"h-8 w-8 p-0",title:"  90",children:s.jsx(HQ,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(RJ,{className:"h-4 w-4 text-[#666]"}),s.jsx(WOe,{value:[o],onValueChange:_=>l(_[0]),min:1,max:3,step:.1,className:"flex-1"}),s.jsx(OJ,{className:"h-4 w-4 text-[#666]"})]})]}),s.jsxs("div",{className:"text-sm text-[#999] bg-[#F7FAFC] p-3 rounded-lg",children:[" ",s.jsx("strong",{children:":"}),"    .       ."]})]}),s.jsxs(_s,{children:[s.jsx(ie,{variant:"outline",onClick:t,disabled:p,className:"border-[#E6E9EE]",children:""}),s.jsx(ie,{onClick:E,disabled:p,className:"bg-[#12C9B6] hover:bg-[#0FB89F] text-white",children:p?"...":""})]})]})})}function VOe({rank:e}){const t=Math.max(1,e||1),n=(i=>i>=10?{bgGradient:"from-amber-500 via-yellow-500 to-amber-600",glowColor:"shadow-amber-500/50"}:i>=7?{bgGradient:"from-purple-500 via-pink-500 to-purple-600",glowColor:"shadow-purple-500/50"}:i>=4?{bgGradient:"from-teal-500 via-cyan-500 to-teal-600",glowColor:"shadow-teal-500/50"}:{bgGradient:"from-blue-500 via-sky-500 to-blue-600",glowColor:"shadow-blue-500/50"})(t);return s.jsx("div",{className:"relative inline-flex items-center justify-center",children:s.jsxs("div",{className:`relative px-5 py-2 bg-gradient-to-r ${n.bgGradient} rounded-full ${n.glowColor} shadow-lg border border-white/30`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx(gf,{size:16,className:"text-white",fill:"white"}),s.jsxs("div",{className:"text-white font-bold text-sm whitespace-nowrap",children:[" ",t]})]})]})})}function qOe({currentUser:e,onUpdate:t,onLogout:r}){console.log(" ProfileRu: Rendering with currentUser:",e);const[n,i]=w.useState(!1),[a,o]=w.useState(!1),l=w.useRef(null),[c,d]=w.useState(!1),[h,m]=w.useState(""),[p,x]=w.useState(""),[b,y]=w.useState({:e?.?.split(" ")[0]||"",:e?.?.split(" ").slice(1).join(" ")||"",:e?.||"",telegram:e?.socialMedia?.telegram||e?.telegram||"",whatsapp:e?.socialMedia?.whatsapp||e?.whatsapp||"",facebook:e?.socialMedia?.facebook||e?.facebook||"",instagram:e?.socialMedia?.instagram||e?.instagram||"",vk:e?.socialMedia?.vk||e?.vk||"",:e?.||"",:e?.||""}),[v,N]=w.useState({showPhone:e?.privacySettings?.showPhone!==!1,showEmail:e?.privacySettings?.showEmail!==!1,showTelegram:e?.privacySettings?.showTelegram!==!1,showWhatsapp:e?.privacySettings?.showWhatsapp!==!1,showFacebook:e?.privacySettings?.showFacebook!==!1,showInstagram:e?.privacySettings?.showInstagram!==!1,showVk:e?.privacySettings?.showVk!==!1,showBalance:e?.privacySettings?.showBalance!==!1,showEarnings:e?.privacySettings?.showEarnings!==!1});if(w.useEffect(()=>{e&&(y({:e.?.split(" ")[0]||"",:e.?.split(" ").slice(1).join(" ")||"",:e.||"",telegram:e.socialMedia?.telegram||e.telegram||"",whatsapp:e.socialMedia?.whatsapp||e.whatsapp||"",facebook:e.socialMedia?.facebook||e.facebook||"",instagram:e.socialMedia?.instagram||e.instagram||"",vk:e.socialMedia?.vk||e.vk||"",:e.||"",:e.||""}),N({showPhone:e.privacySettings?.showPhone!==!1,showEmail:e.privacySettings?.showEmail!==!1,showTelegram:e.privacySettings?.showTelegram!==!1,showWhatsapp:e.privacySettings?.showWhatsapp!==!1,showFacebook:e.privacySettings?.showFacebook!==!1,showInstagram:e.privacySettings?.showInstagram!==!1,showVk:e.privacySettings?.showVk!==!1,showBalance:e.privacySettings?.showBalance!==!1,showEarnings:e.privacySettings?.showEarnings!==!1}),e.?x(ws(new Date(e.),"dd.MM.yyyy")):x(""))},[e]),!e||!e.)return s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-[#666]",children:" ..."})})});const j=()=>{y({:e.?.split(" ")[0]||"",:e.?.split(" ").slice(1).join(" ")||"",:e.||"",telegram:e.socialMedia?.telegram||e.telegram||"",whatsapp:e.socialMedia?.whatsapp||e.whatsapp||"",facebook:e.socialMedia?.facebook||e.facebook||"",instagram:e.socialMedia?.instagram||e.instagram||"",vk:e.socialMedia?.vk||e.vk||"",:e.||"",:e.||""}),i(!0)},E=()=>{i(!1)},k=async()=>{try{if(o(!0),!b..trim()){Q.error("    ");return}const B={:`${b..trim()} ${b..trim()}`.trim(),:b.,:b.};b.?(B.=b.,console.log(" Saving birth date:",b.)):console.log(" Birth date is empty in formData");const M=b.telegram.replace(/^@/,"").trim(),z=b.whatsapp.replace(/^@/,"").trim(),P=b.facebook.replace(/^@/,"").trim(),C=b.instagram.replace(/^@/,"").trim(),L=b.vk.replace(/^@/,"").trim();M&&(B.telegram=M),z&&(B.whatsapp=z),P&&(B.facebook=P),C&&(B.instagram=C),L&&(B.vk=L),console.log(" Sending profile update:",B);const U=await s9(B);if(console.log(" Received profile response:",U),U.success)Q.success(" !"),i(!1),t&&await t();else throw new Error(U.error||"Failed to update profile")}catch(W){console.error("Profile update error:",W),Q.error("  ")}finally{o(!1)}},_=W=>{const B=W.target.files?.[0];if(!B)return;if(B.size>2*1024*1024){Q.error("   ( 2MB)");return}const M=new FileReader;M.onloadend=()=>{m(M.result),d(!0)},M.readAsDataURL(B)},A=async W=>{try{const B=new FormData;B.append("avatar",W);const M=await i9(B);if(M.success)y(z=>({...z,:M.avatarUrl})),Q.success(" !"),t&&await t();else throw new Error(M.error||"Failed to upload")}catch(B){console.error("Avatar upload error:",B),Q.error("  ")}},T=["#999999","#3B82F6","#A855F7","#F59E0B"],D=e..split(" ").map(W=>W[0]).join("").toUpperCase(),q=()=>`${window.location.hostname==="localhost"?"http://localhost:5173":window.location.origin}/?ref=${e.}`,K=()=>{const W=q();navigator.clipboard.writeText(W),Q.success(" !",{description:"     ."})},$=()=>{const W=q(),M=`https://t.me/share/url?url=${encodeURIComponent(W)}&text=${encodeURIComponent("    H!      .")}`;window.open(M,"_blank")},H=()=>{navigator.clipboard.writeText(e.),Q.success(" !",{description:"     ."})};return s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs("div",{className:"flex items-center justify-between mb-6 lg:mb-8",children:[s.jsx("h1",{className:"text-[#1E1E1E]",style:{fontSize:"24px",fontWeight:"700"},children:""}),n?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:E,variant:"outline",className:"border-[#E6E9EE]",children:[s.jsx(Mr,{size:16,className:"mr-2"}),""]}),s.jsxs(ie,{onClick:k,disabled:a,className:"bg-[#12C9B6] hover:bg-[#0FB89F] text-white",children:[s.jsx(Ku,{size:16,className:"mr-2"}),a?"...":""]})]}):s.jsxs(ie,{onClick:j,className:"bg-[#39B7FF] hover:bg-[#2A9FE8] text-white",children:[s.jsx(hc,{size:16,className:"mr-2"}),""]})]}),s.jsxs("div",{className:"space-y-4 lg:space-y-6 max-w-full",children:[s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]\\",children:" "})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-3",children:[s.jsxs("div",{className:"relative flex flex-col items-center gap-2",children:[s.jsxs(dCe,{className:"w-32 h-32 flex-shrink-0",children:[(n?b.:e.)?s.jsx(hCe,{src:n?b.:e.}):null,s.jsx(fCe,{className:"text-white text-3xl",style:{background:`linear-gradient(135deg, ${T[e.]} 0%, ${T[e.]}CC 100%)`,fontWeight:"700"},children:D})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:_,className:"hidden"}),s.jsx(ie,{onClick:()=>l.current?.click(),size:"sm",className:"absolute top-0 right-0 rounded-full w-8 h-8 p-0 bg-[#39B7FF] hover:bg-[#2A9FE8] text-white",children:s.jsx(hc,{size:14})})]}),!e.isAdmin&&s.jsx(Va,{children:s.jsxs(qo,{children:[s.jsx(Ho,{asChild:!0,children:s.jsx("div",{children:s.jsx(VOe,{rank:e.})})}),s.jsx(Ko,{className:"max-w-xs p-4 bg-blue-50/95 backdrop-blur-sm border-blue-200/50 rounded-2xl shadow-lg",side:"right",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"font-semibold text-sm text-blue-900",children:[" : ",e.]}),s.jsx("p",{className:"text-xs text-blue-700/80",children:"     .      ,   ."}),s.jsxs("div",{className:"text-xs border-t border-blue-200/50 pt-2 mt-2",children:[e.===1&&s.jsxs("p",{className:"text-blue-600 leading-relaxed",children:[" ",s.jsx("strong",{children:" 1"}),"       (1 )"]}),e.===2&&s.jsxs("p",{className:"text-purple-600 leading-relaxed",children:[" ",s.jsx("strong",{children:" 2"}),"       (2 )"]}),e.===3&&s.jsxs("p",{className:"text-amber-600 leading-relaxed",children:[" ",s.jsx("strong",{children:" 3"}),"     (3 )"]})]})]})})]})})]}),s.jsx("div",{className:"flex-1 space-y-4 w-full min-w-0",children:n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"firstName",className:"text-[#666]",children:""}),s.jsx(Ie,{id:"firstName",value:b.,onChange:W=>y(B=>({...B,:W.target.value})),className:"mt-1",placeholder:""})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"lastName",className:"text-[#666]",children:""}),s.jsx(Ie,{id:"lastName",value:b.,onChange:W=>y(B=>({...B,:W.target.value})),className:"mt-1",placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"phone",className:"text-[#666]",children:""}),s.jsx(Ie,{id:"phone",value:b.,onChange:W=>y(B=>({...B,:W.target.value})),className:"mt-1",placeholder:"+7 (999) 123-45-67"})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"birthDate",className:"text-[#666]",children:" "}),s.jsxs("div",{className:"space-y-2 mt-1",children:[s.jsx(Ie,{type:"text",value:p,onChange:W=>{let B=W.target.value.replace(/[^\d]/g,"");B.length>=2&&(B=B.slice(0,2)+"."+B.slice(2)),B.length>=5&&(B=B.slice(0,5)+"."+B.slice(5)),B.length>10&&(B=B.slice(0,10)),x(B);const M=B.match(/^(\d{2})\.(\d{2})\.(\d{4})$/);if(M){const[,z,P,C]=M,L=`${C}-${P.padStart(2,"0")}-${z.padStart(2,"0")}`;console.log(" Setting date in formData:",L),y(U=>({...U,:L}))}else B.length<10&&y(z=>({...z,:""}))},onKeyDown:W=>{W.key==="Enter"&&(W.preventDefault(),p.match(/^(\d{2})\.(\d{2})\.(\d{4})$/)&&k())},onFocus:()=>{b.&&!p&&x(ws(new Date(b.),"dd.MM.yyyy"))},onBlur:()=>{p&&!p.match(/^(\d{2})\.(\d{2})\.(\d{4})$/)&&(x(""),y(W=>({...W,:""})))},placeholder:"..",className:"w-full"}),s.jsxs(MCe,{children:[s.jsx(ICe,{asChild:!0,children:s.jsxs(ie,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Ga,{size:16,className:"mr-2"}),b.?ws(new Date(b.),"dd MMMM yyyy",{locale:jAe}):"   "]})}),s.jsxs(DCe,{className:"w-auto p-0",align:"start",children:[s.jsx("div",{className:"p-3 border-b space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{className:"flex-1 px-2 py-1 border rounded text-sm",value:b.?new Date(b.).getMonth():new Date().getMonth(),onChange:W=>{const B=b.?new Date(b.):new Date,M=B.getFullYear(),z=String(parseInt(W.target.value)+1).padStart(2,"0"),P=String(B.getDate()).padStart(2,"0"),C=`${M}-${z}-${P}`;y(L=>({...L,:C})),x(ws(new Date(C+"T12:00:00"),"dd.MM.yyyy"))},children:["","","","","","","","","","","",""].map((W,B)=>s.jsx("option",{value:B,children:W},B))}),s.jsx("select",{className:"w-24 px-2 py-1 border rounded text-sm",value:b.?new Date(b.).getFullYear():new Date().getFullYear(),onChange:W=>{const B=b.?new Date(b.):new Date,M=W.target.value,z=String(B.getMonth()+1).padStart(2,"0"),P=String(B.getDate()).padStart(2,"0"),C=`${M}-${z}-${P}`;y(L=>({...L,:C})),x(ws(new Date(C+"T12:00:00"),"dd.MM.yyyy"))},children:Array.from({length:100},(W,B)=>new Date().getFullYear()-B).map(W=>s.jsx("option",{value:W,children:W},W))})]})}),s.jsx(tOe,{mode:"single",selected:b.?new Date(b.+"T12:00:00"):void 0,onSelect:W=>{if(W){const B=W.getFullYear(),M=String(W.getMonth()+1).padStart(2,"0"),z=String(W.getDate()).padStart(2,"0"),P=`${B}-${M}-${z}`;y(C=>({...C,:P})),x(ws(new Date(P+"T12:00:00"),"dd.MM.yyyy"))}},month:b.?new Date(b.+"T12:00:00"):void 0,onMonthChange:W=>{if(W){const B=W.getFullYear(),M=String(W.getMonth()+1).padStart(2,"0"),z=String(W.getDate()).padStart(2,"0"),P=`${B}-${M}-${z}`;y(C=>({...C,:P})),x(ws(new Date(P+"T12:00:00"),"dd.MM.yyyy"))}},initialFocus:!0})]})]}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"11px"},children:"    ..    "})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"telegram",className:"text-[#666]",children:"Telegram"}),s.jsx(Ie,{id:"telegram",value:b.telegram,onChange:W=>y(B=>({...B,telegram:W.target.value})),className:"mt-1",placeholder:"username  @username"}),s.jsx("p",{className:"text-[#999] mt-1",style:{fontSize:"11px"},children:"   t.me/username"})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"whatsapp",className:"text-[#666]",children:"WhatsApp"}),s.jsx(Ie,{id:"whatsapp",value:b.whatsapp,onChange:W=>y(B=>({...B,whatsapp:W.target.value})),className:"mt-1",placeholder:"+7 999 123-45-67"}),s.jsx("p",{className:"text-[#999] mt-1",style:{fontSize:"11px"},children:"   wa.me/"})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"facebook",className:"text-[#666]",children:"Facebook"}),s.jsx(Ie,{id:"facebook",value:b.facebook,onChange:W=>y(B=>({...B,facebook:W.target.value})),className:"mt-1",placeholder:"username"}),s.jsx("p",{className:"text-[#999] mt-1",style:{fontSize:"11px"},children:"   facebook.com/username"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"instagram",className:"text-[#666]",children:"Instagram"}),s.jsx(Ie,{id:"instagram",value:b.instagram,onChange:W=>y(B=>({...B,instagram:W.target.value})),className:"mt-1",placeholder:"username"}),s.jsx("p",{className:"text-[#999] mt-1",style:{fontSize:"11px"},children:"instagram.com/username"})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"vk",className:"text-[#666]",children:"VK"}),s.jsx(Ie,{id:"vk",value:b.vk,onChange:W=>y(B=>({...B,vk:W.target.value})),className:"mt-1",placeholder:"username"}),s.jsx("p",{className:"text-[#999] mt-1",style:{fontSize:"11px"},children:"vk.com/username"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsx(Hs,{size:20,className:"text-[#666]"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:"Email ( )"}),s.jsx("div",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:e.email})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:s.jsx("h2",{className:"text-[#1E1E1E] truncate",style:{fontSize:"20px",fontWeight:"700"},children:e.})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-[#39B7FF]/10 to-[#12C9B6]/10 rounded-xl min-w-0 border border-[#39B7FF]/20",children:[s.jsx(US,{size:20,className:"text-[#39B7FF] flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:"ID "}),s.jsx("div",{className:"text-[#39B7FF] truncate",style:{fontWeight:"700",fontSize:"16px",letterSpacing:"1px"},children:e.id})]}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(e.id),Q.success("ID !")},className:"h-8 w-8 p-0 hover:bg-[#39B7FF]/10",children:s.jsx(xi,{size:14,className:"text-[#39B7FF]"})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-xl min-w-0",children:[s.jsx(Hs,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:"Email"}),s.jsx("div",{className:"text-[#1E1E1E] truncate",style:{fontWeight:"600"},children:e.email||" "})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-xl min-w-0",children:[s.jsx(Sn,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:""}),s.jsx("div",{className:"text-[#1E1E1E] truncate",style:{fontWeight:"600"},children:e.||" "})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-xl min-w-0",children:[s.jsx(Sr,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:"Telegram"}),e.telegram?s.jsxs("a",{href:`https://t.me/${e.telegram.replace(/^@/,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-[#39B7FF] hover:underline truncate block",style:{fontWeight:"600"},children:["@",e.telegram.replace(/^@/,"")]}):s.jsx("div",{className:"text-[#1E1E1E] truncate",style:{fontWeight:"600"},children:" "})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-xl min-w-0",children:[s.jsx(Ga,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:""}),s.jsx("div",{className:"text-[#1E1E1E]",style:{fontWeight:"600",fontSize:"13px"},children:new Date(e.||e.).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-[#F7FAFC] rounded-xl min-w-0",children:[s.jsx(Ga,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-[#666]",style:{fontSize:"12px"},children:" "}),s.jsx("div",{className:"text-[#1E1E1E]",style:{fontWeight:"600",fontSize:"13px"},children:e.?new Date(e.).toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"}):" "})]})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("div",{className:"text-[#666] mb-2",style:{fontSize:"12px"},children:". "}),s.jsxs("div",{"data-social-container":"true",className:"flex flex-wrap gap-2",children:[e.telegram&&s.jsxs("a",{"data-social":"telegram","data-value":e.telegram,href:`https://t.me/${String(e.telegram).replace(/^@/,"").trim()}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 min-w-[140px] px-4 py-2.5 bg-[#0088cc] text-white rounded-lg hover:opacity-90 transition-opacity text-sm font-medium",children:[s.jsx(Vs,{size:16,className:"flex-shrink-0"}),s.jsx("span",{children:"Telegram"})]}),e.whatsapp&&s.jsxs("a",{"data-social":"whatsapp","data-value":e.whatsapp,href:`https://wa.me/${String(e.whatsapp).replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 min-w-[140px] px-4 py-2.5 bg-[#25D366] text-white rounded-lg hover:opacity-90 transition-opacity text-sm font-medium",children:[s.jsx(Sr,{size:16,className:"flex-shrink-0"}),s.jsx("span",{children:"WhatsApp"})]}),e.facebook&&s.jsxs("a",{"data-social":"facebook","data-value":e.facebook,href:`https://facebook.com/${String(e.facebook).replace(/^@/,"").trim()}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 min-w-[140px] px-4 py-2.5 bg-[#1877F2] text-white rounded-lg hover:opacity-90 transition-opacity text-sm font-medium",children:[s.jsx(Yl,{size:16,className:"flex-shrink-0"}),s.jsx("span",{children:"Facebook"})]}),e.instagram&&s.jsxs("a",{"data-social":"instagram","data-value":e.instagram,href:`https://instagram.com/${String(e.instagram).replace(/^@/,"").trim()}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 min-w-[140px] px-4 py-2.5 rounded-lg text-white hover:opacity-90 transition-opacity text-sm font-medium",style:{background:"linear-gradient(to right, #f09433 0%, #e6683c 50%, #bc1888 100%)"},children:[s.jsx(js,{size:16,className:"flex-shrink-0"}),s.jsx("span",{children:"Instagram"})]}),e.vk&&s.jsxs("a",{"data-social":"vk","data-value":e.vk,href:`https://vk.com/${String(e.vk).replace(/^@/,"").trim()}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 min-w-[140px] px-4 py-2.5 bg-[#0077FF] text-white rounded-lg hover:opacity-90 transition-opacity text-sm font-medium",children:[s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M13.162 18.994c.609 0 .858-.406.851-.915-.031-1.917.714-2.949 2.059-1.604 1.488 1.488 1.796 2.519 3.603 2.519h3.2c.808 0 1.126-.26 1.126-.668 0-.863-1.421-2.386-2.625-3.504-1.686-1.565-1.765-1.602-.313-3.486 1.801-2.339 4.157-5.336 2.073-5.336h-3.981c-.772 0-.828.435-1.103 1.083-.995 2.347-2.886 5.387-3.604 4.922-.751-.485-.407-2.406-.35-5.261.015-.754.011-1.271-.141-1.539-.36-.637-1.111-.778-1.742-.778-.631 0-1.381.141-1.742.778-.152.268-.156.785-.141 1.539.057 2.855.401 4.776-.35 5.261-.718.465-2.609-2.575-3.604-4.922-.275-.648-.331-1.083-1.103-1.083H2.294c-2.084 0 .272 2.997 2.073 5.336 1.452 1.884 1.373 1.921-.313 3.486-1.204 1.118-2.625 2.641-2.625 3.504 0 .408.418.668 1.126.668h3.2c1.807 0 2.115-1.031 3.603-2.519 1.345-1.345 2.09-.313 2.059 1.604-.007.509.242.915.851.915h4.894z"})}),s.jsx("span",{children:"VKontakte"})]})]})]})]})})]})})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx($g,{size:20})," "]})}),s.jsxs(Ee,{children:[s.jsx("p",{className:"text-[#666] mb-4 text-sm",children:",         "}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Sn,{size:18,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" "}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showPhone?" ":""})]})]}),s.jsx(Ln,{checked:v.showPhone,onCheckedChange:async W=>{const B={...v,showPhone:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Hs,{size:18,className:"text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" email"}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showEmail?" ":""})]})]}),s.jsx(Ln,{checked:v.showEmail,onCheckedChange:async W=>{const B={...v,showEmail:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(Sr,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" Telegram"}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showTelegram?" ":""})]})]}),s.jsx(Ln,{checked:v.showTelegram,onCheckedChange:async W=>{const B={...v,showTelegram:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx(Sn,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" WhatsApp"}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showWhatsapp?" ":""})]})]}),s.jsx(Ln,{checked:v.showWhatsapp,onCheckedChange:async W=>{const B={...v,showWhatsapp:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#1877F2] rounded-lg flex items-center justify-center",children:s.jsx(Sr,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" Facebook"}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showFacebook?" ":""})]})]}),s.jsx(Ln,{checked:v.showFacebook,onCheckedChange:async W=>{const B={...v,showFacebook:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:s.jsx(js,{size:18,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" Instagram"}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showInstagram?" ":""})]})]}),s.jsx(Ln,{checked:v.showInstagram,onCheckedChange:async W=>{const B={...v,showInstagram:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-[#0077FF] rounded-lg flex items-center justify-center",children:s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M13.162 18.994c.609 0 .858-.406.851-.915-.031-1.917.714-2.949 2.059-1.604 1.488 1.488 1.796 2.519 3.603 2.519h3.2c.808 0 1.126-.26 1.126-.668 0-.863-1.421-2.386-2.625-3.504-1.686-1.565-1.765-1.602-.313-3.486 1.801-2.339 4.157-5.336 2.073-5.336h-3.981c-.772 0-.828.435-1.103 1.083-.995 2.347-2.886 5.387-3.604 4.922-.751-.485-.407-2.406-.35-5.261.015-.754.011-1.271-.141-1.539-.36-.637-1.111-.778-1.742-.778-.631 0-1.381.141-1.742.778-.152.268-.156.785-.141 1.539.057 2.855.401 4.776-.35 5.261-.718.465-2.609-2.575-3.604-4.922-.275-.648-.331-1.083-1.103-1.083H2.294c-2.084 0 .272 2.997 2.073 5.336 1.452 1.884 1.373 1.921-.313 3.486-1.204 1.118-2.625 2.641-2.625 3.504 0 .408.418.668 1.126.668h3.2c1.807 0 2.115-1.031 3.603-2.519 1.345-1.345 2.09-.313 2.059 1.604-.007.509.242.915.851.915h4.894z"})})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" VK"}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showVk?" ":""})]})]}),s.jsx(Ln,{checked:v.showVk,onCheckedChange:async W=>{const B={...v,showVk:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-[#1E1E1E] mb-3",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx($t,{size:18,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" "}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showBalance?" ":""})]})]}),s.jsx(Ln,{checked:v.showBalance,onCheckedChange:async W=>{const B={...v,showBalance:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Pn,{size:18,className:"text-green-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#1E1E1E] font-semibold text-sm",children:" "}),s.jsx("div",{className:"text-[#666] text-xs",children:v.showEarnings?" ":""})]})]}),s.jsx(Ln,{checked:v.showEarnings,onCheckedChange:async W=>{const B={...v,showEarnings:W};N(B);try{await Fi({privacySettings:B}),Q.success("  ")}catch{Q.error("  "),N(v)}}})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsx(eQ,{size:16,className:"text-blue-600 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-blue-700",children:"  ,         "})]})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(rl,{size:20})," "]})}),s.jsxs(Ee,{children:[s.jsx("p",{className:"text-[#666] mb-4",children:"             ."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[#666] mb-2 block",children:"  "}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"flex-1 px-4 py-3 bg-[#F7FAFC] rounded-xl text-[#1E1E1E] flex items-center justify-between min-w-0",children:[s.jsx("span",{className:"truncate",style:{fontWeight:"700",fontSize:"16px",letterSpacing:"2px"},children:e.}),s.jsx(ie,{onClick:H,variant:"ghost",size:"sm",className:"text-[#39B7FF] hover:text-[#2A9FE8] hover:bg-[#39B7FF]/10 flex-shrink-0",children:s.jsx(xi,{size:16})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[#666] mb-2 block",children:"  "}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"px-4 py-3 bg-[#F7FAFC] rounded-xl text-[#666] break-all text-sm",children:q()}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(ie,{onClick:K,className:"flex-1 bg-[#39B7FF] hover:bg-[#2A9FE8] text-white",style:{fontWeight:"600"},children:[s.jsx(xi,{size:16,className:"mr-2"})," "]}),s.jsxs(ie,{onClick:$,className:"flex-1 bg-[#0088cc] hover:bg-[#0077b3] text-white",style:{fontWeight:"600"},children:[s.jsx(rl,{size:16,className:"mr-2"}),"  Telegram"]})]})]})]})]})]})]})]}),r&&s.jsx("div",{className:"mt-6",children:s.jsx(Se,{className:"border-red-200 rounded-2xl shadow-sm bg-white",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs(ie,{onClick:r,variant:"outline",className:"w-full border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700",style:{fontWeight:"600"},children:[s.jsx(NQ,{size:16,className:"mr-2"}),"  "]})})})}),s.jsx(UOe,{open:c,onClose:()=>{d(!1),l.current&&(l.current.value="")},imageSrc:h,onCropComplete:async W=>{A(W)}})]})}function HOe({currentUser:e,onDeleted:t}){const[r,n]=w.useState(""),[i,a]=w.useState(!1),[o,l]=w.useState(!1),c=async()=>{if(r!==""){Q.error(' ""  ');return}if(confirm(` !

 ,       ?

 :
  
  
  
   

 ID       .

  !

?`)){a(!0);try{const d=await o9();if(d.success)Q.success("  ",{description:" ID .    ..."}),localStorage.clear(),setTimeout(()=>{t?t():window.location.reload()},2e3);else throw new Error(d.error||"Failed to delete account")}catch(d){console.error("Delete account error:",d),Q.error("   "),a(!1)}}};return o?s.jsxs(Se,{className:"border-red-500 bg-red-50",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-red-700",children:[s.jsx(rs,{className:"w-5 h-5"}),"   "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-4 space-y-2",children:[s.jsx("p",{className:"text-red-900",children:s.jsx("strong",{children:"      !"})}),s.jsx("p",{className:"text-sm text-red-800",children:"  :"}),s.jsxs("ul",{className:"text-sm text-red-800 list-disc ml-5 space-y-1",children:[s.jsx("li",{children:"    "}),s.jsx("li",{children:"  "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"  ID     "})]}),s.jsx("p",{className:"text-sm text-red-900 mt-3",children:s.jsx("strong",{children:"  !"})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm text-red-700 mb-2 block",children:[" ",s.jsx("strong",{children:""}),"  :"]}),s.jsx(Ie,{value:r,onChange:d=>n(d.target.value),placeholder:"",className:"border-red-300",disabled:i})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{onClick:()=>{l(!1),n("")},variant:"outline",className:"flex-1",disabled:i,children:""}),s.jsx(ie,{onClick:c,disabled:i||r!=="",variant:"destructive",className:"flex-1",children:i?"...":" "})]})]})]}):s.jsxs(Se,{className:"border-red-200 bg-red-50",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-red-700",children:[s.jsx(to,{className:"w-5 h-5"})," "]})}),s.jsx(Ee,{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 mb-3",children:"   -  .     ,   ."}),s.jsxs(ie,{onClick:()=>l(!0),variant:"outline",className:"w-full border-red-300 text-red-600 hover:bg-red-100",children:[s.jsx(to,{className:"w-4 h-4 mr-2"}),"   "]})]})})]})}function KOe({currentUser:e,onLogout:t,onUpdate:r}){if(console.log(" SettingsRu: Rendering with currentUser:",e),!e)return s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-[#666]",children:" ..."})})});const[n,i]=w.useState({darkMode:e?.settings?.darkMode||!1,compactView:e?.settings?.compactView||!1,emailNotifications:e?.settings?.emailNotifications!==!1,pushNotifications:e?.settings?.pushNotifications!==!1,weeklyReports:e?.settings?.weeklyReports!==!1,twoFactorAuth:e?.settings?.twoFactorAuth||!1});w.useEffect(()=>{e?.settings&&i({darkMode:e.settings.darkMode||!1,compactView:e.settings.compactView||!1,emailNotifications:e.settings.emailNotifications!==!1,pushNotifications:e.settings.pushNotifications!==!1,weeklyReports:e.settings.weeklyReports!==!1,twoFactorAuth:e.settings.twoFactorAuth||!1})},[e]);const a=async(h,m)=>{const p={...n,[h]:m};i(p);try{if(!(await fetch(`https://cxodxkxobqyuqgsksxap.supabase.co/functions/v1/make-server-05aa3c8a/api/profile/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4b2R4a3hvYnF5dXFnc2tzeGFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI3MTYxMTgsImV4cCI6MjA0ODI5MjExOH0.T_aUF5zrq2iy1cww0U1PKQMz7nSSgb-NjjOZdq3v2E0"},body:JSON.stringify({settings:p})})).ok)throw new Error("Failed to update settings");Q.success(" "),r&&await r()}catch(x){console.error("Error updating setting:",x),Q.error("  "),i(n)}},o=e.||"USDT",l=h=>{Q.success("  ",{description:`: ${h}`})},c=()=>{Q.success(" !",{description:"   ."})},d=()=>{confirm(` !

     ?

 :
    
  

    .

?`)&&(localStorage.clear(),Q.success(" ! ...",{description:"   "}),setTimeout(()=>{window.location.reload()},1e3))};return s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsx("h1",{className:"text-[#1E1E1E] mb-6 lg:mb-8",style:{fontSize:"24px",fontWeight:"700"},children:""}),s.jsxs("div",{className:"max-w-3xl space-y-4 lg:space-y-6",children:[s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Qg,{size:20,className:"text-[#39B7FF]"})," "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#666] mt-1",children:"     "})]}),s.jsx(Ln,{checked:n.darkMode,onCheckedChange:h=>a("darkMode",h)})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#E6E9EE]",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#666] mt-1",children:"    "})]}),s.jsx(Ln,{checked:n.compactView,onCheckedChange:h=>a("compactView",h)})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Xs,{size:20,className:"text-[#39B7FF]"}),""]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:"Email "}),s.jsx("p",{className:"text-[#666] mt-1",children:"      "})]}),s.jsx(Ln,{checked:n.emailNotifications,onCheckedChange:h=>a("emailNotifications",h),defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#E6E9EE]",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:"Push "}),s.jsx("p",{className:"text-[#666] mt-1",children:"      "})]}),s.jsx(Ln,{checked:n.pushNotifications,onCheckedChange:h=>a("pushNotifications",h),defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[#E6E9EE]",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#666] mt-1",children:"   "})]}),s.jsx(Ln,{checked:n.weeklyReports,onCheckedChange:h=>a("weeklyReports",h),defaultChecked:!0})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(On,{size:20,className:"text-[#39B7FF]"})," "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:"  "}),s.jsx("p",{className:"text-[#666] mt-1 mb-3",children:",     "}),s.jsxs(qn,{value:o,onValueChange:l,children:[s.jsx(Kn,{children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"USDT",children:"USDT (Tether) - -"}),s.jsx(gt,{value:"",children:"  -  "}),s.jsx(gt,{value:"",children:"  - 3-5 "})]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-[#E6E9EE]",children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#666] mt-1 mb-3",children:"     "}),s.jsxs(qn,{defaultValue:"10000",children:[s.jsx(Kn,{children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"5000",children:"5,000"}),s.jsx(gt,{value:"10000",children:"10,000"}),s.jsx(gt,{value:"25000",children:"25,000"}),s.jsx(gt,{value:"50000",children:"50,000"}),s.jsx(gt,{value:"disabled",children:""})]})]})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(kn,{size:20,className:"text-[#39B7FF]"}),"  "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Oe,{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:" "}),s.jsx("p",{className:"text-[#666] mt-1",children:"      "})]}),s.jsx(Ln,{checked:n.twoFactorAuth,onCheckedChange:h=>a("twoFactorAuth",h)})]}),s.jsx("div",{className:"pt-4 border-t border-[#E6E9EE]",children:s.jsx(ie,{variant:"outline",className:"w-full border-[#E6E9EE]",children:" "})}),s.jsx("div",{children:s.jsx(ie,{variant:"outline",className:"w-full border-[#E6E9EE]",children:"  "})})]})]}),s.jsxs(Se,{className:"border-orange-200 rounded-2xl shadow-sm bg-orange-50",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Un,{size:20,className:"text-orange-600"})," "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#666] mb-3",children:'      SKU  (: "Unknown product SKU: EF"),       .'}),s.jsxs("p",{className:"text-[#666] mb-4",children:[s.jsx("strong",{children:" :"})," , .     ."]})]}),s.jsxs(ie,{onClick:d,variant:"outline",className:"w-full border-orange-300 text-orange-700 hover:bg-orange-100",style:{fontWeight:"600"},children:[s.jsx(Un,{size:18,className:"mr-2"}),"  "]})]})]}),s.jsx(HOe,{currentUser:e,onDeleted:t}),t&&s.jsx(Se,{className:"border-red-200 rounded-2xl shadow-sm bg-white",children:s.jsx(Ee,{className:"pt-6",children:s.jsx(ie,{onClick:t,variant:"outline",className:"w-full border-red-300 text-red-600 hover:bg-red-50",style:{fontWeight:"600"},children:"  "})})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(ie,{onClick:c,className:"flex-1 bg-[#39B7FF] hover:bg-[#2A9FE8] text-white",style:{fontWeight:"600"},children:" "}),s.jsx(ie,{variant:"outline",className:"border-[#E6E9EE]",onClick:()=>Q.info(" ",{description:"   "}),children:"  "})]})]})]})}function GOe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState("all");w.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const b=await P9();b.success?t(b.notifications||[]):t([])}catch(b){console.error("Error loading notifications:",b),t([])}finally{n(!1)}},l=async b=>{try{await O9(b),t(e.map(y=>y.id===b?{...y,:!0}:y))}catch(y){console.error("Error marking notification as read:",y)}},c=async()=>{try{await T9(),t(e.map(b=>({...b,:!0})))}catch(b){console.error("Error marking all notifications as read:",b)}},d=async b=>{try{await R9(b),t(e.filter(y=>y.id!==b))}catch(y){console.error("Error deleting notification:",y)}},h=b=>{switch(b){case"order":return s.jsx(pf,{className:"size-5 text-[#39B7FF]"});case"commission":return s.jsx(Wn,{className:"size-5 text-[#12C9B6]"});case"new_partner":return s.jsx(Ot,{className:"size-5 text-purple-500"});case"goal":return s.jsx(Js,{className:"size-5 text-orange-500"});case"inactive":return s.jsx(ks,{className:"size-5 text-yellow-500"});case"withdrawal":return s.jsx(Zh,{className:"size-5 text-green-500"});case"course":return s.jsx(Fg,{className:"size-5 text-blue-500"});default:return s.jsx(Xs,{className:"size-5 text-gray-500"})}},m=b=>({order:"",commission:"",new_partner:"",goal:"",inactive:"",withdrawal:"",course:""})[b],p=i==="all"?e:e.filter(b=>b.===i),x=e.filter(b=>!b.).length;return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"size-12 text-gray-400 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-500",children:" ..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"flex items-center gap-2",children:[s.jsx(Xs,{className:"size-8 text-[#39B7FF]"}),"",x>0&&s.jsx(Qe,{className:"bg-red-500 text-white",children:x})]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x>0&&s.jsxs(ie,{onClick:c,variant:"outline",className:"gap-2",children:[s.jsx(xX,{className:"size-4"})," "]}),s.jsxs(ie,{variant:"outline",className:"gap-2",children:[s.jsx(Zg,{className:"size-4"}),""]})]})]}),s.jsx(Se,{children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(kd,{className:"size-4 text-gray-500"}),s.jsxs(ie,{variant:i==="all"?"default":"outline",size:"sm",onClick:()=>a("all"),children:[" (",e.length,")"]}),s.jsxs(ie,{variant:i==="order"?"default":"outline",size:"sm",onClick:()=>a("order"),className:"gap-2",children:[s.jsx(pf,{className:"size-3"}),""]}),s.jsxs(ie,{variant:i==="commission"?"default":"outline",size:"sm",onClick:()=>a("commission"),className:"gap-2",children:[s.jsx(Wn,{className:"size-3"}),""]}),s.jsxs(ie,{variant:i==="new_partner"?"default":"outline",size:"sm",onClick:()=>a("new_partner"),className:"gap-2",children:[s.jsx(Ot,{className:"size-3"}),""]}),s.jsxs(ie,{variant:i==="goal"?"default":"outline",size:"sm",onClick:()=>a("goal"),className:"gap-2",children:[s.jsx(Js,{className:"size-3"}),""]}),s.jsxs(ie,{variant:i==="withdrawal"?"default":"outline",size:"sm",onClick:()=>a("withdrawal"),className:"gap-2",children:[s.jsx(Zh,{className:"size-3"}),""]})]})})}),s.jsx("div",{className:"space-y-3",children:p.length===0?s.jsx(Se,{children:s.jsxs(Ee,{className:"py-12 text-center",children:[s.jsx(Xs,{className:"size-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-gray-500 mb-2",children:i==="all"?" ":`   "${m(i)}"`}),s.jsx("p",{className:"text-sm text-gray-400",children:"   ,   "})]})}):p.map(b=>s.jsx(Se,{className:`
                transition-all cursor-pointer hover:shadow-md
                ${b.?"hover:bg-gray-50":"bg-blue-50 border-l-4 border-l-[#39B7FF]"}
              `,onClick:()=>!b.&&l(b.id),children:s.jsx(Ee,{className:"py-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`
                    p-3 rounded-full flex-shrink-0
                    ${b.?"bg-gray-100":"bg-white"}
                  `,children:h(b.)}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:`
                            ${b.?"font-medium text-gray-700":"font-semibold"}
                          `,children:b.}),s.jsx(Qe,{variant:"outline",className:"text-xs",children:m(b.)})]}),s.jsx("p",{className:`
                          text-sm mb-2
                          ${b.?"text-gray-600":"text-gray-700"}
                        `,children:b.}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.).toLocaleString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!b.&&s.jsx(ie,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),l(b.id)},className:"h-8 w-8 p-0",title:"  ",children:s.jsx(Hi,{className:"size-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),d(b.id)},className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",title:"",children:s.jsx(Un,{className:"size-4"})})]})]})})]})})},b.id))})]})}function YOe(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[i,a]=w.useState({}),[o,l]=w.useState({}),[c,d]=w.useState(!0),[h,m]=w.useState("achievements");w.useEffect(()=>{p()},[]);const p=async()=>{try{d(!0);const[v,N,j]=await Promise.all([R_(),M9(),I9()]);t(v.achievements||[]),l(v.stats||{}),n(N.challenges||[]),a(j||{})}catch(v){console.error("Error loading gamification data:",v)}finally{d(!1)}},x=v=>{switch(v){case"sales":return s.jsx(Js,{className:"w-5 h-5"});case"team":return s.jsx(Ot,{className:"w-5 h-5"});case"money":return s.jsx(Wn,{className:"w-5 h-5"});case"level":return s.jsx($t,{className:"w-5 h-5"});default:return s.jsx(Pn,{className:"w-5 h-5"})}},b=v=>{switch(v){case"sales":return"";case"team":return"";case"money":return"";case"level":return"";case"special":return"";default:return""}},y=v=>{const N=new Date,E=new Date(v).getTime()-N.getTime();if(E<=0)return"";const k=Math.floor(E/(1e3*60*60*24)),_=Math.floor(E%(1e3*60*60*24)/(1e3*60*60));return k>0?`${k} .`:`${_} .`};return c?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#39B7FF] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#666]",children:" ..."})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(fa,{className:"w-8 h-8 text-[#39B7FF]"}),s.jsx("h1",{className:"text-[#1A202C]",style:{fontSize:"28px",fontWeight:"700"},children:""})]}),s.jsx("p",{className:"text-[#666]",children:"       "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 lg:mb-8",children:[s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#10B981]/10 flex items-center justify-center",children:s.jsx(fa,{className:"w-5 h-5 text-[#10B981]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666] text-sm",children:""}),s.jsxs("div",{className:"text-[#1A202C]",style:{fontSize:"20px",fontWeight:"700"},children:[o.completed||0,"/",o.total||0]})]})]})})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#39B7FF]/10 flex items-center justify-center",children:s.jsx(Js,{className:"w-5 h-5 text-[#39B7FF]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666] text-sm",children:" "}),s.jsx("div",{className:"text-[#1A202C]",style:{fontSize:"20px",fontWeight:"700"},children:o.inProgress||0})]})]})})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#F59E0B]/10 flex items-center justify-center",children:s.jsx(Wn,{className:"w-5 h-5 text-[#F59E0B]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666] text-sm",children:""}),s.jsxs("div",{className:"text-[#1A202C]",style:{fontSize:"20px",fontWeight:"700"},children:[(o.totalEarnings||0).toLocaleString("ru-RU"),""]})]})]})})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#12C9B6]/10 flex items-center justify-center",children:s.jsx(Ot,{className:"w-5 h-5 text-[#12C9B6]"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#666] text-sm",children:""}),s.jsx("div",{className:"text-[#1A202C]",style:{fontSize:"20px",fontWeight:"700"},children:o.totalPartners||0})]})]})})})]}),s.jsxs(Ni,{value:h,onValueChange:m,className:"space-y-6",children:[s.jsxs(Si,{className:"bg-white border border-[#E6E9EE] p-1 rounded-xl",children:[s.jsxs(Dt,{value:"achievements",className:"rounded-lg data-[state=active]:bg-[#39B7FF] data-[state=active]:text-white",children:[s.jsx(fa,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"challenges",className:"rounded-lg data-[state=active]:bg-[#39B7FF] data-[state=active]:text-white",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"leaderboard",className:"rounded-lg data-[state=active]:bg-[#39B7FF] data-[state=active]:text-white",children:[s.jsx(A6,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsx(Vt,{value:"achievements",className:"space-y-4",children:["sales","team","money","level"].map(v=>{const N=e.filter(j=>j.===v);return N.length===0?null:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x(v),s.jsx("h2",{className:"text-[#1A202C]",style:{fontSize:"18px",fontWeight:"600"},children:b(v)})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:N.map(j=>s.jsx(Se,{className:`border-2 rounded-2xl shadow-sm transition-all ${j.?"border-[#10B981] bg-[#10B981]/5":"border-[#E6E9EE] hover:border-[#39B7FF]/30"}`,children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center text-3xl flex-shrink-0",style:{backgroundColor:`${j.}15`},children:j.}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#1A202C]",style:{fontSize:"16px",fontWeight:"600"},children:j.}),s.jsx("p",{className:"text-[#666] text-sm mt-1",children:j.})]}),j.&&s.jsxs(Qe,{className:"bg-[#10B981] hover:bg-[#10B981] flex-shrink-0",children:[s.jsx(gf,{className:"w-3 h-3 mr-1"}),""]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-[#666]",children:""}),s.jsxs("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:[j..toLocaleString("ru-RU")," / ",j..toLocaleString("ru-RU")]})]}),s.jsx(xf,{value:j./j.*100,className:"h-2",style:{backgroundColor:"#E6E9EE"}})]}),s.jsx("div",{className:"mt-4 p-3 rounded-lg",style:{backgroundColor:"#F7FAFC"},children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Pn,{className:"w-4 h-4",style:{color:j.}}),s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:j.})]})})]})]})})},j.id))})]},v)})}),s.jsx(Vt,{value:"challenges",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4",children:r.map(v=>s.jsx(Se,{className:`border-2 rounded-2xl shadow-sm ${v.?"border-[#10B981] bg-[#10B981]/5":"border-[#E6E9EE]"}`,children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-4xl flex-shrink-0",style:{backgroundColor:`${v.}15`},children:v.}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-[#1A202C]",style:{fontSize:"18px",fontWeight:"600"},children:v.}),s.jsx(Qe,{variant:"outline",style:{borderColor:v.,color:v.},children:b(v.)})]}),s.jsx("p",{className:"text-[#666]",children:v.})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-[#666] text-sm",children:" "}),s.jsx("div",{className:"text-[#1A202C]",style:{fontSize:"16px",fontWeight:"600"},children:y(v.)})]}),v.&&s.jsxs(Qe,{className:"bg-[#10B981] hover:bg-[#10B981]",children:[s.jsx(gf,{className:"w-3 h-3 mr-1"}),""]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-[#666]",children:""}),s.jsxs("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:[v..toLocaleString("ru-RU")," / ",v..toLocaleString("ru-RU")]})]}),s.jsx(xf,{value:v./v.*100,className:"h-3",style:{backgroundColor:"#E6E9EE"}})]}),s.jsx("div",{className:"p-4 rounded-xl",style:{backgroundColor:`${v.}10`},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"w-5 h-5",style:{color:v.}}),s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontSize:"16px",fontWeight:"700"},children:v.})]})})]})]})})},v.id))})}),s.jsx(Vt,{value:"leaderboard",className:"space-y-6",children:["sales","team","earnings"].map(v=>{const N=i[v]||[],j={sales:" ",team:"  ",earnings:" "};return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2 text-[#1A202C]",children:[s.jsx(A6,{className:"w-5 h-5 text-[#F59E0B]"}),j[v]]})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-3",children:N.map((E,k)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl transition-all hover:bg-[#F7FAFC]",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${k===0?"bg-[#F59E0B] text-white":k===1?"bg-[#9CA3AF] text-white":k===2?"bg-[#CD7F32] text-white":"bg-[#E6E9EE] text-[#666]"}`,style:{fontSize:"16px",fontWeight:"700"},children:k+1}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-[#1A202C]",style:{fontSize:"16px",fontWeight:"600"},children:[E.," ",E.]}),s.jsxs(Qe,{variant:"outline",className:"text-xs",children:[" ",E.]})]})}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-[#1A202C]",style:{fontSize:"18px",fontWeight:"700"},children:[E..toLocaleString("ru-RU")," ",E.]})})]},E.userId))})})]},v)})})]})]})}var Gg={exports:{}},XOe=Gg.exports,ZF;function QOe(){return ZF||(ZF=1,(function(e,t){(function(r,n){e.exports=n()})(XOe,(()=>(()=>{var r={873:(o,l)=>{var c,d,h=(function(){var m=function(B,M){var z=B,P=N[M],C=null,L=0,U=null,R=[],I={},V=function(X,fe){C=(function(de){for(var te=new Array(de),he=0;he<de;he+=1){te[he]=new Array(de);for(var we=0;we<de;we+=1)te[he][we]=null}return te})(L=4*z+17),re(0,0),re(L-7,0),re(0,L-7),me(),ce(),ue(X,fe),z>=7&&ae(X),U==null&&(U=ee(z,P,R)),pe(U,fe)},re=function(X,fe){for(var de=-1;de<=7;de+=1)if(!(X+de<=-1||L<=X+de))for(var te=-1;te<=7;te+=1)fe+te<=-1||L<=fe+te||(C[X+de][fe+te]=0<=de&&de<=6&&(te==0||te==6)||0<=te&&te<=6&&(de==0||de==6)||2<=de&&de<=4&&2<=te&&te<=4)},ce=function(){for(var X=8;X<L-8;X+=1)C[X][6]==null&&(C[X][6]=X%2==0);for(var fe=8;fe<L-8;fe+=1)C[6][fe]==null&&(C[6][fe]=fe%2==0)},me=function(){for(var X=j.getPatternPosition(z),fe=0;fe<X.length;fe+=1)for(var de=0;de<X.length;de+=1){var te=X[fe],he=X[de];if(C[te][he]==null)for(var we=-2;we<=2;we+=1)for(var ze=-2;ze<=2;ze+=1)C[te+we][he+ze]=we==-2||we==2||ze==-2||ze==2||we==0&&ze==0}},ae=function(X){for(var fe=j.getBCHTypeNumber(z),de=0;de<18;de+=1){var te=!X&&(fe>>de&1)==1;C[Math.floor(de/3)][de%3+L-8-3]=te}for(de=0;de<18;de+=1)te=!X&&(fe>>de&1)==1,C[de%3+L-8-3][Math.floor(de/3)]=te},ue=function(X,fe){for(var de=P<<3|fe,te=j.getBCHTypeInfo(de),he=0;he<15;he+=1){var we=!X&&(te>>he&1)==1;he<6?C[he][8]=we:he<8?C[he+1][8]=we:C[L-15+he][8]=we}for(he=0;he<15;he+=1)we=!X&&(te>>he&1)==1,he<8?C[8][L-he-1]=we:he<9?C[8][15-he-1+1]=we:C[8][15-he-1]=we;C[L-8][8]=!X},pe=function(X,fe){for(var de=-1,te=L-1,he=7,we=0,ze=j.getMaskFunction(fe),se=L-1;se>0;se-=2)for(se==6&&(se-=1);;){for(var ne=0;ne<2;ne+=1)if(C[te][se-ne]==null){var ve=!1;we<X.length&&(ve=(X[we]>>>he&1)==1),ze(te,se-ne)&&(ve=!ve),C[te][se-ne]=ve,(he-=1)==-1&&(we+=1,he=7)}if((te+=de)<0||L<=te){te-=de,de=-de;break}}},ee=function(X,fe,de){for(var te=_.getRSBlocks(X,fe),he=A(),we=0;we<de.length;we+=1){var ze=de[we];he.put(ze.getMode(),4),he.put(ze.getLength(),j.getLengthInBits(ze.getMode(),X)),ze.write(he)}var se=0;for(we=0;we<te.length;we+=1)se+=te[we].dataCount;if(he.getLengthInBits()>8*se)throw"code length overflow. ("+he.getLengthInBits()+">"+8*se+")";for(he.getLengthInBits()+4<=8*se&&he.put(0,4);he.getLengthInBits()%8!=0;)he.putBit(!1);for(;!(he.getLengthInBits()>=8*se||(he.put(236,8),he.getLengthInBits()>=8*se));)he.put(17,8);return(function(ne,ve){for(var J=0,je=0,Ae=0,Te=new Array(ve.length),Be=new Array(ve.length),De=0;De<ve.length;De+=1){var et=ve[De].dataCount,vt=ve[De].totalCount-et;je=Math.max(je,et),Ae=Math.max(Ae,vt),Te[De]=new Array(et);for(var Ue=0;Ue<Te[De].length;Ue+=1)Te[De][Ue]=255&ne.getBuffer()[Ue+J];J+=et;var pt=j.getErrorCorrectPolynomial(vt),Ht=k(Te[De],pt.getLength()-1).mod(pt);for(Be[De]=new Array(pt.getLength()-1),Ue=0;Ue<Be[De].length;Ue+=1){var ur=Ue+Ht.getLength()-Be[De].length;Be[De][Ue]=ur>=0?Ht.getAt(ur):0}}var Wr=0;for(Ue=0;Ue<ve.length;Ue+=1)Wr+=ve[Ue].totalCount;var Jr=new Array(Wr),ir=0;for(Ue=0;Ue<je;Ue+=1)for(De=0;De<ve.length;De+=1)Ue<Te[De].length&&(Jr[ir]=Te[De][Ue],ir+=1);for(Ue=0;Ue<Ae;Ue+=1)for(De=0;De<ve.length;De+=1)Ue<Be[De].length&&(Jr[ir]=Be[De][Ue],ir+=1);return Jr})(he,te)};I.addData=function(X,fe){var de=null;switch(fe=fe||"Byte"){case"Numeric":de=T(X);break;case"Alphanumeric":de=D(X);break;case"Byte":de=q(X);break;case"Kanji":de=K(X);break;default:throw"mode:"+fe}R.push(de),U=null},I.isDark=function(X,fe){if(X<0||L<=X||fe<0||L<=fe)throw X+","+fe;return C[X][fe]},I.getModuleCount=function(){return L},I.make=function(){if(z<1){for(var X=1;X<40;X++){for(var fe=_.getRSBlocks(X,P),de=A(),te=0;te<R.length;te++){var he=R[te];de.put(he.getMode(),4),de.put(he.getLength(),j.getLengthInBits(he.getMode(),X)),he.write(de)}var we=0;for(te=0;te<fe.length;te++)we+=fe[te].dataCount;if(de.getLengthInBits()<=8*we)break}z=X}V(!1,(function(){for(var ze=0,se=0,ne=0;ne<8;ne+=1){V(!0,ne);var ve=j.getLostPoint(I);(ne==0||ze>ve)&&(ze=ve,se=ne)}return se})())},I.createTableTag=function(X,fe){X=X||2;var de="";de+='<table style="',de+=" border-width: 0px; border-style: none;",de+=" border-collapse: collapse;",de+=" padding: 0px; margin: "+(fe=fe===void 0?4*X:fe)+"px;",de+='">',de+="<tbody>";for(var te=0;te<I.getModuleCount();te+=1){de+="<tr>";for(var he=0;he<I.getModuleCount();he+=1)de+='<td style="',de+=" border-width: 0px; border-style: none;",de+=" border-collapse: collapse;",de+=" padding: 0px; margin: 0px;",de+=" width: "+X+"px;",de+=" height: "+X+"px;",de+=" background-color: ",de+=I.isDark(te,he)?"#000000":"#ffffff",de+=";",de+='"/>';de+="</tr>"}return(de+="</tbody>")+"</table>"},I.createSvgTag=function(X,fe,de,te){var he={};typeof arguments[0]=="object"&&(X=(he=arguments[0]).cellSize,fe=he.margin,de=he.alt,te=he.title),X=X||2,fe=fe===void 0?4*X:fe,(de=typeof de=="string"?{text:de}:de||{}).text=de.text||null,de.id=de.text?de.id||"qrcode-description":null,(te=typeof te=="string"?{text:te}:te||{}).text=te.text||null,te.id=te.text?te.id||"qrcode-title":null;var we,ze,se,ne,ve=I.getModuleCount()*X+2*fe,J="";for(ne="l"+X+",0 0,"+X+" -"+X+",0 0,-"+X+"z ",J+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',J+=he.scalable?"":' width="'+ve+'px" height="'+ve+'px"',J+=' viewBox="0 0 '+ve+" "+ve+'" ',J+=' preserveAspectRatio="xMinYMin meet"',J+=te.text||de.text?' role="img" aria-labelledby="'+xe([te.id,de.id].join(" ").trim())+'"':"",J+=">",J+=te.text?'<title id="'+xe(te.id)+'">'+xe(te.text)+"</title>":"",J+=de.text?'<description id="'+xe(de.id)+'">'+xe(de.text)+"</description>":"",J+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',J+='<path d="',ze=0;ze<I.getModuleCount();ze+=1)for(se=ze*X+fe,we=0;we<I.getModuleCount();we+=1)I.isDark(ze,we)&&(J+="M"+(we*X+fe)+","+se+ne);return(J+='" stroke="transparent" fill="black"/>')+"</svg>"},I.createDataURL=function(X,fe){X=X||2,fe=fe===void 0?4*X:fe;var de=I.getModuleCount()*X+2*fe,te=fe,he=de-fe;return W(de,de,(function(we,ze){if(te<=we&&we<he&&te<=ze&&ze<he){var se=Math.floor((we-te)/X),ne=Math.floor((ze-te)/X);return I.isDark(ne,se)?0:1}return 1}))},I.createImgTag=function(X,fe,de){X=X||2,fe=fe===void 0?4*X:fe;var te=I.getModuleCount()*X+2*fe,he="";return he+="<img",he+=' src="',he+=I.createDataURL(X,fe),he+='"',he+=' width="',he+=te,he+='"',he+=' height="',he+=te,he+='"',de&&(he+=' alt="',he+=xe(de),he+='"'),he+"/>"};var xe=function(X){for(var fe="",de=0;de<X.length;de+=1){var te=X.charAt(de);switch(te){case"<":fe+="&lt;";break;case">":fe+="&gt;";break;case"&":fe+="&amp;";break;case'"':fe+="&quot;";break;default:fe+=te}}return fe};return I.createASCII=function(X,fe){if((X=X||1)<2)return(function(Te){Te=Te===void 0?2:Te;var Be,De,et,vt,Ue,pt=1*I.getModuleCount()+2*Te,Ht=Te,ur=pt-Te,Wr={"":""," ":""," ":"","  ":" "},Jr={"":""," ":""," ":" ","  ":" "},ir="";for(Be=0;Be<pt;Be+=2){for(et=Math.floor((Be-Ht)/1),vt=Math.floor((Be+1-Ht)/1),De=0;De<pt;De+=1)Ue="",Ht<=De&&De<ur&&Ht<=Be&&Be<ur&&I.isDark(et,Math.floor((De-Ht)/1))&&(Ue=" "),Ht<=De&&De<ur&&Ht<=Be+1&&Be+1<ur&&I.isDark(vt,Math.floor((De-Ht)/1))?Ue+=" ":Ue+="",ir+=Te<1&&Be+1>=ur?Jr[Ue]:Wr[Ue];ir+=`
`}return pt%2&&Te>0?ir.substring(0,ir.length-pt-1)+Array(pt+1).join(""):ir.substring(0,ir.length-1)})(fe);X-=1,fe=fe===void 0?2*X:fe;var de,te,he,we,ze=I.getModuleCount()*X+2*fe,se=fe,ne=ze-fe,ve=Array(X+1).join(""),J=Array(X+1).join("  "),je="",Ae="";for(de=0;de<ze;de+=1){for(he=Math.floor((de-se)/X),Ae="",te=0;te<ze;te+=1)we=1,se<=te&&te<ne&&se<=de&&de<ne&&I.isDark(he,Math.floor((te-se)/X))&&(we=0),Ae+=we?ve:J;for(he=0;he<X;he+=1)je+=Ae+`
`}return je.substring(0,je.length-1)},I.renderTo2dContext=function(X,fe){fe=fe||2;for(var de=I.getModuleCount(),te=0;te<de;te++)for(var he=0;he<de;he++)X.fillStyle=I.isDark(te,he)?"black":"white",X.fillRect(te*fe,he*fe,fe,fe)},I};m.stringToBytes=(m.stringToBytesFuncs={default:function(B){for(var M=[],z=0;z<B.length;z+=1){var P=B.charCodeAt(z);M.push(255&P)}return M}}).default,m.createStringToBytes=function(B,M){var z=(function(){for(var C=H(B),L=function(){var ce=C.read();if(ce==-1)throw"eof";return ce},U=0,R={};;){var I=C.read();if(I==-1)break;var V=L(),re=L()<<8|L();R[String.fromCharCode(I<<8|V)]=re,U+=1}if(U!=M)throw U+" != "+M;return R})(),P=63;return function(C){for(var L=[],U=0;U<C.length;U+=1){var R=C.charCodeAt(U);if(R<128)L.push(R);else{var I=z[C.charAt(U)];typeof I=="number"?(255&I)==I?L.push(I):(L.push(I>>>8),L.push(255&I)):L.push(P)}}return L}};var p,x,b,y,v,N={L:1,M:0,Q:3,H:2},j=(p=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],x=1335,b=7973,v=function(B){for(var M=0;B!=0;)M+=1,B>>>=1;return M},(y={}).getBCHTypeInfo=function(B){for(var M=B<<10;v(M)-v(x)>=0;)M^=x<<v(M)-v(x);return 21522^(B<<10|M)},y.getBCHTypeNumber=function(B){for(var M=B<<12;v(M)-v(b)>=0;)M^=b<<v(M)-v(b);return B<<12|M},y.getPatternPosition=function(B){return p[B-1]},y.getMaskFunction=function(B){switch(B){case 0:return function(M,z){return(M+z)%2==0};case 1:return function(M,z){return M%2==0};case 2:return function(M,z){return z%3==0};case 3:return function(M,z){return(M+z)%3==0};case 4:return function(M,z){return(Math.floor(M/2)+Math.floor(z/3))%2==0};case 5:return function(M,z){return M*z%2+M*z%3==0};case 6:return function(M,z){return(M*z%2+M*z%3)%2==0};case 7:return function(M,z){return(M*z%3+(M+z)%2)%2==0};default:throw"bad maskPattern:"+B}},y.getErrorCorrectPolynomial=function(B){for(var M=k([1],0),z=0;z<B;z+=1)M=M.multiply(k([1,E.gexp(z)],0));return M},y.getLengthInBits=function(B,M){if(1<=M&&M<10)switch(B){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+B}else if(M<27)switch(B){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+B}else{if(!(M<41))throw"type:"+M;switch(B){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+B}}},y.getLostPoint=function(B){for(var M=B.getModuleCount(),z=0,P=0;P<M;P+=1)for(var C=0;C<M;C+=1){for(var L=0,U=B.isDark(P,C),R=-1;R<=1;R+=1)if(!(P+R<0||M<=P+R))for(var I=-1;I<=1;I+=1)C+I<0||M<=C+I||R==0&&I==0||U==B.isDark(P+R,C+I)&&(L+=1);L>5&&(z+=3+L-5)}for(P=0;P<M-1;P+=1)for(C=0;C<M-1;C+=1){var V=0;B.isDark(P,C)&&(V+=1),B.isDark(P+1,C)&&(V+=1),B.isDark(P,C+1)&&(V+=1),B.isDark(P+1,C+1)&&(V+=1),V!=0&&V!=4||(z+=3)}for(P=0;P<M;P+=1)for(C=0;C<M-6;C+=1)B.isDark(P,C)&&!B.isDark(P,C+1)&&B.isDark(P,C+2)&&B.isDark(P,C+3)&&B.isDark(P,C+4)&&!B.isDark(P,C+5)&&B.isDark(P,C+6)&&(z+=40);for(C=0;C<M;C+=1)for(P=0;P<M-6;P+=1)B.isDark(P,C)&&!B.isDark(P+1,C)&&B.isDark(P+2,C)&&B.isDark(P+3,C)&&B.isDark(P+4,C)&&!B.isDark(P+5,C)&&B.isDark(P+6,C)&&(z+=40);var re=0;for(C=0;C<M;C+=1)for(P=0;P<M;P+=1)B.isDark(P,C)&&(re+=1);return z+Math.abs(100*re/M/M-50)/5*10},y),E=(function(){for(var B=new Array(256),M=new Array(256),z=0;z<8;z+=1)B[z]=1<<z;for(z=8;z<256;z+=1)B[z]=B[z-4]^B[z-5]^B[z-6]^B[z-8];for(z=0;z<255;z+=1)M[B[z]]=z;return{glog:function(P){if(P<1)throw"glog("+P+")";return M[P]},gexp:function(P){for(;P<0;)P+=255;for(;P>=256;)P-=255;return B[P]}}})();function k(B,M){if(B.length===void 0)throw B.length+"/"+M;var z=(function(){for(var C=0;C<B.length&&B[C]==0;)C+=1;for(var L=new Array(B.length-C+M),U=0;U<B.length-C;U+=1)L[U]=B[U+C];return L})(),P={getAt:function(C){return z[C]},getLength:function(){return z.length},multiply:function(C){for(var L=new Array(P.getLength()+C.getLength()-1),U=0;U<P.getLength();U+=1)for(var R=0;R<C.getLength();R+=1)L[U+R]^=E.gexp(E.glog(P.getAt(U))+E.glog(C.getAt(R)));return k(L,0)},mod:function(C){if(P.getLength()-C.getLength()<0)return P;for(var L=E.glog(P.getAt(0))-E.glog(C.getAt(0)),U=new Array(P.getLength()),R=0;R<P.getLength();R+=1)U[R]=P.getAt(R);for(R=0;R<C.getLength();R+=1)U[R]^=E.gexp(E.glog(C.getAt(R))+L);return k(U,0).mod(C)}};return P}var _=(function(){var B=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],M=function(P,C){var L={};return L.totalCount=P,L.dataCount=C,L},z={getRSBlocks:function(P,C){var L=(function(ae,ue){switch(ue){case N.L:return B[4*(ae-1)+0];case N.M:return B[4*(ae-1)+1];case N.Q:return B[4*(ae-1)+2];case N.H:return B[4*(ae-1)+3];default:return}})(P,C);if(L===void 0)throw"bad rs block @ typeNumber:"+P+"/errorCorrectionLevel:"+C;for(var U=L.length/3,R=[],I=0;I<U;I+=1)for(var V=L[3*I+0],re=L[3*I+1],ce=L[3*I+2],me=0;me<V;me+=1)R.push(M(re,ce));return R}};return z})(),A=function(){var B=[],M=0,z={getBuffer:function(){return B},getAt:function(P){var C=Math.floor(P/8);return(B[C]>>>7-P%8&1)==1},put:function(P,C){for(var L=0;L<C;L+=1)z.putBit((P>>>C-L-1&1)==1)},getLengthInBits:function(){return M},putBit:function(P){var C=Math.floor(M/8);B.length<=C&&B.push(0),P&&(B[C]|=128>>>M%8),M+=1}};return z},T=function(B){var M=B,z={getMode:function(){return 1},getLength:function(L){return M.length},write:function(L){for(var U=M,R=0;R+2<U.length;)L.put(P(U.substring(R,R+3)),10),R+=3;R<U.length&&(U.length-R==1?L.put(P(U.substring(R,R+1)),4):U.length-R==2&&L.put(P(U.substring(R,R+2)),7))}},P=function(L){for(var U=0,R=0;R<L.length;R+=1)U=10*U+C(L.charAt(R));return U},C=function(L){if("0"<=L&&L<="9")return L.charCodeAt(0)-48;throw"illegal char :"+L};return z},D=function(B){var M=B,z={getMode:function(){return 2},getLength:function(C){return M.length},write:function(C){for(var L=M,U=0;U+1<L.length;)C.put(45*P(L.charAt(U))+P(L.charAt(U+1)),11),U+=2;U<L.length&&C.put(P(L.charAt(U)),6)}},P=function(C){if("0"<=C&&C<="9")return C.charCodeAt(0)-48;if("A"<=C&&C<="Z")return C.charCodeAt(0)-65+10;switch(C){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+C}};return z},q=function(B){var M=m.stringToBytes(B);return{getMode:function(){return 4},getLength:function(z){return M.length},write:function(z){for(var P=0;P<M.length;P+=1)z.put(M[P],8)}}},K=function(B){var M=m.stringToBytesFuncs.SJIS;if(!M)throw"sjis not supported.";(function(){var C=M("");if(C.length!=2||(C[0]<<8|C[1])!=38726)throw"sjis not supported."})();var z=M(B),P={getMode:function(){return 8},getLength:function(C){return~~(z.length/2)},write:function(C){for(var L=z,U=0;U+1<L.length;){var R=(255&L[U])<<8|255&L[U+1];if(33088<=R&&R<=40956)R-=33088;else{if(!(57408<=R&&R<=60351))throw"illegal char at "+(U+1)+"/"+R;R-=49472}R=192*(R>>>8&255)+(255&R),C.put(R,13),U+=2}if(U<L.length)throw"illegal char at "+(U+1)}};return P},$=function(){var B=[],M={writeByte:function(z){B.push(255&z)},writeShort:function(z){M.writeByte(z),M.writeByte(z>>>8)},writeBytes:function(z,P,C){P=P||0,C=C||z.length;for(var L=0;L<C;L+=1)M.writeByte(z[L+P])},writeString:function(z){for(var P=0;P<z.length;P+=1)M.writeByte(z.charCodeAt(P))},toByteArray:function(){return B},toString:function(){var z="";z+="[";for(var P=0;P<B.length;P+=1)P>0&&(z+=","),z+=B[P];return z+"]"}};return M},H=function(B){var M=B,z=0,P=0,C=0,L={read:function(){for(;C<8;){if(z>=M.length){if(C==0)return-1;throw"unexpected end of file./"+C}var R=M.charAt(z);if(z+=1,R=="=")return C=0,-1;R.match(/^\s$/)||(P=P<<6|U(R.charCodeAt(0)),C+=6)}var I=P>>>C-8&255;return C-=8,I}},U=function(R){if(65<=R&&R<=90)return R-65;if(97<=R&&R<=122)return R-97+26;if(48<=R&&R<=57)return R-48+52;if(R==43)return 62;if(R==47)return 63;throw"c:"+R};return L},W=function(B,M,z){for(var P=(function(re,ce){var me=re,ae=ce,ue=new Array(re*ce),pe={setPixel:function(X,fe,de){ue[fe*me+X]=de},write:function(X){X.writeString("GIF87a"),X.writeShort(me),X.writeShort(ae),X.writeByte(128),X.writeByte(0),X.writeByte(0),X.writeByte(0),X.writeByte(0),X.writeByte(0),X.writeByte(255),X.writeByte(255),X.writeByte(255),X.writeString(","),X.writeShort(0),X.writeShort(0),X.writeShort(me),X.writeShort(ae),X.writeByte(0);var fe=ee(2);X.writeByte(2);for(var de=0;fe.length-de>255;)X.writeByte(255),X.writeBytes(fe,de,255),de+=255;X.writeByte(fe.length-de),X.writeBytes(fe,de,fe.length-de),X.writeByte(0),X.writeString(";")}},ee=function(X){for(var fe=1<<X,de=1+(1<<X),te=X+1,he=xe(),we=0;we<fe;we+=1)he.add(String.fromCharCode(we));he.add(String.fromCharCode(fe)),he.add(String.fromCharCode(de));var ze,se,ne,ve=$(),J=(ze=ve,se=0,ne=0,{write:function(Be,De){if(Be>>>De)throw"length over";for(;se+De>=8;)ze.writeByte(255&(Be<<se|ne)),De-=8-se,Be>>>=8-se,ne=0,se=0;ne|=Be<<se,se+=De},flush:function(){se>0&&ze.writeByte(ne)}});J.write(fe,te);var je=0,Ae=String.fromCharCode(ue[je]);for(je+=1;je<ue.length;){var Te=String.fromCharCode(ue[je]);je+=1,he.contains(Ae+Te)?Ae+=Te:(J.write(he.indexOf(Ae),te),he.size()<4095&&(he.size()==1<<te&&(te+=1),he.add(Ae+Te)),Ae=Te)}return J.write(he.indexOf(Ae),te),J.write(de,te),J.flush(),ve.toByteArray()},xe=function(){var X={},fe=0,de={add:function(te){if(de.contains(te))throw"dup key:"+te;X[te]=fe,fe+=1},size:function(){return fe},indexOf:function(te){return X[te]},contains:function(te){return X[te]!==void 0}};return de};return pe})(B,M),C=0;C<M;C+=1)for(var L=0;L<B;L+=1)P.setPixel(L,C,z(L,C));var U=$();P.write(U);for(var R=(function(){var re=0,ce=0,me=0,ae="",ue={},pe=function(xe){ae+=String.fromCharCode(ee(63&xe))},ee=function(xe){if(!(xe<0)){if(xe<26)return 65+xe;if(xe<52)return xe-26+97;if(xe<62)return xe-52+48;if(xe==62)return 43;if(xe==63)return 47}throw"n:"+xe};return ue.writeByte=function(xe){for(re=re<<8|255&xe,ce+=8,me+=1;ce>=6;)pe(re>>>ce-6),ce-=6},ue.flush=function(){if(ce>0&&(pe(re<<6-ce),re=0,ce=0),me%3!=0)for(var xe=3-me%3,X=0;X<xe;X+=1)ae+="="},ue.toString=function(){return ae},ue})(),I=U.toByteArray(),V=0;V<I.length;V+=1)R.writeByte(I[V]);return R.flush(),"data:image/gif;base64,"+R};return m})();h.stringToBytesFuncs["UTF-8"]=function(m){return(function(p){for(var x=[],b=0;b<p.length;b++){var y=p.charCodeAt(b);y<128?x.push(y):y<2048?x.push(192|y>>6,128|63&y):y<55296||y>=57344?x.push(224|y>>12,128|y>>6&63,128|63&y):(b++,y=65536+((1023&y)<<10|1023&p.charCodeAt(b)),x.push(240|y>>18,128|y>>12&63,128|y>>6&63,128|63&y))}return x})(m)},(d=typeof(c=function(){return h})=="function"?c.apply(l,[]):c)===void 0||(o.exports=d)}},n={};function i(o){var l=n[o];if(l!==void 0)return l.exports;var c=n[o]={exports:{}};return r[o](c,c.exports,i),c.exports}i.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return i.d(l,{a:l}),l},i.d=(o,l)=>{for(var c in l)i.o(l,c)&&!i.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:l[c]})},i.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l);var a={};return(()=>{i.d(a,{default:()=>M});const o=z=>!!z&&typeof z=="object"&&!Array.isArray(z);function l(z,...P){if(!P.length)return z;const C=P.shift();return C!==void 0&&o(z)&&o(C)?(z=Object.assign({},z),Object.keys(C).forEach((L=>{const U=z[L],R=C[L];Array.isArray(U)&&Array.isArray(R)?z[L]=R:o(U)&&o(R)?z[L]=l(Object.assign({},U),R):z[L]=R})),l(z,...P)):z}function c(z,P){const C=document.createElement("a");C.download=P,C.href=z,document.body.appendChild(C),C.click(),document.body.removeChild(C)}const d={L:.07,M:.15,Q:.25,H:.3};class h{constructor({svg:P,type:C,window:L}){this._svg=P,this._type=C,this._window=L}draw(P,C,L,U){let R;switch(this._type){case"dots":R=this._drawDot;break;case"classy":R=this._drawClassy;break;case"classy-rounded":R=this._drawClassyRounded;break;case"rounded":R=this._drawRounded;break;case"extra-rounded":R=this._drawExtraRounded;break;default:R=this._drawSquare}R.call(this,{x:P,y:C,size:L,getNeighbor:U})}_rotateFigure({x:P,y:C,size:L,rotation:U=0,draw:R}){var I;const V=P+L/2,re=C+L/2;R(),(I=this._element)===null||I===void 0||I.setAttribute("transform",`rotate(${180*U/Math.PI},${V},${re})`)}_basicDot(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(L+C/2)),this._element.setAttribute("cy",String(U+C/2)),this._element.setAttribute("r",String(C/2))}}))}_basicSquare(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(L)),this._element.setAttribute("y",String(U)),this._element.setAttribute("width",String(C)),this._element.setAttribute("height",String(C))}}))}_basicSideRounded(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${L} ${U}v ${C}h `+C/2+`a ${C/2} ${C/2}, 0, 0, 0, 0 ${-C}`)}}))}_basicCornerRounded(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${L} ${U}v ${C}h ${C}v `+-C/2+`a ${C/2} ${C/2}, 0, 0, 0, ${-C/2} ${-C/2}`)}}))}_basicCornerExtraRounded(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${L} ${U}v ${C}h ${C}a ${C} ${C}, 0, 0, 0, ${-C} ${-C}`)}}))}_basicCornersRounded(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${L} ${U}v `+C/2+`a ${C/2} ${C/2}, 0, 0, 0, ${C/2} ${C/2}h `+C/2+"v "+-C/2+`a ${C/2} ${C/2}, 0, 0, 0, ${-C/2} ${-C/2}`)}}))}_drawDot({x:P,y:C,size:L}){this._basicDot({x:P,y:C,size:L,rotation:0})}_drawSquare({x:P,y:C,size:L}){this._basicSquare({x:P,y:C,size:L,rotation:0})}_drawRounded({x:P,y:C,size:L,getNeighbor:U}){const R=U?+U(-1,0):0,I=U?+U(1,0):0,V=U?+U(0,-1):0,re=U?+U(0,1):0,ce=R+I+V+re;if(ce!==0)if(ce>2||R&&I||V&&re)this._basicSquare({x:P,y:C,size:L,rotation:0});else{if(ce===2){let me=0;return R&&V?me=Math.PI/2:V&&I?me=Math.PI:I&&re&&(me=-Math.PI/2),void this._basicCornerRounded({x:P,y:C,size:L,rotation:me})}if(ce===1){let me=0;return V?me=Math.PI/2:I?me=Math.PI:re&&(me=-Math.PI/2),void this._basicSideRounded({x:P,y:C,size:L,rotation:me})}}else this._basicDot({x:P,y:C,size:L,rotation:0})}_drawExtraRounded({x:P,y:C,size:L,getNeighbor:U}){const R=U?+U(-1,0):0,I=U?+U(1,0):0,V=U?+U(0,-1):0,re=U?+U(0,1):0,ce=R+I+V+re;if(ce!==0)if(ce>2||R&&I||V&&re)this._basicSquare({x:P,y:C,size:L,rotation:0});else{if(ce===2){let me=0;return R&&V?me=Math.PI/2:V&&I?me=Math.PI:I&&re&&(me=-Math.PI/2),void this._basicCornerExtraRounded({x:P,y:C,size:L,rotation:me})}if(ce===1){let me=0;return V?me=Math.PI/2:I?me=Math.PI:re&&(me=-Math.PI/2),void this._basicSideRounded({x:P,y:C,size:L,rotation:me})}}else this._basicDot({x:P,y:C,size:L,rotation:0})}_drawClassy({x:P,y:C,size:L,getNeighbor:U}){const R=U?+U(-1,0):0,I=U?+U(1,0):0,V=U?+U(0,-1):0,re=U?+U(0,1):0;R+I+V+re!==0?R||V?I||re?this._basicSquare({x:P,y:C,size:L,rotation:0}):this._basicCornerRounded({x:P,y:C,size:L,rotation:Math.PI/2}):this._basicCornerRounded({x:P,y:C,size:L,rotation:-Math.PI/2}):this._basicCornersRounded({x:P,y:C,size:L,rotation:Math.PI/2})}_drawClassyRounded({x:P,y:C,size:L,getNeighbor:U}){const R=U?+U(-1,0):0,I=U?+U(1,0):0,V=U?+U(0,-1):0,re=U?+U(0,1):0;R+I+V+re!==0?R||V?I||re?this._basicSquare({x:P,y:C,size:L,rotation:0}):this._basicCornerExtraRounded({x:P,y:C,size:L,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:P,y:C,size:L,rotation:-Math.PI/2}):this._basicCornersRounded({x:P,y:C,size:L,rotation:Math.PI/2})}}const m={dot:"dot",square:"square",extraRounded:"extra-rounded"},p=Object.values(m);class x{constructor({svg:P,type:C,window:L}){this._svg=P,this._type=C,this._window=L}draw(P,C,L,U){let R;switch(this._type){case m.square:R=this._drawSquare;break;case m.extraRounded:R=this._drawExtraRounded;break;default:R=this._drawDot}R.call(this,{x:P,y:C,size:L,rotation:U})}_rotateFigure({x:P,y:C,size:L,rotation:U=0,draw:R}){var I;const V=P+L/2,re=C+L/2;R(),(I=this._element)===null||I===void 0||I.setAttribute("transform",`rotate(${180*U/Math.PI},${V},${re})`)}_basicDot(P){const{size:C,x:L,y:U}=P,R=C/7;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${L+C/2} ${U}a ${C/2} ${C/2} 0 1 0 0.1 0zm 0 ${R}a ${C/2-R} ${C/2-R} 0 1 1 -0.1 0Z`)}}))}_basicSquare(P){const{size:C,x:L,y:U}=P,R=C/7;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${L} ${U}v ${C}h ${C}v `+-C+`zM ${L+R} ${U+R}h `+(C-2*R)+"v "+(C-2*R)+"h "+(2*R-C)+"z")}}))}_basicExtraRounded(P){const{size:C,x:L,y:U}=P,R=C/7;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${L} ${U+2.5*R}v `+2*R+`a ${2.5*R} ${2.5*R}, 0, 0, 0, ${2.5*R} ${2.5*R}h `+2*R+`a ${2.5*R} ${2.5*R}, 0, 0, 0, ${2.5*R} ${2.5*-R}v `+-2*R+`a ${2.5*R} ${2.5*R}, 0, 0, 0, ${2.5*-R} ${2.5*-R}h `+-2*R+`a ${2.5*R} ${2.5*R}, 0, 0, 0, ${2.5*-R} ${2.5*R}M ${L+2.5*R} ${U+R}h `+2*R+`a ${1.5*R} ${1.5*R}, 0, 0, 1, ${1.5*R} ${1.5*R}v `+2*R+`a ${1.5*R} ${1.5*R}, 0, 0, 1, ${1.5*-R} ${1.5*R}h `+-2*R+`a ${1.5*R} ${1.5*R}, 0, 0, 1, ${1.5*-R} ${1.5*-R}v `+-2*R+`a ${1.5*R} ${1.5*R}, 0, 0, 1, ${1.5*R} ${1.5*-R}`)}}))}_drawDot({x:P,y:C,size:L,rotation:U}){this._basicDot({x:P,y:C,size:L,rotation:U})}_drawSquare({x:P,y:C,size:L,rotation:U}){this._basicSquare({x:P,y:C,size:L,rotation:U})}_drawExtraRounded({x:P,y:C,size:L,rotation:U}){this._basicExtraRounded({x:P,y:C,size:L,rotation:U})}}const b={dot:"dot",square:"square"},y=Object.values(b);class v{constructor({svg:P,type:C,window:L}){this._svg=P,this._type=C,this._window=L}draw(P,C,L,U){let R;R=this._type===b.square?this._drawSquare:this._drawDot,R.call(this,{x:P,y:C,size:L,rotation:U})}_rotateFigure({x:P,y:C,size:L,rotation:U=0,draw:R}){var I;const V=P+L/2,re=C+L/2;R(),(I=this._element)===null||I===void 0||I.setAttribute("transform",`rotate(${180*U/Math.PI},${V},${re})`)}_basicDot(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(L+C/2)),this._element.setAttribute("cy",String(U+C/2)),this._element.setAttribute("r",String(C/2))}}))}_basicSquare(P){const{size:C,x:L,y:U}=P;this._rotateFigure(Object.assign(Object.assign({},P),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(L)),this._element.setAttribute("y",String(U)),this._element.setAttribute("width",String(C)),this._element.setAttribute("height",String(C))}}))}_drawDot({x:P,y:C,size:L,rotation:U}){this._basicDot({x:P,y:C,size:L,rotation:U})}_drawSquare({x:P,y:C,size:L,rotation:U}){this._basicSquare({x:P,y:C,size:L,rotation:U})}}const N="circle",j=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],E=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class k{constructor(P,C){this._roundSize=L=>this._options.dotsOptions.roundSize?Math.floor(L):L,this._window=C,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(P.width)),this._element.setAttribute("height",String(P.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),P.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${P.width} ${P.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=P.image,this._instanceId=k.instanceCount++,this._options=P}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(P){const C=P.getModuleCount(),L=Math.min(this._options.width,this._options.height)-2*this._options.margin,U=this._options.shape===N?L/Math.sqrt(2):L,R=this._roundSize(U/C);let I={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=P,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:V,qrOptions:re}=this._options,ce=V.imageSize*d[re.errorCorrectionLevel],me=Math.floor(ce*C*C);I=(function({originalHeight:ae,originalWidth:ue,maxHiddenDots:pe,maxHiddenAxisDots:ee,dotSize:xe}){const X={x:0,y:0},fe={x:0,y:0};if(ae<=0||ue<=0||pe<=0||xe<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const de=ae/ue;return X.x=Math.floor(Math.sqrt(pe/de)),X.x<=0&&(X.x=1),ee&&ee<X.x&&(X.x=ee),X.x%2==0&&X.x--,fe.x=X.x*xe,X.y=1+2*Math.ceil((X.x*de-1)/2),fe.y=Math.round(fe.x*de),(X.y*X.x>pe||ee&&ee<X.y)&&(ee&&ee<X.y?(X.y=ee,X.y%2==0&&X.x--):X.y-=2,fe.y=X.y*xe,X.x=1+2*Math.ceil((X.y/de-1)/2),fe.x=Math.round(fe.y/de)),{height:fe.y,width:fe.x,hideYDots:X.y,hideXDots:X.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:me,maxHiddenAxisDots:C-14,dotSize:R})}this.drawBackground(),this.drawDots(((V,re)=>{var ce,me,ae,ue,pe,ee;return!(this._options.imageOptions.hideBackgroundDots&&V>=(C-I.hideYDots)/2&&V<(C+I.hideYDots)/2&&re>=(C-I.hideXDots)/2&&re<(C+I.hideXDots)/2||!((ce=j[V])===null||ce===void 0)&&ce[re]||!((me=j[V-C+7])===null||me===void 0)&&me[re]||!((ae=j[V])===null||ae===void 0)&&ae[re-C+7]||!((ue=E[V])===null||ue===void 0)&&ue[re]||!((pe=E[V-C+7])===null||pe===void 0)&&pe[re]||!((ee=E[V])===null||ee===void 0)&&ee[re-C+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:I.width,height:I.height,count:C,dotSize:R})}drawBackground(){var P,C,L;const U=this._element,R=this._options;if(U){const I=(P=R.backgroundOptions)===null||P===void 0?void 0:P.gradient,V=(C=R.backgroundOptions)===null||C===void 0?void 0:C.color;let re=R.height,ce=R.width;if(I||V){const me=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((L=R.backgroundOptions)===null||L===void 0)&&L.round&&(re=ce=Math.min(R.width,R.height),me.setAttribute("rx",String(re/2*R.backgroundOptions.round))),me.setAttribute("x",String(this._roundSize((R.width-ce)/2))),me.setAttribute("y",String(this._roundSize((R.height-re)/2))),me.setAttribute("width",String(ce)),me.setAttribute("height",String(re)),this._backgroundClipPath.appendChild(me),this._createColor({options:I,color:V,additionalRotation:0,x:0,y:0,height:R.height,width:R.width,name:`background-color-${this._instanceId}`})}}}drawDots(P){var C,L;if(!this._qr)throw"QR code is not defined";const U=this._options,R=this._qr.getModuleCount();if(R>U.width||R>U.height)throw"The canvas is too small.";const I=Math.min(U.width,U.height)-2*U.margin,V=U.shape===N?I/Math.sqrt(2):I,re=this._roundSize(V/R),ce=this._roundSize((U.width-R*re)/2),me=this._roundSize((U.height-R*re)/2),ae=new h({svg:this._element,type:U.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(C=U.dotsOptions)===null||C===void 0?void 0:C.gradient,color:U.dotsOptions.color,additionalRotation:0,x:0,y:0,height:U.height,width:U.width,name:`dot-color-${this._instanceId}`});for(let ue=0;ue<R;ue++)for(let pe=0;pe<R;pe++)P&&!P(ue,pe)||!((L=this._qr)===null||L===void 0)&&L.isDark(ue,pe)&&(ae.draw(ce+pe*re,me+ue*re,re,((ee,xe)=>!(pe+ee<0||ue+xe<0||pe+ee>=R||ue+xe>=R)&&!(P&&!P(ue+xe,pe+ee))&&!!this._qr&&this._qr.isDark(ue+xe,pe+ee))),ae._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(ae._element));if(U.shape===N){const ue=this._roundSize((I/re-R)/2),pe=R+2*ue,ee=ce-ue*re,xe=me-ue*re,X=[],fe=this._roundSize(pe/2);for(let de=0;de<pe;de++){X[de]=[];for(let te=0;te<pe;te++)de>=ue-1&&de<=pe-ue&&te>=ue-1&&te<=pe-ue||Math.sqrt((de-fe)*(de-fe)+(te-fe)*(te-fe))>fe?X[de][te]=0:X[de][te]=this._qr.isDark(te-2*ue<0?te:te>=R?te-2*ue:te-ue,de-2*ue<0?de:de>=R?de-2*ue:de-ue)?1:0}for(let de=0;de<pe;de++)for(let te=0;te<pe;te++)X[de][te]&&(ae.draw(ee+te*re,xe+de*re,re,((he,we)=>{var ze;return!!(!((ze=X[de+we])===null||ze===void 0)&&ze[te+he])})),ae._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(ae._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const P=this._element,C=this._options;if(!P)throw"Element code is not defined";const L=this._qr.getModuleCount(),U=Math.min(C.width,C.height)-2*C.margin,R=C.shape===N?U/Math.sqrt(2):U,I=this._roundSize(R/L),V=7*I,re=3*I,ce=this._roundSize((C.width-L*I)/2),me=this._roundSize((C.height-L*I)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([ae,ue,pe])=>{var ee,xe,X,fe,de,te,he,we,ze,se,ne,ve,J,je;const Ae=ce+ae*I*(L-7),Te=me+ue*I*(L-7);let Be=this._dotsClipPath,De=this._dotsClipPath;if((!((ee=C.cornersSquareOptions)===null||ee===void 0)&&ee.gradient||!((xe=C.cornersSquareOptions)===null||xe===void 0)&&xe.color)&&(Be=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),Be.setAttribute("id",`clip-path-corners-square-color-${ae}-${ue}-${this._instanceId}`),this._defs.appendChild(Be),this._cornersSquareClipPath=this._cornersDotClipPath=De=Be,this._createColor({options:(X=C.cornersSquareOptions)===null||X===void 0?void 0:X.gradient,color:(fe=C.cornersSquareOptions)===null||fe===void 0?void 0:fe.color,additionalRotation:pe,x:Ae,y:Te,height:V,width:V,name:`corners-square-color-${ae}-${ue}-${this._instanceId}`})),((de=C.cornersSquareOptions)===null||de===void 0?void 0:de.type)&&p.includes(C.cornersSquareOptions.type)){const et=new x({svg:this._element,type:C.cornersSquareOptions.type,window:this._window});et.draw(Ae,Te,V,pe),et._element&&Be&&Be.appendChild(et._element)}else{const et=new h({svg:this._element,type:((te=C.cornersSquareOptions)===null||te===void 0?void 0:te.type)||C.dotsOptions.type,window:this._window});for(let vt=0;vt<j.length;vt++)for(let Ue=0;Ue<j[vt].length;Ue++)!((he=j[vt])===null||he===void 0)&&he[Ue]&&(et.draw(Ae+Ue*I,Te+vt*I,I,((pt,Ht)=>{var ur;return!!(!((ur=j[vt+Ht])===null||ur===void 0)&&ur[Ue+pt])})),et._element&&Be&&Be.appendChild(et._element))}if((!((we=C.cornersDotOptions)===null||we===void 0)&&we.gradient||!((ze=C.cornersDotOptions)===null||ze===void 0)&&ze.color)&&(De=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),De.setAttribute("id",`clip-path-corners-dot-color-${ae}-${ue}-${this._instanceId}`),this._defs.appendChild(De),this._cornersDotClipPath=De,this._createColor({options:(se=C.cornersDotOptions)===null||se===void 0?void 0:se.gradient,color:(ne=C.cornersDotOptions)===null||ne===void 0?void 0:ne.color,additionalRotation:pe,x:Ae+2*I,y:Te+2*I,height:re,width:re,name:`corners-dot-color-${ae}-${ue}-${this._instanceId}`})),((ve=C.cornersDotOptions)===null||ve===void 0?void 0:ve.type)&&y.includes(C.cornersDotOptions.type)){const et=new v({svg:this._element,type:C.cornersDotOptions.type,window:this._window});et.draw(Ae+2*I,Te+2*I,re,pe),et._element&&De&&De.appendChild(et._element)}else{const et=new h({svg:this._element,type:((J=C.cornersDotOptions)===null||J===void 0?void 0:J.type)||C.dotsOptions.type,window:this._window});for(let vt=0;vt<E.length;vt++)for(let Ue=0;Ue<E[vt].length;Ue++)!((je=E[vt])===null||je===void 0)&&je[Ue]&&(et.draw(Ae+Ue*I,Te+vt*I,I,((pt,Ht)=>{var ur;return!!(!((ur=E[vt+Ht])===null||ur===void 0)&&ur[Ue+pt])})),et._element&&De&&De.appendChild(et._element))}}))}loadImage(){return new Promise(((P,C)=>{var L;const U=this._options;if(!U.image)return C("Image is not defined");if(!((L=U.nodeCanvas)===null||L===void 0)&&L.loadImage)U.nodeCanvas.loadImage(U.image).then((R=>{var I,V;if(this._image=R,this._options.imageOptions.saveAsBlob){const re=(I=U.nodeCanvas)===null||I===void 0?void 0:I.createCanvas(this._image.width,this._image.height);(V=re?.getContext("2d"))===null||V===void 0||V.drawImage(R,0,0),this._imageUri=re?.toDataURL()}P()})).catch(C);else{const R=new this._window.Image;typeof U.imageOptions.crossOrigin=="string"&&(R.crossOrigin=U.imageOptions.crossOrigin),this._image=R,R.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function(I,V){return new Promise((re=>{const ce=new V.XMLHttpRequest;ce.onload=function(){const me=new V.FileReader;me.onloadend=function(){re(me.result)},me.readAsDataURL(ce.response)},ce.open("GET",I),ce.responseType="blob",ce.send()}))})(U.image||"",this._window)),P()},R.src=U.image}}))}async drawImage({width:P,height:C,count:L,dotSize:U}){const R=this._options,I=this._roundSize((R.width-L*U)/2),V=this._roundSize((R.height-L*U)/2),re=I+this._roundSize(R.imageOptions.margin+(L*U-P)/2),ce=V+this._roundSize(R.imageOptions.margin+(L*U-C)/2),me=P-2*R.imageOptions.margin,ae=C-2*R.imageOptions.margin,ue=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");ue.setAttribute("href",this._imageUri||""),ue.setAttribute("xlink:href",this._imageUri||""),ue.setAttribute("x",String(re)),ue.setAttribute("y",String(ce)),ue.setAttribute("width",`${me}px`),ue.setAttribute("height",`${ae}px`),this._element.appendChild(ue)}_createColor({options:P,color:C,additionalRotation:L,x:U,y:R,height:I,width:V,name:re}){const ce=V>I?V:I,me=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(me.setAttribute("x",String(U)),me.setAttribute("y",String(R)),me.setAttribute("height",String(I)),me.setAttribute("width",String(V)),me.setAttribute("clip-path",`url('#clip-path-${re}')`),P){let ae;if(P.type==="radial")ae=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),ae.setAttribute("id",re),ae.setAttribute("gradientUnits","userSpaceOnUse"),ae.setAttribute("fx",String(U+V/2)),ae.setAttribute("fy",String(R+I/2)),ae.setAttribute("cx",String(U+V/2)),ae.setAttribute("cy",String(R+I/2)),ae.setAttribute("r",String(ce/2));else{const ue=((P.rotation||0)+L)%(2*Math.PI),pe=(ue+2*Math.PI)%(2*Math.PI);let ee=U+V/2,xe=R+I/2,X=U+V/2,fe=R+I/2;pe>=0&&pe<=.25*Math.PI||pe>1.75*Math.PI&&pe<=2*Math.PI?(ee-=V/2,xe-=I/2*Math.tan(ue),X+=V/2,fe+=I/2*Math.tan(ue)):pe>.25*Math.PI&&pe<=.75*Math.PI?(xe-=I/2,ee-=V/2/Math.tan(ue),fe+=I/2,X+=V/2/Math.tan(ue)):pe>.75*Math.PI&&pe<=1.25*Math.PI?(ee+=V/2,xe+=I/2*Math.tan(ue),X-=V/2,fe-=I/2*Math.tan(ue)):pe>1.25*Math.PI&&pe<=1.75*Math.PI&&(xe+=I/2,ee+=V/2/Math.tan(ue),fe-=I/2,X-=V/2/Math.tan(ue)),ae=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),ae.setAttribute("id",re),ae.setAttribute("gradientUnits","userSpaceOnUse"),ae.setAttribute("x1",String(Math.round(ee))),ae.setAttribute("y1",String(Math.round(xe))),ae.setAttribute("x2",String(Math.round(X))),ae.setAttribute("y2",String(Math.round(fe)))}P.colorStops.forEach((({offset:ue,color:pe})=>{const ee=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");ee.setAttribute("offset",100*ue+"%"),ee.setAttribute("stop-color",pe),ae.appendChild(ee)})),me.setAttribute("fill",`url('#${re}')`),this._defs.appendChild(ae)}else C&&me.setAttribute("fill",C);this._element.appendChild(me)}}k.instanceCount=0;const _=k,A="canvas",T={};for(let z=0;z<=40;z++)T[z]=z;const D={type:A,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:T[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function q(z){const P=Object.assign({},z);if(!P.colorStops||!P.colorStops.length)throw"Field 'colorStops' is required in gradient";return P.rotation?P.rotation=Number(P.rotation):P.rotation=0,P.colorStops=P.colorStops.map((C=>Object.assign(Object.assign({},C),{offset:Number(C.offset)}))),P}function K(z){const P=Object.assign({},z);return P.width=Number(P.width),P.height=Number(P.height),P.margin=Number(P.margin),P.imageOptions=Object.assign(Object.assign({},P.imageOptions),{hideBackgroundDots:!!P.imageOptions.hideBackgroundDots,imageSize:Number(P.imageOptions.imageSize),margin:Number(P.imageOptions.margin)}),P.margin>Math.min(P.width,P.height)&&(P.margin=Math.min(P.width,P.height)),P.dotsOptions=Object.assign({},P.dotsOptions),P.dotsOptions.gradient&&(P.dotsOptions.gradient=q(P.dotsOptions.gradient)),P.cornersSquareOptions&&(P.cornersSquareOptions=Object.assign({},P.cornersSquareOptions),P.cornersSquareOptions.gradient&&(P.cornersSquareOptions.gradient=q(P.cornersSquareOptions.gradient))),P.cornersDotOptions&&(P.cornersDotOptions=Object.assign({},P.cornersDotOptions),P.cornersDotOptions.gradient&&(P.cornersDotOptions.gradient=q(P.cornersDotOptions.gradient))),P.backgroundOptions&&(P.backgroundOptions=Object.assign({},P.backgroundOptions),P.backgroundOptions.gradient&&(P.backgroundOptions.gradient=q(P.backgroundOptions.gradient))),P}var $=i(873),H=i.n($);function W(z){if(!z)throw new Error("Extension must be defined");z[0]==="."&&(z=z.substring(1));const P={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[z.toLowerCase()];if(!P)throw new Error(`Extension "${z}" is not supported`);return P}class B{constructor(P){P?.jsdom?this._window=new P.jsdom("",{resources:"usable"}).window:this._window=window,this._options=P?K(l(D,P)):D,this.update()}static _clearContainer(P){P&&(P.innerHTML="")}_setupSvg(){if(!this._qr)return;const P=new _(this._options,this._window);this._svg=P.getElement(),this._svgDrawingPromise=P.drawQR(this._qr).then((()=>{var C;this._svg&&((C=this._extension)===null||C===void 0||C.call(this,P.getElement(),this._options))}))}_setupCanvas(){var P,C;this._qr&&(!((P=this._options.nodeCanvas)===null||P===void 0)&&P.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(C=this._svgDrawingPromise)===null||C===void 0?void 0:C.then((()=>{var L;if(!this._svg)return;const U=this._svg,R=new this._window.XMLSerializer().serializeToString(U),I=btoa(R),V=`data:${W("svg")};base64,${I}`;if(!((L=this._options.nodeCanvas)===null||L===void 0)&&L.loadImage)return this._options.nodeCanvas.loadImage(V).then((re=>{var ce,me;re.width=this._options.width,re.height=this._options.height,(me=(ce=this._nodeCanvas)===null||ce===void 0?void 0:ce.getContext("2d"))===null||me===void 0||me.drawImage(re,0,0)}));{const re=new this._window.Image;return new Promise((ce=>{re.onload=()=>{var me,ae;(ae=(me=this._domCanvas)===null||me===void 0?void 0:me.getContext("2d"))===null||ae===void 0||ae.drawImage(re,0,0),ce()},re.src=V}))}})))}async _getElement(P="png"){if(!this._qr)throw"QR code is empty";return P.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(P){B._clearContainer(this._container),this._options=P?K(l(this._options,P)):this._options,this._options.data&&(this._qr=H()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(C){switch(!0){case/^[0-9]*$/.test(C):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(C):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===A?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(P){if(P){if(typeof P.appendChild!="function")throw"Container should be a single DOM node";this._options.type===A?this._domCanvas&&P.appendChild(this._domCanvas):this._svg&&P.appendChild(this._svg),this._container=P}}applyExtension(P){if(!P)throw"Extension function should be defined.";this._extension=P,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(P="png"){if(!this._qr)throw"QR code is empty";const C=await this._getElement(P),L=W(P);if(!C)return null;if(P.toLowerCase()==="svg"){const U=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(C)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(U):new Blob([U],{type:L})}return new Promise((U=>{const R=C;if("toBuffer"in R)if(L==="image/png")U(R.toBuffer(L));else if(L==="image/jpeg")U(R.toBuffer(L));else{if(L!=="application/pdf")throw Error("Unsupported extension");U(R.toBuffer(L))}else"toBlob"in R&&R.toBlob(U,L,1)}))}async download(P){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let C="png",L="qr";typeof P=="string"?(C=P,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof P=="object"&&P!==null&&(P.name&&(L=P.name),P.extension&&(C=P.extension));const U=await this._getElement(C);if(U)if(C.toLowerCase()==="svg"){let R=new XMLSerializer().serializeToString(U);R=`<?xml version="1.0" standalone="no"?>\r
`+R,c(`data:${W(C)};charset=utf-8,${encodeURIComponent(R)}`,`${L}.svg`)}else c(U.toDataURL(W(C)),`${L}.${C}`)}}const M=B})(),a.default})()))})(Gg)),Gg.exports}var JOe=QOe();const ZOe=rr(JOe);function e6e({currentUser:e}){console.log(" MarketingToolsRu: Rendering with currentUser:",e);const[t,r]=w.useState("posts"),[n,i]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(""),d=w.useRef(null),h=()=>`${window.location.origin}/?ref=${e?._||"DEMO"}`,m=[{id:"wellness-1",category:"",platform:"Instagram",icon:js,title:"    ",text:`       !

    :
  
   
  
  

    !
     

# # # # #wellness`,hashtags:"# # # # #wellness"},{id:"business-1",category:"",platform:"Instagram",icon:Sr,title:"  ",text:`   ?

     wellness  !

      
  
    
    24/7

    !
   Direct  

# # #wellness # #`,hashtags:"# # #wellness # #"},{id:"product-1",category:"",platform:"VK",icon:Sr,title:" : H ",text:`    H  !

  = 1,5   

 :
    
  
   
  

    !

  ,   `,hashtags:""},{id:"testimonial-1",category:"",platform:"Instagram",icon:js,title:"  ",text:` "    !"

:
    
   
  
    

    ! 

# # # #`,hashtags:"# # # #"}],p=[{id:"invite-1",category:"",title:"   ( )",text:`, {}! 

,     ?

      wellness-.  ,  ! 

  ?  ,   `,variables:["{}"]},{id:"invite-2",category:"",title:"   ( )",text:`! 

  {_},    wellness  .

     .             !

 :
   
  
  
  

  ? `,variables:["{_}"]},{id:"product-offer-1",category:"",title:" ",text:`! 

      !

    2    :
  
  
  

 ?       ! `,variables:[]},{id:"follow-up-1",category:"",title:"   ",text:`, {}! 

 ? ()   ?

,           ! 

      ! `,variables:["{}"]}],x=[{category:"",title:"",icon:Db,items:[{id:"card-1",name:" ",type:"",description:" QR-  "},{id:"card-2",name:" ",type:"",description:" "}]},{category:"",title:"",icon:O6,items:[{id:"banner-1",name:"  Stories",type:"PNG",size:"1080x1920",description:"Instagram Stories "},{id:"banner-2",name:"  ",type:"PNG",size:"1080x1080",description:" "},{id:"banner-3",name:" ",type:"PNG",size:"1590x400",description:"  VK"}]},{category:"",title:"",icon:BS,items:[{id:"pres-1",name:"-",type:"PDF",pages:"12",description:"  H"},{id:"pres-2",name:"-",type:"PDF",pages:"15",description:" -"},{id:"pres-3",name:" ",type:"PDF",pages:"5",description:" "}]},{category:"",title:"",icon:VS,items:[{id:"video-1",name:"  ",type:"MP4",duration:"2:30",description:" "},{id:"video-2",name:"-",type:"MP4",duration:"1:45",description:" "},{id:"video-3",name:"  ",type:"MP4",duration:"3:00",description:" "}]}],b=(N,j)=>{navigator.clipboard.writeText(N),o(j),Q.success("   !"),setTimeout(()=>o(null),2e3)},y=async()=>{try{new ZOe({width:300,height:300,type:"svg",data:h(),image:void 0,dotsOptions:{color:"#39B7FF",type:"rounded"},backgroundOptions:{color:"#ffffff"},imageOptions:{crossOrigin:"anonymous",margin:10},cornersSquareOptions:{color:"#12C9B6",type:"extra-rounded"},cornersDotOptions:{color:"#12C9B6",type:"dot"}}).download({name:"referral-qr",extension:"png"}),Q.success("QR- !")}catch(N){console.error("QR download error:",N),Q.error("  QR-")}},v=()=>{const N=document.createElement("canvas"),j=N.getContext("2d");if(!j)return;N.width=1063,N.height=591;const E=j.createLinearGradient(0,0,N.width,N.height);E.addColorStop(0,"#39B7FF"),E.addColorStop(1,"#12C9B6"),j.fillStyle=E,j.fillRect(0,0,N.width,N.height),j.fillStyle="rgba(255, 255, 255, 0.95)",j.fillRect(50,50,700,491),j.fillStyle="#1E1E1E",j.font="bold 48px Arial",j.fillText(`${e?.||""} ${e?.||""}`,80,140),j.font="32px Arial",j.fillStyle="#666",j.fillText(" H Platform",80,190),j.font="28px Arial",j.fillStyle="#1E1E1E",j.fillText(`: ${e?.||1}`,80,260),j.fillText(`. : ${e?._||"DEMO"}`,80,310),e?.&&j.fillText(` ${e.}`,80,370),e?.email&&j.fillText(` ${e.email}`,80,420),j.fillStyle="#39B7FF",j.fillRect(800,150,200,200),j.fillStyle="white",j.font="20px Arial",j.textAlign="center",j.fillText("QR-",900,260),N.toBlob(k=>{if(k){const _=URL.createObjectURL(k),A=document.createElement("a");A.download="business-card.png",A.href=_,A.click(),URL.revokeObjectURL(_),Q.success(" !")}})};return s.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl flex items-center justify-center",children:s.jsx(Z$,{className:"w-6 h-6 text-white"})}),s.jsx("h1",{className:"text-[#1E1E1E]",style:{fontSize:"24px",fontWeight:"700"},children:" "})]}),s.jsx("p",{className:"text-[#666]",children:"     "})]}),s.jsxs(Ni,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(Si,{className:"grid w-full grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Dt,{value:"posts",children:[s.jsx(js,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"messages",children:[s.jsx(Sr,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"materials",children:[s.jsx(O6,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(Dt,{value:"links",children:[s.jsx(rl,{className:"w-4 h-4 mr-2"}),""]})]}),s.jsx(Vt,{value:"posts",className:"space-y-6",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(js,{className:"w-5 h-5 text-[#39B7FF]"}),"   "]})}),s.jsx(Ee,{className:"space-y-4",children:m.map(N=>s.jsx(Se,{className:"border-[#E6E9EE] hover:border-[#39B7FF] transition-colors",children:s.jsxs(Ee,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-lg flex items-center justify-center",children:s.jsx(N.icon,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#1E1E1E] font-semibold",children:N.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Qe,{variant:"outline",className:"text-xs",children:N.category}),s.jsx(Qe,{variant:"outline",className:"text-xs",children:N.platform})]})]})]}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>i(n?.id===N.id?null:N),children:n?.id===N.id?s.jsx(ic,{className:"w-4 h-4"}):s.jsx(ns,{className:"w-4 h-4"})})]}),n?.id===N.id&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-[#1E1E1E] font-sans",children:N.text})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{size:"sm",onClick:()=>b(N.text,N.id),className:"bg-[#39B7FF] hover:bg-[#2A9FEF]",children:a===N.id?s.jsxs(s.Fragment,{children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(xi,{className:"w-4 h-4 mr-2"}),""]})}),s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>window.open(N.platform==="Instagram"?"https://www.instagram.com/":"https://vk.com/","_blank"),children:[s.jsx(Q$,{className:"w-4 h-4 mr-2"})," ",N.platform]})]})]})]})},N.id))})]})}),s.jsx(Vt,{value:"messages",className:"space-y-6",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"w-5 h-5 text-[#39B7FF]"})," "]})}),s.jsx(Ee,{className:"space-y-4",children:p.map(N=>s.jsx(Se,{className:"border-[#E6E9EE] hover:border-[#39B7FF] transition-colors",children:s.jsxs(Ee,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#1E1E1E] font-semibold",children:N.title}),s.jsx(Qe,{variant:"outline",className:"text-xs mt-1",children:N.category}),N.variables.length>0&&s.jsxs("p",{className:"text-xs text-[#666] mt-2",children:[": ",N.variables.join(", ")]})]}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>i(n?.id===N.id?null:N),children:n?.id===N.id?s.jsx(ic,{className:"w-4 h-4"}):s.jsx(ns,{className:"w-4 h-4"})})]}),n?.id===N.id&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm text-[#1E1E1E] font-sans",children:N.text.replace("{_}",e?.||" ")})}),s.jsx(ie,{size:"sm",onClick:()=>b(N.text.replace("{_}",e?.||" "),N.id),className:"bg-[#39B7FF] hover:bg-[#2A9FEF]",children:a===N.id?s.jsxs(s.Fragment,{children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(xi,{className:"w-4 h-4 mr-2"}),""]})})]})]})},N.id))})]})}),s.jsx(Vt,{value:"materials",className:"space-y-6",children:x.map(N=>s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{className:"cursor-pointer",onClick:()=>c(l===N.category?null:N.category),children:s.jsxs(Ge,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(N.icon,{className:"w-5 h-5 text-[#39B7FF]"}),N.title]}),l===N.category?s.jsx(ic,{className:"w-5 h-5 text-[#666]"}):s.jsx(ns,{className:"w-5 h-5 text-[#666]"})]})}),l===N.category&&s.jsx(Ee,{className:"space-y-3",children:N.items.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-[#E6E9EE] rounded-xl hover:border-[#39B7FF] transition-colors",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-[#1E1E1E] font-semibold mb-1",children:j.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qe,{variant:"secondary",className:"text-xs",children:j.type}),j.size&&s.jsx("span",{className:"text-xs text-[#666]",children:j.size}),j.pages&&s.jsxs("span",{className:"text-xs text-[#666]",children:[j.pages," ."]}),j.duration&&s.jsx("span",{className:"text-xs text-[#666]",children:j.duration})]}),s.jsx("p",{className:"text-xs text-[#666] mt-1",children:j.description})]}),s.jsx("div",{className:"flex gap-2",children:N.category===""&&j.id==="card-1"?s.jsxs(ie,{size:"sm",onClick:v,className:"bg-[#39B7FF] hover:bg-[#2A9FEF]",children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),""]}):s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>Q.info("     "),children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),""]})})]},j.id))})]},N.category))}),s.jsxs(Vt,{value:"links",className:"space-y-6",children:[s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(rl,{className:"w-5 h-5 text-[#39B7FF]"}),"  "]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{value:h(),readOnly:!0,className:"flex-1"}),s.jsx(ie,{onClick:()=>b(h(),"ref-link"),className:"bg-[#39B7FF] hover:bg-[#2A9FEF]",children:a==="ref-link"?s.jsxs(s.Fragment,{children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),""]}):s.jsxs(s.Fragment,{children:[s.jsx(xi,{className:"w-4 h-4 mr-2"}),""]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#666] text-sm mb-2",children:" "}),s.jsx("div",{className:"bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-xl p-4",children:s.jsx("p",{className:"text-white text-2xl font-bold tracking-wider",children:e?._||"DEMO"})})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#666] text-sm mb-2",children:"   "}),s.jsx("div",{className:"bg-gradient-to-br from-[#12C9B6] to-[#39B7FF] rounded-xl p-4",children:s.jsx("p",{className:"text-white text-2xl font-bold",children:e?.?.length||0})})]})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Db,{className:"w-5 h-5 text-[#39B7FF]"}),"QR-   "]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-dashed border-[#39B7FF]",children:s.jsx("div",{ref:d,className:"w-64 h-64 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Db,{className:"w-32 h-32 text-[#39B7FF] mx-auto mb-4"}),s.jsx("p",{className:"text-[#666] text-sm",children:"QR-    "})]})})}),s.jsxs(ie,{onClick:y,className:"bg-[#39B7FF] hover:bg-[#2A9FEF]",children:[s.jsx(as,{className:"w-4 h-4 mr-2"})," QR-"]}),s.jsx("p",{className:"text-xs text-[#666] text-center max-w-md",children:" QR-    ,    .            ."})]})})]})]})]})]})}function t6e({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:ut("w-full caption-bottom text-sm",e),...t})})}function r6e({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:ut("[&_tr]:border-b",e),...t})}function n6e({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:ut("[&_tr:last-child]:border-0",e),...t})}function CS({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:ut("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function mu({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:ut("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function $l({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:ut("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function IH(e,t){if(!e||!Array.isArray(e))return{L0:0,L1:0,L2:0,L3:0};const r=e.filter(a=>a.userId===t),n=a=>a.amount||a.||0,i=(a,o)=>typeof a.=="number"&&a.===o||a.level===`L${o}`;return{L0:r.filter(a=>i(a,0)).reduce((a,o)=>a+n(o),0),L1:r.filter(a=>i(a,1)).reduce((a,o)=>a+n(o),0),L2:r.filter(a=>i(a,2)).reduce((a,o)=>a+n(o),0),L3:r.filter(a=>i(a,3)).reduce((a,o)=>a+n(o),0)}}function s6e(e,t){return!e||!Array.isArray(e)?[]:e.filter(r=>r.userId===t).sort((r,n)=>n.timestamp.getTime()-r.timestamp.getTime())}function i6e(e,t,r=30){if(!e||!Array.isArray(e))return{total:0,count:0,average:0,byLevel:{L0:0,L1:0,L2:0,L3:0}};const n=new Date;n.setDate(n.getDate()-r);const i=h=>h.timestamp instanceof Date?h.timestamp:h.?new Date(h.):h.timestamp?new Date(h.timestamp):new Date,a=h=>h.amount||h.||0,o=e.filter(h=>h.userId===t&&i(h)>=n),l=o.reduce((h,m)=>h+a(m),0),c=o.length,d=c>0?l/c:0;return{total:l,count:c,average:d,byLevel:IH(o,t)}}function a6e({currentUser:e,refreshTrigger:t}){const[r,n]=w.useState("30"),[i,a]=w.useState(""),[o,l]=w.useState([]),[c,d]=w.useState([]),[h,m]=w.useState(!0);w.useEffect(()=>{p()},[t]);const p=async()=>{try{m(!0);const k=await Av();if(k.success&&k.earnings){const _=k.earnings.map(T=>({id:T.id,userId:T.userId,orderId:T.orderId,amount:T.||T.amount,level:`L${T.}`,timestamp:new Date(T.||T.createdAt),fromUserId:T.fromUserId})),A=k.earnings.map(T=>({id:`txn-${T.id}`,userId:T.userId,type:"earning",amount:T.||T.amount,description:T.||T.description||`   ${T.sku||T.||""}`,timestamp:new Date(T.||T.createdAt),level:`L${T.}`,orderId:T.orderId}));l(_),d(A)}}catch(k){console.error("Failed to load earnings:",k)}finally{m(!1)}};if(!e)return s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-[#666]",children:"..."})})});if(h)return s.jsx("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-[#666]",children:" ..."})})});const x=e.id,b=IH(o||[],x),y=i6e(o||[],x,parseInt(r)),v=s6e(c||[],x),N=i===""?v:v.filter(k=>k.type===i),j={L0:"#39B7FF",L1:"#93C5FD",L2:"#FCA5A5",L3:"#FDE047","N/A":"#666"},E={earning:"",withdrawal:"",refund:""};return s.jsxs("div",{className:"p-4 lg:p-8 max-w-full overflow-x-hidden",style:{backgroundColor:"#F7FAFC"},children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 lg:mb-8 gap-4",children:[s.jsx("h1",{className:"text-[#1E1E1E]",style:{fontSize:"24px",fontWeight:"700"},children:"  "}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ga,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs(qn,{value:r,onValueChange:n,children:[s.jsx(Kn,{className:"w-32",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"7",children:"7 "}),s.jsx(gt,{value:"30",children:"30 "}),s.jsx(gt,{value:"90",children:"90 "}),s.jsx(gt,{value:"365",children:""})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6 lg:mb-8",children:[s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"pt-6",children:[s.jsx("div",{className:"text-[#666] text-sm",children:" 0"}),s.jsxs("div",{className:"text-[#10B981] mt-2",style:{fontSize:"20px",fontWeight:"700"},children:[(b.L0||0).toLocaleString("ru-RU"),""]}),s.jsx("div",{className:"text-[#999] text-xs mt-1",children:" "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"pt-6",children:[s.jsx("div",{className:"text-[#666] text-sm",children:" 1"}),s.jsxs("div",{className:"text-[#39B7FF] mt-2",style:{fontSize:"20px",fontWeight:"700"},children:[(b.L1||0).toLocaleString("ru-RU"),""]}),s.jsx("div",{className:"text-[#999] text-xs mt-1",children:" "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"pt-6",children:[s.jsx("div",{className:"text-[#666] text-sm",children:" 2"}),s.jsxs("div",{className:"text-[#F59E0B] mt-2",style:{fontSize:"20px",fontWeight:"700"},children:[(b.L2||0).toLocaleString("ru-RU"),""]}),s.jsx("div",{className:"text-[#999] text-xs mt-1",children:"2- "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsxs(Ee,{className:"pt-6",children:[s.jsx("div",{className:"text-[#666] text-sm",children:" 3"}),s.jsxs("div",{className:"text-[#EF4444] mt-2",style:{fontSize:"20px",fontWeight:"700"},children:[(b.L3||0).toLocaleString("ru-RU"),""]}),s.jsx("div",{className:"text-[#999] text-xs mt-1",children:"3- "})]})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] md:col-span-1 col-span-2",children:s.jsxs(Ee,{className:"pt-6",children:[s.jsx("div",{className:"text-white opacity-90 text-sm",children:""}),s.jsxs("div",{className:"text-white mt-2",style:{fontSize:"20px",fontWeight:"700"},children:[((b.L0||0)+(b.L1||0)+(b.L2||0)+(b.L3||0)).toLocaleString("ru-RU"),""]}),s.jsx("div",{className:"text-white opacity-75 text-xs mt-1",children:" "})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx($t,{size:20,className:"text-[#12C9B6]"}),"  "]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"text-[#39B7FF]",style:{fontSize:"32px",fontWeight:"700"},children:["",y.total.toLocaleString()]}),s.jsxs("div",{className:"text-[#666] mt-1",children:[r," "]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Wn,{size:20,className:"text-[#12C9B6]"}),""]})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-[#39B7FF]",style:{fontSize:"32px",fontWeight:"700"},children:y.count}),s.jsxs("div",{className:"text-[#666] mt-1",children:[" ",r," "]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx($t,{size:20,className:"text-[#12C9B6]"})," "]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"text-[#39B7FF]",style:{fontSize:"32px",fontWeight:"700"},children:["",Math.round(y.average).toLocaleString()]}),s.jsx("div",{className:"text-[#666] mt-1",children:" "})]})]})]}),s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white overflow-hidden",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kd,{size:20,className:"text-[#666] flex-shrink-0"}),s.jsxs(qn,{value:i,onValueChange:a,children:[s.jsx(Kn,{className:"w-full sm:w-48",children:s.jsx(Hn,{})}),s.jsxs(Gn,{children:[s.jsx(gt,{value:"",children:" "}),s.jsx(gt,{value:"earning",children:""}),s.jsx(gt,{value:"withdrawal",children:""}),s.jsx(gt,{value:"refund",children:""})]})]})]})]})}),s.jsx(Ee,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(t6e,{children:[s.jsx(r6e,{children:s.jsxs(CS,{className:"border-[#E6E9EE]",children:[s.jsx(mu,{className:"whitespace-nowrap",style:{fontWeight:"600",color:"#1E1E1E"},children:"ID"}),s.jsx(mu,{className:"whitespace-nowrap",style:{fontWeight:"600",color:"#1E1E1E"},children:""}),s.jsx(mu,{className:"whitespace-nowrap",style:{fontWeight:"600",color:"#1E1E1E"},children:""}),s.jsx(mu,{className:"whitespace-nowrap",style:{fontWeight:"600",color:"#1E1E1E"},children:""}),s.jsx(mu,{className:"whitespace-nowrap",style:{fontWeight:"600",color:"#1E1E1E"},children:""}),s.jsx(mu,{className:"text-right whitespace-nowrap",style:{fontWeight:"600",color:"#1E1E1E"},children:""})]})}),s.jsx(n6e,{children:N.length===0?s.jsx(CS,{children:s.jsx($l,{colSpan:6,className:"text-center text-[#666] py-8",children:" "})}):N.map(k=>s.jsxs(CS,{className:"border-[#E6E9EE]",children:[s.jsxs($l,{className:"text-[#666] whitespace-nowrap",style:{fontWeight:"600",fontSize:"12px"},children:[k.id.substring(0,12),"..."]}),s.jsx($l,{className:"text-[#666] whitespace-nowrap",children:new Date(k.timestamp).toLocaleDateString("ru-RU",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx($l,{className:"text-[#1E1E1E] whitespace-nowrap",style:{fontWeight:"500"},children:k.description}),s.jsx($l,{className:"whitespace-nowrap",children:s.jsxs(Qe,{className:`border-0 ${k.type==="earning"?"bg-[#12C9B6]/10 text-[#12C9B6]":k.type==="withdrawal"?"bg-[#EF4444]/10 text-[#EF4444]":"bg-[#F59E0B]/10 text-[#F59E0B]"}`,children:[s.jsx("span",{className:"mr-1",children:E[k.type]}),k.type==="earning"?"":k.type==="withdrawal"?"":""]})}),s.jsx($l,{className:"whitespace-nowrap",children:k.level!=="N/A"&&s.jsx(Qe,{className:"border-0 text-white",style:{backgroundColor:j[k.level],fontSize:"10px"},children:k.level})}),s.jsxs($l,{className:`text-right whitespace-nowrap ${k.amount>0?"text-[#12C9B6]":"text-[#EF4444]"}`,style:{fontWeight:"700",fontSize:"16px"},children:[k.amount>0?"+":"","",k.amount.toLocaleString()]})]},k.id))})]})})})]})]})}function o6e(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[i,a]=w.useState(!0),[o,l]=w.useState("achievements"),[c,d]=w.useState(!1),[h,m]=w.useState(null),[p,x]=w.useState({:"",:"",:"",:"sales",:1,:"",:"#10B981"}),[b,y]=w.useState(!1),[v,N]=w.useState(null),[j,E]=w.useState({:"",:"",:"",:"sales",:1,:"",:"",:"monthly",:"#10B981"});w.useEffect(()=>{k()},[]);const k=async()=>{try{a(!0);const[M,z]=await Promise.all([D9(),B9()]);t(Array.isArray(M?.achievements)?M.achievements:[]),n(Array.isArray(z?.challenges)?z.challenges:[])}catch(M){console.error("Error loading data:",M),Q.error("  "),t([]),n([])}finally{a(!1)}},_=M=>{M?(m(M),x(M)):(m(null),x({:"",:"",:"",:"sales",:1,:"",:"#10B981"})),d(!0)},A=async()=>{try{if(!p.||!p.||!p.){Q.error("   ");return}h?(await $9(h.id,p),Q.success(" ")):(await F9(p),Q.success(" ")),d(!1),k()}catch(M){console.error("Error saving achievement:",M),Q.error("  ")}},T=async M=>{if(confirm(" ,     ?"))try{await L9(M),Q.success(" "),k()}catch(z){console.error("Error deleting achievement:",z),Q.error("  ")}},D=M=>{if(M)N(M),E(M);else{N(null);const z=new Date;z.setMonth(z.getMonth()+1),z.setDate(0),E({:"",:"",:"",:"sales",:1,:z.toISOString().split("T")[0],:"",:"monthly",:"#10B981"})}y(!0)},q=async()=>{try{if(!j.||!j.||!j.||!j.){Q.error("   ");return}v?(await W9(v.id,j),Q.success(" ")):(await z9(j),Q.success(" ")),y(!1),k()}catch(M){console.error("Error saving challenge:",M),Q.error("  ")}},K=async M=>{if(confirm(" ,     ?"))try{await U9(M),Q.success(" "),k()}catch(z){console.error("Error deleting challenge:",z),Q.error("  ")}},$=[{value:"sales",label:""},{value:"team",label:""},{value:"money",label:""},{value:"level",label:""},{value:"special",label:""}],H=[{value:"daily",label:""},{value:"weekly",label:""},{value:"monthly",label:""},{value:"special",label:""}],W=[{value:"#10B981",label:""},{value:"#39B7FF",label:""},{value:"#12C9B6",label:""},{value:"#F59E0B",label:""},{value:"#8B5CF6",label:""},{value:"#EF4444",label:""}],B=["","","","","","","","","","","","","","","","","","","","",""];return i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-[#39B7FF] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[#666]",children:"..."})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(fa,{className:"w-8 h-8 text-[#39B7FF]"}),s.jsx("h1",{className:"text-[#1A202C]",style:{fontSize:"28px",fontWeight:"700"},children:" "})]}),s.jsx("p",{className:"text-[#666]",children:"       "})]})})}),s.jsxs(Ni,{value:o,onValueChange:l,className:"space-y-6",children:[s.jsxs(Si,{className:"bg-white border border-[#E6E9EE] p-1 rounded-xl",children:[s.jsxs(Dt,{value:"achievements",className:"rounded-lg data-[state=active]:bg-[#39B7FF] data-[state=active]:text-white",children:[s.jsx(fa,{className:"w-4 h-4 mr-2"})," (",e.length,")"]}),s.jsxs(Dt,{value:"challenges",className:"rounded-lg data-[state=active]:bg-[#39B7FF] data-[state=active]:text-white",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"})," (",r.length,")"]})]}),s.jsxs(Vt,{value:"achievements",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(ie,{onClick:()=>_(),className:"bg-[#39B7FF] hover:bg-[#2A9EE8] text-white",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"})," "]})}),s.jsx("div",{className:"grid gap-4",children:e.map(M=>s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center text-3xl flex-shrink-0",style:{backgroundColor:`${M.}15`},children:M.}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#1A202C]",style:{fontSize:"16px",fontWeight:"600"},children:M.}),s.jsx("p",{className:"text-[#666] text-sm mt-1",children:M.})]}),s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s.jsx(Qe,{variant:"outline",children:$.find(z=>z.value===M.)?.label})})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"w-4 h-4 text-[#666]"}),s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:M..toLocaleString("ru-RU")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"w-4 h-4 text-[#666]"}),s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:M.})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>_(M),className:"text-[#39B7FF] hover:text-[#2A9EE8] hover:bg-[#39B7FF]/10",children:s.jsx(hc,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>T(M.id),className:"text-[#EF4444] hover:text-[#DC2626] hover:bg-[#EF4444]/10",children:s.jsx(Un,{className:"w-4 h-4"})})]})]})})},M.id))})]}),s.jsxs(Vt,{value:"challenges",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(ie,{onClick:()=>D(),className:"bg-[#39B7FF] hover:bg-[#2A9EE8] text-white",children:[s.jsx(Ua,{className:"w-4 h-4 mr-2"})," "]})}),s.jsx("div",{className:"grid gap-4",children:r.map(M=>s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm",children:s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center text-3xl flex-shrink-0",style:{backgroundColor:`${M.}15`},children:M.}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-[#1A202C]",style:{fontSize:"16px",fontWeight:"600"},children:M.}),s.jsx("p",{className:"text-[#666] text-sm mt-1",children:M.})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Qe,{variant:"outline",children:$.find(z=>z.value===M.)?.label}),s.jsx(Qe,{variant:"outline",style:{borderColor:M.,color:M.},children:H.find(z=>z.value===M.)?.label})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Js,{className:"w-4 h-4 text-[#666]"}),s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:M..toLocaleString("ru-RU")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"w-4 h-4 text-[#666]"}),s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:M.})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#666]",children:":"}),s.jsx("span",{className:"text-[#1A202C]",style:{fontWeight:"600"},children:new Date(M.).toLocaleDateString("ru-RU")})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>D(M),className:"text-[#39B7FF] hover:text-[#2A9EE8] hover:bg-[#39B7FF]/10",children:s.jsx(hc,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>K(M.id),className:"text-[#EF4444] hover:text-[#DC2626] hover:bg-[#EF4444]/10",children:s.jsx(Un,{className:"w-4 h-4"})})]})]})})},M.id))})]})]}),s.jsx(Er,{open:c,onOpenChange:d,children:s.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:h?" ":" "}),s.jsx(kr,{children:"   "})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"achievement-name",children:" *"}),s.jsx(Ie,{id:"achievement-name",value:p.,onChange:M=>x({...p,:M.target.value}),placeholder:":  "})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"achievement-description",children:" *"}),s.jsx(eo,{id:"achievement-description",value:p.,onChange:M=>x({...p,:M.target.value}),placeholder:"  ",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"achievement-category",children:" *"}),s.jsxs(qn,{value:p.,onValueChange:M=>x({...p,:M}),children:[s.jsx(Kn,{id:"achievement-category",children:s.jsx(Hn,{})}),s.jsx(Gn,{children:$.map(M=>s.jsx(gt,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"achievement-goal",children:" *"}),s.jsx(Ie,{id:"achievement-goal",type:"number",value:p.,onChange:M=>x({...p,:parseInt(M.target.value)||0}),min:"1"})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"achievement-reward",children:" *"}),s.jsx(Ie,{id:"achievement-reward",value:p.,onChange:M=>x({...p,:M.target.value}),placeholder:": 500 "})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:" *"}),s.jsx("div",{className:"grid grid-cols-6 gap-2 mt-2",children:B.map(M=>s.jsx("button",{type:"button",onClick:()=>x({...p,:M}),className:`p-2 text-2xl rounded-lg border-2 transition-all hover:scale-110 ${p.===M?"border-[#39B7FF] bg-[#39B7FF]/10":"border-[#E6E9EE]"}`,children:M},M))})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" *"}),s.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:W.map(M=>s.jsx("button",{type:"button",onClick:()=>x({...p,:M.value}),className:`p-3 rounded-lg border-2 transition-all ${p.===M.value?"border-[#39B7FF] scale-105":"border-[#E6E9EE]"}`,style:{backgroundColor:`${M.value}20`},children:s.jsx("div",{className:"w-full h-6 rounded",style:{backgroundColor:M.value}})},M.value))})]})]})]})}),s.jsxs(_s,{children:[s.jsxs(ie,{variant:"outline",onClick:()=>d(!1),children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(ie,{onClick:A,className:"bg-[#39B7FF] hover:bg-[#2A9EE8] text-white",children:[s.jsx(Ku,{className:"w-4 h-4 mr-2"}),""]})]})]})}),s.jsx(Er,{open:b,onOpenChange:y,children:s.jsxs(vr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:v?" ":" "}),s.jsx(kr,{children:"   "})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-name",children:" *"}),s.jsx(Ie,{id:"challenge-name",value:j.,onChange:M=>E({...j,:M.target.value}),placeholder:":  50   "})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-description",children:" *"}),s.jsx(eo,{id:"challenge-description",value:j.,onChange:M=>E({...j,:M.target.value}),placeholder:"  ",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-category",children:" *"}),s.jsxs(qn,{value:j.,onValueChange:M=>E({...j,:M}),children:[s.jsx(Kn,{id:"challenge-category",children:s.jsx(Hn,{})}),s.jsx(Gn,{children:$.map(M=>s.jsx(gt,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-type",children:" *"}),s.jsxs(qn,{value:j.,onValueChange:M=>E({...j,:M}),children:[s.jsx(Kn,{id:"challenge-type",children:s.jsx(Hn,{})}),s.jsx(Gn,{children:H.map(M=>s.jsx(gt,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-goal",children:" *"}),s.jsx(Ie,{id:"challenge-goal",type:"number",value:j.,onChange:M=>E({...j,:parseInt(M.target.value)||0}),min:"1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-reward",children:" *"}),s.jsx(Ie,{id:"challenge-reward",value:j.,onChange:M=>E({...j,:M.target.value}),placeholder:": 15000"})]}),s.jsxs("div",{children:[s.jsx(Oe,{htmlFor:"challenge-deadline",children:" *"}),s.jsx(Ie,{id:"challenge-deadline",type:"date",value:j.?.split("T")[0]||"",onChange:M=>E({...j,:M.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:" *"}),s.jsx("div",{className:"grid grid-cols-6 gap-2 mt-2",children:B.map(M=>s.jsx("button",{type:"button",onClick:()=>E({...j,:M}),className:`p-2 text-2xl rounded-lg border-2 transition-all hover:scale-110 ${j.===M?"border-[#39B7FF] bg-[#39B7FF]/10":"border-[#E6E9EE]"}`,children:M},M))})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" *"}),s.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:W.map(M=>s.jsx("button",{type:"button",onClick:()=>E({...j,:M.value}),className:`p-3 rounded-lg border-2 transition-all ${j.===M.value?"border-[#39B7FF] scale-105":"border-[#E6E9EE]"}`,style:{backgroundColor:`${M.value}20`},children:s.jsx("div",{className:"w-full h-6 rounded",style:{backgroundColor:M.value}})},M.value))})]})]})]})}),s.jsxs(_s,{children:[s.jsxs(ie,{variant:"outline",onClick:()=>y(!1),children:[s.jsx(Mr,{className:"w-4 h-4 mr-2"}),""]}),s.jsxs(ie,{onClick:q,className:"bg-[#39B7FF] hover:bg-[#2A9EE8] text-white",children:[s.jsx(Ku,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})}function l6e(){const[e,t]=w.useState(!1),[r,n]=w.useState([]),i=(o,l,c)=>{n(d=>[...d,{test:o,success:l,details:c,timestamp:Date.now()}])},a=async()=>{n([]),t(!0);try{i("",!!Tt&&!!Rt,`Project ID: ${Tt||"MISSING"}, Anon Key: ${Rt?"SET":"MISSING"}`);try{const o=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/health`;console.log("Testing health endpoint:",o);const l=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${Rt}`}}),c=await l.json();i("Health Check",l.ok,`Status: ${l.status}, Data: ${JSON.stringify(c)}`)}catch(o){i("Health Check",!1,`Error: ${o instanceof Error?o.message:String(o)}`)}try{const o=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/health`;console.log("Testing admin health endpoint:",o);const l=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${Rt}`}}),c=await l.json();i("Admin Health Check",l.ok,`Status: ${l.status}, Data: ${JSON.stringify(c)}`)}catch(o){i("Admin Health Check",!1,`Error: ${o instanceof Error?o.message:String(o)}`)}try{const o=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/health`,l=await fetch(o,{method:"OPTIONS",headers:{Origin:window.location.origin,"Access-Control-Request-Method":"GET","Access-Control-Request-Headers":"Content-Type,Authorization,X-User-Id"}});i("CORS Preflight",l.ok||l.status===204,`Status: ${l.status}, Headers: ${JSON.stringify(Object.fromEntries(l.headers.entries()))}`)}catch(o){i("CORS Preflight",!1,`Error: ${o instanceof Error?o.message:String(o)}`)}}catch(o){i("Test Suite",!1,`Fatal error: ${o instanceof Error?o.message:String(o)}`)}finally{t(!1)}};return s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsxs(He,{children:[s.jsx(Ge,{className:"text-[#1E1E1E]",children:"   "}),s.jsx("p",{className:"text-[#666] text-sm",children:"  Supabase Functions"})]}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ie,{onClick:a,disabled:e,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):"  "}),r.length>0&&s.jsxs("div",{className:"text-sm text-[#666]",children:[" : ",r.length," | : ",r.filter(o=>o.success).length," | : ",r.filter(o=>!o.success).length]})]}),r.length>0&&s.jsx("div",{className:"space-y-2",children:r.map((o,l)=>s.jsx("div",{className:`p-4 rounded-xl border-2 ${o.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[o.success?s.jsx(Yr,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(Wa,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-[#1E1E1E] mb-1",children:o.test}),s.jsx("p",{className:"text-sm text-[#666] break-words",children:o.details})]})]})},l))}),r.length===0&&!e&&s.jsx("div",{className:"p-8 text-center text-[#666]",children:s.jsx("p",{children:"  ,   "})})]})]})}const c6e="mlm_user_counter",u6e="mlm_partner_counter";function d6e(){try{const e=localStorage.getItem(c6e);return e?parseInt(e,10):0}catch(e){return console.warn("Failed to get local user counter:",e),0}}function h6e(){try{const e=localStorage.getItem(u6e);return e?parseInt(e,10):0}catch(e){return console.warn("Failed to get local partner counter:",e),0}}function f6e(){return(d6e()+1).toString()}function m6e(){return(h6e()+1).toString().padStart(3,"0")}function p6e({currentUser:e}){const[t,r]=w.useState(!0),[n,i]=w.useState({totalUsers:0,totalOrders:0,totalRevenue:0,pendingOrders:0}),[a,o]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState([]),[m,p]=w.useState([]),[x,b]=w.useState("001"),[y,v]=w.useState(null),[N,j]=w.useState({:"",:"",:0,:"",:!0}),[E,k]=w.useState(null),[_,A]=w.useState({:"",:"",:"",:"",:0});w.useEffect(()=>{T()},[]);const T=async()=>{try{r(!0);const $=await Pv();$.success&&o($.users||[]);const H=await S9();H.success&&c(H.orders||[]);const W=await k_();W.success&&h(W.products||[]);const B=await Y9();B.success&&p(B.materials||[]),console.log(" Loading counter from local storage...");const M=f6e(),z=m6e();console.log(" Local counters:",{localNextUserId:M,localNextPartnerId:z}),b(M),console.log(" Counter loaded from local storage:",M);const P=(H.orders||[]).reduce((L,U)=>L+(U.||0),0),C=(H.orders||[]).filter(L=>L.===" ").length;i({totalUsers:$.users?.length||0,totalOrders:H.orders?.length||0,totalRevenue:P,pendingOrders:C})}catch($){console.error("Failed to load admin data:",$),Q.error("  ")}finally{r(!1)}},D=async($,H)=>{try{(await J9($,H)).success&&(Q.success("  "),T())}catch(W){console.error("Failed to update order status:",W),Q.error("  ")}},q=async()=>{try{y?(await O_(y.id,y)).success&&(Q.success(" "),v(null),T()):(await P_(N)).success&&(Q.success(" "),j({:"",:"",:0,:"",:!0}),T())}catch($){console.error("Failed to save product:",$),Q.error("  ")}},K=async()=>{try{E?(await Q9(E.id,E)).success&&(Q.success(" "),k(null),T()):(await X9(_)).success&&(Q.success(" "),A({:"",:"",:"",:"",:0}),T())}catch($){console.error("Failed to save training material:",$),Q.error("  ")}};return t?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Ut,{className:"w-8 h-8 animate-spin text-[#39B7FF]"})}):s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#39B7FF] to-[#12C9B6] rounded-2xl flex items-center justify-center",children:s.jsx(kn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-[#1E1E1E]",children:" "}),s.jsx("p",{className:"text-[#666]",children:"        "})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#666]",style:{fontSize:"14px",marginBottom:"8px"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"28px",fontWeight:"700"},children:n.totalUsers})]}),s.jsx("div",{className:"w-12 h-12 bg-[#F0F9FF] rounded-xl flex items-center justify-center",children:s.jsx(Ot,{className:"w-6 h-6 text-[#39B7FF]"})})]})})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#666]",style:{fontSize:"14px",marginBottom:"8px"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"28px",fontWeight:"700"},children:n.totalOrders})]}),s.jsx("div",{className:"w-12 h-12 bg-[#F0FDF4] rounded-xl flex items-center justify-center",children:s.jsx(Ns,{className:"w-6 h-6 text-[#12C9B6]"})})]})})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#666]",style:{fontSize:"14px",marginBottom:"8px"},children:" "}),s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontSize:"28px",fontWeight:"700"},children:["",n.totalRevenue.toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-[#FFF7ED] rounded-xl flex items-center justify-center",children:s.jsx(On,{className:"w-6 h-6 text-[#FB923C]"})})]})})}),s.jsx(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[#666]",style:{fontSize:"14px",marginBottom:"8px"},children:" "}),s.jsx("p",{className:"text-[#1E1E1E]",style:{fontSize:"28px",fontWeight:"700"},children:n.pendingOrders})]}),s.jsx("div",{className:"w-12 h-12 bg-[#FEF2F2] rounded-xl flex items-center justify-center",children:s.jsx(tl,{className:"w-6 h-6 text-[#EF4444]"})})]})})})]}),s.jsxs(Ni,{defaultValue:"overview",className:"space-y-6",children:[s.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:s.jsxs(Si,{className:"bg-white border border-[#E6E9EE] p-1 rounded-xl inline-flex sm:flex w-max sm:w-auto min-w-full sm:min-w-0",children:[s.jsx(Dt,{value:"overview",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:""}),s.jsx(Dt,{value:"diagnostics",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:" "}),s.jsx(Dt,{value:"orders",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:""}),s.jsx(Dt,{value:"products",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:""}),s.jsx(Dt,{value:"training",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:""}),s.jsx(Dt,{value:"achievements",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:""}),s.jsx(Dt,{value:"commissions",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#39B7FF] data-[state=active]:to-[#12C9B6] data-[state=active]:text-white whitespace-nowrap text-xs sm:text-sm",children:""})]})}),s.jsx(Vt,{value:"overview",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-[#12C9B6]"}),s.jsxs("div",{children:[s.jsx("p",{style:{fontWeight:"600"},className:"text-[#1E1E1E]",children:" "}),s.jsx("p",{className:"text-[#666]",style:{fontSize:"13px"},children:"   "})]})]}),s.jsx(Qe,{className:"bg-green-100 text-green-700",children:""})]})})})]})}),s.jsx(Vt,{value:"diagnostics",children:s.jsx(l6e,{})}),s.jsx(Vt,{value:"orders",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E]",children:["  (",l.length,")"]})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-3",children:l.map(($,H)=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 bg-[#F7FAFC] rounded-xl",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsxs("p",{className:"text-[#1E1E1E]",style:{fontWeight:"600"},children:[" #",$.]}),s.jsx(Qe,{className:$.===""?"bg-green-100 text-green-700":$.===" "?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",children:$.})]}),s.jsxs("p",{className:"text-[#666]",style:{fontSize:"13px"},children:[new Date($.).toLocaleDateString("ru-RU"),"  ",$.?.toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>D($.id,""),disabled:$.==="",children:[s.jsx(Yr,{className:"w-4 h-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:""})]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>D($.id,""),disabled:$.==="",children:[s.jsx(Wa,{className:"w-4 h-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:""})]})]})]},`${$.id}-${H}`))})})]})}),s.jsx(Vt,{value:"products",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "})}),s.jsx(Ee,{children:s.jsx("p",{className:"text-[#666]",children:"  "})})]})}),s.jsx(Vt,{value:"training",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:"  "})}),s.jsx(Ee,{children:s.jsx("p",{className:"text-[#666]",children:"  "})})]})}),s.jsx(Vt,{value:"achievements",children:s.jsx(o6e,{})}),s.jsx(Vt,{value:"commissions",children:s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:" "})}),s.jsx(Ee,{children:s.jsx(iq,{})})]})})]}),y&&s.jsx(Er,{open:!!y,onOpenChange:()=>v(null),children:s.jsxs(vr,{className:"max-w-2xl",children:[s.jsx(_r,{children:s.jsx(yr,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(Ie,{value:y.,onChange:$=>v({...y,:$.target.value})})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(eo,{value:y.,onChange:$=>v({...y,:$.target.value})})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:"  ()"}),s.jsx(Ie,{type:"number",value:y.basePrice,onChange:$=>v({...y,basePrice:Number($.target.value)})})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(Ie,{value:y.,onChange:$=>v({...y,:$.target.value})})]}),s.jsx(ie,{className:"w-full bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",onClick:q,children:" "})]})]})}),E&&s.jsx(Er,{open:!!E,onOpenChange:()=>k(null),children:s.jsxs(vr,{className:"max-w-2xl",children:[s.jsx(_r,{children:s.jsx(yr,{children:" "})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(Ie,{value:E.,onChange:$=>k({...E,:$.target.value})})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(eo,{value:E.,onChange:$=>k({...E,:$.target.value})})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(Ie,{value:E.,onChange:$=>k({...E,:$.target.value}),placeholder:", , "})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:" (URL  )"}),s.jsx(eo,{value:E.,onChange:$=>k({...E,:$.target.value})})]}),s.jsxs("div",{children:[s.jsx(Oe,{children:""}),s.jsx(Ie,{type:"number",value:E.,onChange:$=>k({...E,:Number($.target.value)})})]}),s.jsx(ie,{className:"w-full bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",onClick:K,children:" "})]})]})})]})})}const g6e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class TA extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class x6e extends TA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class e$ extends TA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class t$ extends TA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var o_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(o_||(o_={}));class v6e{constructor(t,{headers:r={},customFetch:n,region:i=o_.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=g6e(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return it(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:l,method:c,body:d,signal:h,timeout:m}=n;let p={},{region:x}=n;x||(x=this.region);const b=new URL(`${this.url}/${r}`);x&&x!=="any"&&(p["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(p["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(p["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;let v=h;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),h?(v=o.signal,h.addEventListener("abort",()=>o.abort())):v=o.signal);const N=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y,signal:v}).catch(_=>{throw new x6e(_)}),j=N.headers.get("x-relay-error");if(j&&j==="true")throw new e$(N);if(!N.ok)throw new t$(N);let E=((i=N.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return E==="application/json"?k=yield N.json():E==="application/octet-stream"||E==="application/pdf"?k=yield N.blob():E==="text/event-stream"?k=N:E==="multipart/form-data"?k=yield N.formData():k=yield N.text(),{data:k,error:null,response:N}}catch(l){return{data:null,error:l,response:l instanceof t$||l instanceof e$?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Fn={};const Qd=$G(IZ);var Cg={},kg={},Ag={},Pg={},Og={},Tg={},r$;function DH(){if(r$)return Tg;r$=1,Object.defineProperty(Tg,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Tg.default=e,Tg}var n$;function FH(){if(n$)return Og;n$=1,Object.defineProperty(Og,"__esModule",{value:!0});const t=Qd.__importDefault(DH());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,m,p;let x=null,b=null,y=null,v=c.status,N=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=_:b=JSON.parse(_))}const E=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&k&&k.length>1&&(y=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(x={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,v=406,N="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const E=await c.text();try{x=JSON.parse(E),Array.isArray(x)&&c.status===404&&(b=[],x=null,v=200,N="OK")}catch{c.status===404&&E===""?(v=204,N="No Content"):x={message:E}}if(x&&this.isMaybeSingle&&(!((p=x?.details)===null||p===void 0)&&p.includes("0 rows"))&&(x=null,v=200,N="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:b,count:y,status:v,statusText:N}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,h,m,p,x,b;let y="";const v=c?.cause;if(v){const N=(d=v?.message)!==null&&d!==void 0?d:"",j=(h=v?.code)!==null&&h!==void 0?h:"";y=`${(m=c?.name)!==null&&m!==void 0?m:"FetchError"}: ${c?.message}`,y+=`

Caused by: ${(p=v?.name)!==null&&p!==void 0?p:"Error"}: ${N}`,j&&(y+=` (${j})`),v?.stack&&(y+=`
${v.stack}`)}else y=(x=c?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(b=c?.name)!==null&&b!==void 0?b:"FetchError"}: ${c?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return Og.default=r,Og}var s$;function $H(){if(s$)return Pg;s$=1,Object.defineProperty(Pg,"__esModule",{value:!0});const t=Qd.__importDefault(FH());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Pg.default=r,Pg}var i$;function RA(){if(i$)return Ag;i$=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=Qd.__importDefault($H()),r=new RegExp("[,()]");class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(a,o,l){return this.url.searchParams.append(a,`not.${o}.${l}`),this}or(a,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,l){return this.url.searchParams.append(a,`${o}.${l}`),this}}return Ag.default=n,Ag}var a$;function LH(){if(a$)return kg;a$=1,Object.defineProperty(kg,"__esModule",{value:!0});const t=Qd.__importDefault(RA());class r{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=l}select(i,a){const{head:o=!1,count:l}=a??{},c=o?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(m.length>0){const p=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var o;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return kg.default=r,kg}var o$;function y6e(){if(o$)return Cg;o$=1,Object.defineProperty(Cg,"__esModule",{value:!0});const e=Qd,t=e.__importDefault(LH()),r=e.__importDefault(RA());class n{constructor(a,{headers:o={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:c=!1,count:d}={}){var h;let m;const p=new URL(`${this.url}/rpc/${a}`);let x;l||c?(m=l?"HEAD":"GET",Object.entries(o).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{p.searchParams.append(y,v)})):(m="POST",x=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:m,url:p,headers:b,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Cg.default=n,Cg}var l$;function b6e(){if(l$)return Fn;l$=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.PostgrestError=Fn.PostgrestBuilder=Fn.PostgrestTransformBuilder=Fn.PostgrestFilterBuilder=Fn.PostgrestQueryBuilder=Fn.PostgrestClient=void 0;const e=Qd,t=e.__importDefault(y6e());Fn.PostgrestClient=t.default;const r=e.__importDefault(LH());Fn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(RA());Fn.PostgrestFilterBuilder=n.default;const i=e.__importDefault($H());Fn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(FH());Fn.PostgrestBuilder=a.default;const o=e.__importDefault(DH());return Fn.PostgrestError=o.default,Fn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Fn}var BH=b6e();const zH=rr(BH),w6e=A$({__proto__:null,default:zH},[BH]),{PostgrestClient:j6e,PostgrestQueryBuilder:J4e,PostgrestFilterBuilder:Z4e,PostgrestTransformBuilder:e3e,PostgrestBuilder:t3e,PostgrestError:r3e}=zH||w6e;class N6e{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const S6e="2.86.0",E6e=`realtime-js/${S6e}`,WH="1.0.0",_6e="2.0.0",c$=WH,l_=1e4,C6e=1e3,k6e=100;var Hl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hl||(Hl={}));var on;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(on||(on={}));var Ui;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ui||(Ui={}));var c_;(function(e){e.websocket="websocket"})(c_||(c_={}));var Kl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kl||(Kl={}));class A6e{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(x),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,c.length),b.setUint8(y++,l.length),b.setUint8(y++,o.length),b.setUint8(y++,d.length),b.setUint8(y++,m.length),b.setUint8(y++,r),Array.from(c,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(l,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(o,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(d,N=>b.setUint8(y++,N.charCodeAt(0))),Array.from(m,N=>b.setUint8(y++,N.charCodeAt(0)));var v=new Uint8Array(x.byteLength+n.byteLength);return v.set(new Uint8Array(x),0),v.set(new Uint8Array(n),x.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,l,c]=n;return r({join_ref:i,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+a));c=c+a;const m=n.decode(t.slice(c,c+o));c=c+o;const p=t.slice(c,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST_EVENT,event:h,payload:x};return o>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class UH{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pr||(pr={}));const u$=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=P6e(o,e,t,i),a),{}):{}},P6e=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i?.type,o=r[e];return a&&!n.includes(a)?VH(a,o):u_(o)},VH=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return M6e(t,r)}switch(e){case pr.bool:return O6e(t);case pr.float4:case pr.float8:case pr.int2:case pr.int4:case pr.int8:case pr.numeric:case pr.oid:return T6e(t);case pr.json:case pr.jsonb:return R6e(t);case pr.timestamp:return I6e(t);case pr.abstime:case pr.date:case pr.daterange:case pr.int4range:case pr.int8range:case pr.money:case pr.reltime:case pr.text:case pr.time:case pr.timestamptz:case pr.timetz:case pr.tsrange:case pr.tstzrange:return u_(t);default:return u_(t)}},u_=e=>e,O6e=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},T6e=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R6e=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},M6e=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>VH(t,l))}return e},I6e=e=>typeof e=="string"?e.replace(" ","T"):e,qH=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kS{constructor(t,r,n={},i=l_){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var d$;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(d$||(d$={}));class hf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hf.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=hf.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hf.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(d,h)=>{o[d]||(c[d]=h)}),this.map(o,(d,h)=>{const m=a[d];if(m){const p=h.map(v=>v.presence_ref),x=m.map(v=>v.presence_ref),b=h.filter(v=>x.indexOf(v.presence_ref)<0),y=m.filter(v=>p.indexOf(v.presence_ref)<0);b.length>0&&(l[d]=b),y.length>0&&(c[d]=y)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const m=t[l].map(x=>x.presence_ref),p=h.filter(x=>m.indexOf(x.presence_ref)<0);t[l].unshift(...p)}n(l,h,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=d,i(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h$;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(h$||(h$={}));var ff;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ff||(ff={}));var za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(za||(za={}));class MA{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kS(this,Ui.join,this.params,this.timeout),this.rejoinTimer=new UH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ui.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new hf(this),this.broadcastEndpointURL=qH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==on.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[ff.PRESENCE]&&this.bindings[ff.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(za.CHANNEL_ERROR,x)),this._onClose(()=>t?.(za.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket.setAuth(),x===void 0){t?.(za.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(b=y?.length)!==null&&b!==void 0?b:0,N=[];for(let j=0;j<v;j++){const E=y[j],{filter:{event:k,schema:_,table:A,filter:T}}=E,D=x&&x[j];if(D&&D.event===k&&D.schema===_&&D.table===A&&D.filter===T)N.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),this.state=on.errored,t?.(za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(za.SUBSCRIBED);return}}).receive("error",x=>{this.state=on.errored,t?.(za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===on.joined&&t===ff.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=on.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ui.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new kS(this,Ui.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=on.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new kS(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>k6e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=Ui;if(n&&[l,c,d,h].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var b,y,v;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(y=x.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(x=>x.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var b,y,v,N,j,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const k=x.id,_=(b=x.filter)===null||b===void 0?void 0:b.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(_==="*"||_?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const k=(j=(N=x?.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return k==="*"||k===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:y,table:v,commit_timestamp:N,type:j,errors:E}=b;p=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:N,eventType:j,new:{},old:{},errors:E}),this._getPayloadRecords(b))}x.callback(p,n)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&MA.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ui.close,{},t)}_onError(t){this._on(Ui.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=u$(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=u$(t.columns,t.old_record)),r}}const AS=()=>{},Rg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D6e=[1e3,2e3,5e3,1e4],F6e=1e4,$6e=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class L6e{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=l_,this.transport=null,this.heartbeatIntervalMs=Rg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=AS,this.ref=0,this.reconnectTimer=null,this.vsn=c$,this.logger=AS,this.conn=null,this.sendBuffer=[],this.serializer=new A6e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${c_.websocket}`,this.httpEndpoint=qH(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N6e.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hl.connecting:return Kl.Connecting;case Hl.open:return Kl.Open;case Hl.closing:return Kl.Closing;default:return Kl.Closed}}isConnected(){return this.connectionState()===Kl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new MA(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(C6e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hl.open||this.conn.readyState===Hl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ui.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$6e],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:E6e};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ui.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new UH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,l,c,d,h,m,p,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:l_,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Rg.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:AS,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:c$,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(b=>D6e[b-1]||F6e),this.vsn){case WH:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((b,y)=>y(JSON.stringify(b))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:((b,y)=>y(JSON.parse(b)));break;case _6e:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class H0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Rr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class B6e extends H0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class d_ extends H0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const IA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z6e=()=>Response,h_=e=>{if(Array.isArray(e))return e.map(r=>h_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=h_(n)}),t},W6e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},U6e=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),PS=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},V6e=(e,t,r)=>it(void 0,void 0,void 0,function*(){const n=yield z6e();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,o=i?.statusCode||a+"";t(new B6e(PS(i),a,o))}).catch(i=>{t(new d_(PS(i),i))}):t(new d_(PS(e),e))}),q6e=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(W6e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Km(e,t,r,n,i,a){return it(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,q6e(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>V6e(c,l,n))})})}function fm(e,t,r,n){return it(this,void 0,void 0,function*(){return Km(e,"GET",t,r,n)})}function Bi(e,t,r,n,i){return it(this,void 0,void 0,function*(){return Km(e,"POST",t,n,i,r)})}function f_(e,t,r,n,i){return it(this,void 0,void 0,function*(){return Km(e,"PUT",t,n,i,r)})}function H6e(e,t,r,n){return it(this,void 0,void 0,function*(){return Km(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function DA(e,t,r,n,i){return it(this,void 0,void 0,function*(){return Km(e,"DELETE",t,n,i,r)})}class K6e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return it(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rr(t))return{data:null,error:t};throw t}})}}var HH;class G6e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[HH]="BlobDownloadBuilder",this.promise=null}asStream(){return new K6e(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return it(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Rr(t))return{data:null,error:t};throw t}})}}HH=Symbol.toStringTag;const Y6e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X6e{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=IA(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return it(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},f$),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=yield(t=="PUT"?f_:Bi)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Rr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return it(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:f$.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield f_(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Rr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return it(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Bi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new H0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}update(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return it(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Bi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return it(this,void 0,void 0,function*(){try{const i=yield Bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>fm(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new G6e(c,this.shouldThrowOnError)}info(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:h_(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}exists(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield H6e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n)&&n instanceof d_){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield DA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}list(t,r,n){return it(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Y6e),r),{prefix:t||""});return{data:yield Bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}listV2(t,r){return it(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Bi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const KH="2.86.0",GH={"X-Client-Info":`storage-js/${KH}`};class Q6e{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GH),r),this.fetch=IA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return it(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield fm(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}getBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}createBucket(t){return it(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Rr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return it(this,void 0,void 0,function*(){try{return{data:yield f_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield DA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var mm=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function J6e(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function Z6e(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function eTe(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const l=J6e(e.baseUrl,n,i),c=await Z6e(e.auth),d=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),p=m&&h?JSON.parse(h):h;if(!d.ok){const x=m?p:void 0,b=x?.error;throw new mm(b?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:b?.type,icebergCode:b?.code,details:x})}return{status:d.status,headers:d.headers,data:p}}}}function Mg(e){return e.join("")}var tTe=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Mg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mg(e.namespace)}`}),!0}catch(t){if(t instanceof mm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof mm&&r.status===409)return;throw r}}};function pu(e){return e.join("")}var rTe=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof mm&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof mm&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},nTe=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=eTe({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new tTe(this.client,t),this.tableOps=new rTe(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class sTe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GH),r),this.fetch=IA(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}listBuckets(t){return it(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield fm(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield DA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}})}from(t){if(!U6e(t))throw new H0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new nTe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>it(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const FA={"X-Client-Info":`storage-js/${KH}`,"Content-Type":"application/json"};class YH extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gs(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class OS extends YH{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class iTe extends YH{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var m$;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(m$||(m$={}));const $A=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aTe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},p$=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oTe=(e,t,r)=>it(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const l=o?.statusCode||o?.code||i+"";t(new OS(p$(o),i,l))}).catch(()=>{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new OS(l,i,o))});else{const o=i+"",l=a.statusText||`HTTP ${i} error`;t(new OS(l,i,o))}}else t(new iTe(p$(e),e))}),lTe=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(aTe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function cTe(e,t,r,n,i,a){return it(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,lTe(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>oTe(c,l,n))})})}function Ys(e,t,r,n,i){return it(this,void 0,void 0,function*(){return cTe(e,"POST",t,n,i,r)})}class uTe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FA),r),this.fetch=$A(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return it(this,void 0,void 0,function*(){try{return{data:(yield Ys(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}getIndex(t,r){return it(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gs(n))return{data:null,error:n};throw n}})}listIndexes(t){return it(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return it(this,void 0,void 0,function*(){try{return{data:(yield Ys(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Gs(n))return{data:null,error:n};throw n}})}}class dTe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FA),r),this.fetch=$A(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return it(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ys(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}getVectors(t){return it(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}listVectors(t){return it(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ys(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}queryVectors(t){return it(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}deleteVectors(t){return it(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ys(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}}class hTe{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FA),r),this.fetch=$A(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return it(this,void 0,void 0,function*(){try{return{data:(yield Ys(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}getBucket(t){return it(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}listBuckets(){return it(this,arguments,void 0,function*(t={}){try{return{data:yield Ys(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}deleteBucket(t){return it(this,void 0,void 0,function*(){try{return{data:(yield Ys(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Gs(r))return{data:null,error:r};throw r}})}}class fTe extends hTe{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mTe(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return it(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return it(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return it(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return it(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class mTe extends uTe{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return it(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return it(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return it(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return it(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pTe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pTe extends dTe{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return it(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return it(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return it(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return it(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return it(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gTe extends Q6e{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new X6e(this.url,this.headers,t,this.fetch)}get vectors(){return new fTe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sTe(this.url+"/iceberg",this.headers,this.fetch)}}const xTe="2.86.0";let Jh="";typeof Deno<"u"?Jh="deno":typeof document<"u"?Jh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jh="react-native":Jh="node";const vTe={"X-Client-Info":`supabase-js-${Jh}/${xTe}`},yTe={headers:vTe},bTe={schema:"public"},wTe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jTe={},NTe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),STe=()=>Headers,ETe=(e,t,r)=>{const n=NTe(r),i=STe();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new i(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:d}))}};function _Te(e){return e.endsWith("/")?e:e+"/"}function CTe(e,t){var r,n;const{db:i,auth:a,realtime:o,global:l}=e,{db:c,auth:d,realtime:h,global:m}=t,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function kTe(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_Te(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const XH="2.86.0",wu=30*1e3,m_=3,TS=m_*wu,ATe="http://localhost:9999",PTe="supabase.auth.token",OTe={"X-Client-Info":`gotrue-js/${XH}`},p_="X-Supabase-Api-Version",QH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TTe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RTe=600*1e3;class pm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class MTe extends pm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ITe(e){return mt(e)&&e.name==="AuthApiError"}class Gl extends pm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yl extends pm{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Bs extends yl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DTe(e){return mt(e)&&e.name==="AuthSessionMissingError"}class gu extends yl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ig extends yl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dg extends yl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FTe(e){return mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class g$ extends yl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class g_ extends yl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function RS(e){return mt(e)&&e.name==="AuthRetryableFetchError"}class x$ extends yl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class x_ extends yl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),v$=` 	
\r=`.split(""),$Te=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<v$.length;t+=1)e[v$[t].charCodeAt(0)]=-2;for(let t=0;t<jv.length;t+=1)e[jv[t].charCodeAt(0)]=t;return e})();function y$(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jv[n]),t.queuedBits-=6}}function JH(e,t,r){const n=$Te[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function b$(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{zTe(o,n,r)};for(let o=0;o<e.length;o+=1)JH(e.charCodeAt(o),i,a);return t.join("")}function LTe(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BTe(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}LTe(n,t)}}function zTe(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vu(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)JH(e.charCodeAt(i),r,n);return new Uint8Array(t)}function WTe(e){const t=[];return BTe(e,r=>t.push(r)),new Uint8Array(t)}function sc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>y$(i,r,n)),y$(null,r,n),t.join("")}function UTe(e){return Math.round(Date.now()/1e3)+e}function VTe(){return Symbol("auth-callback")}const wn=()=>typeof window<"u"&&typeof document<"u",Ll={tested:!1,writable:!1},ZH=()=>{if(!wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ll.tested)return Ll.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ll.tested=!0,Ll.writable=!0}catch{Ll.tested=!0,Ll.writable=!1}return Ll.writable};function qTe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const eK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HTe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ju=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Io=async(e,t)=>{await e.removeItem(t)};class K0{constructor(){this.promise=new K0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}K0.promiseConstructor=Promise;function MS(e){const t=e.split(".");if(t.length!==3)throw new x_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!TTe.test(t[n]))throw new x_("JWT not in base64url format");return{header:JSON.parse(b$(t[0])),payload:JSON.parse(b$(t[1])),signature:Vu(t[2]),raw:{header:t[0],payload:t[1]}}}async function KTe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GTe(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function YTe(e){return("0"+e.toString(16)).substr(-2)}function XTe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,YTe).join("")}async function QTe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function JTe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await QTe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xu(e,t,r=!1){const n=XTe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ju(e,`${t}-code-verifier`,i);const a=await JTe(n);return[a,n===a?"plain":"s256"]}const ZTe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e4e(e){const t=e.headers.get(p_);if(!t||!t.match(ZTe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function t4e(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function r4e(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n4e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vu(e){if(!n4e.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function IS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s4e(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function w$(e){return JSON.parse(JSON.stringify(e))}const ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i4e=[502,503,504];async function j$(e){var t;if(!HTe(e))throw new g_(ql(e),0);if(i4e.includes(e.status))throw new g_(ql(e),e.status);let r;try{r=await e.json()}catch(a){throw new Gl(ql(a),a)}let n;const i=e4e(e);if(i&&i.getTime()>=QH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new x$(ql(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new x$(ql(r),e.status,r.weak_password.reasons);throw new MTe(ql(r),e.status||500,n)}const a4e=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function _t(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[p_]||(a[p_]=QH["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await o4e(e,t,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function o4e(e,t,r,n,i,a){const o=a4e(t,n,i,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new g_(ql(c),0)}if(l.ok||await j$(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await j$(c)}}function Di(e){var t;let r=null;u4e(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UTe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function N$(e){const t=Di(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function l4e(e){return{data:e,error:null}}function c4e(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=ol(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function S$(e){return e}function u4e(e){return e.access_token&&e.refresh_token&&e.expires_in}const DS=["global","local","others"];class d4e{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=eK(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=DS[0]){if(DS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${DS.join(", ")}`);try{return await _t(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await _t(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zo})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ol(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await _t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c4e,redirectTo:r?.redirectTo})}catch(r){if(mt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zo})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await _t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:S$});if(h.error)throw h.error;const m=await h.json(),p=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);d[`${v}Page`]=y}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(mt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){vu(t);try{return await _t(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zo})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vu(t);try{return await _t(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zo})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vu(t);try{return await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zo})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vu(t.userId);try{const{data:r,error:n}=await _t(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vu(t.userId),vu(t.id);try{return{data:await _t(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:S$});if(h.error)throw h.error;const m=await h.json(),p=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);d[`${v}Page`]=y}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(mt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await _t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await _t(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await _t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await _t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}}function E$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const yu={debug:!!(globalThis&&ZH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tK extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h4e extends tK{}async function f4e(e,t,r){yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),yu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new h4e(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function m4e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rK(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function p4e(e){return parseInt(e,16)}function g4e(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function x4e(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:h,uri:m,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=rK(e.address),b=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",v=`${b} wants you to sign in with your Ethereum account:
${x}

${y}`;let N=`URI: ${m}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(N+=`
Expiration Time: ${i.toISOString()}`),l&&(N+=`
Not Before: ${l.toISOString()}`),c&&(N+=`
Request ID: ${c}`),d){let j=`
Resources:`;for(const E of d){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);j+=`
- ${E}`}N+=j}return`${v}
${N}`}class Kr extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Nv extends Kr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function v4e({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(nK(o)){if(a.rp.id!==o)return new Kr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function y4e({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(nK(n)){if(r.rpId!==n)return new Kr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class b4e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const w4e=new b4e;function j4e(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ol(e,["challenge","user","excludeCredentials"]),a=Vu(t).buffer,o=Object.assign(Object.assign({},r),{id:Vu(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Vu(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function N4e(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ol(e,["challenge","allowCredentials"]),i=Vu(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Vu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function S4e(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:sc(new Uint8Array(e.response.attestationObject)),clientDataJSON:sc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function E4e(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sc(new Uint8Array(i.authenticatorData)),clientDataJSON:sc(new Uint8Array(i.clientDataJSON)),signature:sc(new Uint8Array(i.signature)),userHandle:i.userHandle?sc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nK(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _$(){var e,t;return!!(wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _4e(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nv("Browser returned unexpected credential type",t)}:{data:null,error:new Nv("Empty credential response",t)}}catch(t){return{data:null,error:v4e({error:t,options:e})}}}async function C4e(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nv("Browser returned unexpected credential type",t)}:{data:null,error:new Nv("Empty credential response",t)}}catch(t){return{data:null,error:y4e({error:t,options:e})}}}const k4e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},A4e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Sv(l,o):n[a]=Sv(o)}else n[a]=o}return n}function P4e(e,t){return Sv(k4e,e,t||{})}function O4e(e,t){return Sv(A4e,e,t||{})}class T4e{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=i??w4e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=P4e(o.webauthn.credential_options.publicKey,a?.create),{data:h,error:m}=await _4e({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=O4e(o.webauthn.credential_options.publicKey,a?.request),{data:h,error:m}=await C4e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(o){return mt(o)?{data:null,error:o}:{data:null,error:new Gl("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new pm("rpId is required for WebAuthn authentication")};try{if(!_$())return{data:null,error:new Gl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return mt(o)?{data:null,error:o}:{data:null,error:new Gl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new pm("rpId is required for WebAuthn registration")};try{if(!_$())return{data:null,error:new Gl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return mt(o)?{data:null,error:o}:{data:null,error:new Gl("Unexpected error in register",o)}}}}m4e();const R4e={url:ATe,storageKey:PTe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OTe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function C$(e,t,r){return await r()}const bu={};class gm{get jwks(){var t,r;return(r=(t=bu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},R4e),t);if(this.storageKey=a.storageKey,this.instanceID=(r=gm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&wn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new d4e({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=eK(a.fetch),this.lock=a.lock||C$,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:wn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=f4e:this.lock=C$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T4e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ZH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E$(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=E$(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${XH}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(wn()&&(r=qTe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FTe(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return mt(r)?this._returnResult({error:r}):this._returnResult({error:new Gl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Di}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(mt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:h,password:m,options:p}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await xu(this.storage,this.storageKey)),a=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:m,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:x,code_challenge_method:b},xform:Di})}else if("phone"in t){const{phone:h,password:m,options:p}=t;a=await _t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Di})}else throw new Ig("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(mt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:N$})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await _t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:N$})}else throw new Ig("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new gu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(mt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,l,c,d,h,m,p;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:y,wallet:v,statement:N,options:j}=t;let E;if(wn())if(typeof v=="object")E=v;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")E=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const k=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),_=await E.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=rK(_[0]);let T=(n=j?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const q=await E.request({method:"eth_chainId"});T=p4e(q)}const D={domain:k.host,address:A,statement:N,uri:k.href,version:"1",chainId:T,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=x4e(D),b=await E.request({method:"personal_sign",params:[g4e(x),A]})}try{const{data:y,error:v}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Di});if(v)throw v;if(!y||!y.session||!y.user){const N=new gu;return this._returnResult({data:{user:null,session:null},error:N})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(mt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,i,a,o,l,c,d,h,m,p,x;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:v,wallet:N,statement:j,options:E}=t;let k;if(wn())if(typeof N=="object")k=N;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))k=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const _=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const A=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),j?{statement:j}:null));let T;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")T=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)T=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),y=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((m=(h=E?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...E.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const A=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=A}}try{const{data:v,error:N}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:sc(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Di});if(N)throw N;if(!v||!v.session||!v.user){const j=new gu;return this._returnResult({data:{user:null,session:null},error:j})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:N})}catch(v){if(mt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Bl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await _t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Di});if(await Io(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new gu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(mt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,l=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Di}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new gu;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(mt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await xu(this.storage,this.storageKey));const{error:m}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await _t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new Ig("You must provide either an email or phone number.")}catch(l){if(mt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await _t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Di});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await xu(this.storage,this.storageKey));const d=await _t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:l4e});return!((a=d.data)===null||a===void 0)&&a.url&&wn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(mt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Bs;const{error:i}=await _t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:l}=await _t(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:l})}throw new Ig("You must provide either an email or phone number and a type")}catch(r){if(mt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<TS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Bl(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=IS()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=s4e(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zo}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bs}:await _t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:zo})})}catch(r){if(mt(r))return DTe(r)&&(await this._removeSession(),await Io(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Bs;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xu(this.storage,this.storageKey));const{data:d,error:h}=await _t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:zo});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(mt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bs;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=MS(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(mt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Bs;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(mt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!wn())throw new Dg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new g$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new g$("No code detected.");const{data:j,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!o||!d)throw new Dg("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let p=h+m;c&&(p=parseInt(c));const x=p-h;x*1e3<=wu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const b=p-m;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,h);const{data:y,error:v}=await this._getUser(a);if(v)throw v;const N={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:p,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:t.type},error:null})}catch(n){if(mt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ITe(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Io(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=VTe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xu(this.storage,this.storageKey,!0));try{return await _t(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(mt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,d,h;const{data:m,error:p}=a;if(p)throw p;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _t(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return wn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(mt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:l,token:c,access_token:d,nonce:h}=t,m=await _t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Di}),{data:p,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new gu}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:x}))}catch(i){if(mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await _t(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await GTe(async i=>(i>0&&await KTe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await _t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Di})),(i,a)=>{const o=200*Math.pow(2,i);return a&&RS(a)&&Date.now()+o-n<wu})}catch(n){if(this._debug(r,"error",n),mt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Bl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Bl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ju(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:IS()}else if(i&&!i.user&&!i.user){const o=await Bl(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Io(this.storage,this.storageKey+"-user"),await ju(this.storage,this.storageKey,i)):i.user=IS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<TS;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${TS}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),RS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new K0;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Bs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),mt(a)){const o={data:null,error:a};return RS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ju(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=w$(i);await ju(this.storage,this.storageKey,a)}else{const i=w$(r);await ju(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Io(this.storage,this.storageKey),await Io(this.storage,this.storageKey+"-code-verifier"),await Io(this.storage,this.storageKey+"-user"),this.userStorage&&await Io(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/wu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wu}ms, refresh threshold is ${m_} ticks`),i<=m_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tK)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await xu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await _t(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await _t(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?S4e(t.webauthn.credential_response):E4e(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await _t(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:j4e(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:N4e(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=MS(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await _t(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Bs})})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Bs});const o=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&wn()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Bs});const o=await _t(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&wn()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await _t(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bs})})}catch(t){if(mt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await _t(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bs})})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+RTe>i)return n;const{data:a,error:o}=await _t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});n=x.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=MS(n);r?.allowExpired||t4e(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:i,signature:o},error:null}}const h=r4e(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,o,WTe(`${l}.${c}`)))throw new x_("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}}gm.nextInstanceID={};const M4e=gm;class I4e extends M4e{constructor(t){super(t)}}class D4e{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const l=kTe(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:bTe,realtime:jTe,auth:Object.assign(Object.assign({},wTe),{storageKey:c}),global:yTe},h=CTe(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ETe(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new j6e(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new gTe(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new v6e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:h},m,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I4e({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:l,lock:c,debug:d,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new L6e(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F4e=(e,t,r)=>new D4e(e,t,r);function $4e(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$4e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L4e=`https://${Tt}.supabase.co`,B4e=F4e(L4e,Rt,{auth:{persistSession:!0,autoRefreshToken:!0}});async function z4e(){try{const e=localStorage.getItem("access_token");if(e)return console.log(" Token found in localStorage"),e;console.log(" No token in localStorage, checking Supabase session...");const{data:{session:t}}=await B4e.auth.getSession();return t?.access_token?(console.log(" Token found in Supabase session, saving to localStorage"),localStorage.setItem("access_token",t.access_token),t.access_token):(console.log(" No token found in localStorage or Supabase session"),null)}catch(e){return console.error("Error in getAccessToken:",e),null}}const FS={ceo:" CEO ( )",finance:"  ()",warehouse:"   ()",manager:"  ()",support:"  ( )"},k$={ceo:"     ",finance:" , , ",warehouse:" , , ",manager:" , ",support:"    "};function W4e({currentUser:e}){const[t,r]=w.useState([]),[n,i]=w.useState([]),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[d,h]=w.useState(null),[m,p]=w.useState(null),[x,b]=w.useState("admins"),[y,v]=w.useState(!1),[N,j]=w.useState({email:"",password:"",firstName:"",lastName:"",role:"support"}),[E,k]=w.useState(!1),[_,A]=w.useState(""),[T,D]=w.useState(""),[q,K]=w.useState(!1),[$,H]=w.useState(!1),[W,B]=w.useState(null),[M,z]=w.useState(""),[P,C]=w.useState(!1),L=e?.type==="admin"&&e?.role==="ceo";w.useEffect(()=>{L?(async()=>{let xe=localStorage.getItem("access_token");const X=localStorage.getItem("userId");if(console.log(" AdminPanel: Token check:",{exists:!!xe,length:xe?.length||0,preview:xe?`${xe.substring(0,20)}...`:"N/A",currentUserId:e?.id,storedUserId:X}),!xe&&X){console.log(" No access_token found, but user is logged in. Trying to get session from Supabase...");try{const fe=await z4e();fe?(xe=fe,localStorage.setItem("access_token",fe),console.log(" Retrieved and saved access_token from Supabase session")):console.warn(" Could not retrieve access_token from Supabase")}catch(fe){console.error("Error getting access_token:",fe)}}if(!xe){console.warn(" AdminPanel: Access token .    ."),console.warn(" Debugging info:",{isCEO:L,currentUser:e,localStorageKeys:Object.keys(localStorage)}),h("         ");return}console.log(" AdminPanel: Token found, loading admin data..."),U(),R()})():console.log(" AdminPanel: User is not CEO, skipping initialization",{currentUser:e,isCEO:L})},[L,e?.id]);const U=async()=>{try{o(!0);const ee=localStorage.getItem("access_token");if(!ee){console.warn(" Access token  .   ."),h("    ");return}const xe=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admins`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`}}),X=await xe.json();if(!xe.ok){if(xe.status===401){console.error("    "),h(" . ,  ."),localStorage.removeItem("access_token");return}throw new Error(X.error||"   ")}const fe=(X.admins||[]).map(de=>({...de,permissions:de.permissions||[],role:de.role||"support"}));console.log(" Loaded admins from /admins endpoint:",fe.length),r(fe),h(null)}catch(ee){console.error("Load admins error:",ee),h(ee instanceof Error?ee.message:" ")}finally{o(!1)}},R=async()=>{try{o(!0);const ee=localStorage.getItem("userId"),xe=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/admin/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`,"X-User-Id":ee||""}}),X=await xe.json();if(!xe.ok)throw new Error(X.error||"   ");i(X.users||[])}catch(ee){console.error("Load users error:",ee),h(ee instanceof Error?ee.message:" ")}finally{o(!1)}},I=async ee=>{if(ee.preventDefault(),h(null),p(null),!N.email||!N.password||!N.firstName||!N.lastName){h(",   ");return}if(N.password.length<6){h("    6 ");return}try{o(!0);const xe=localStorage.getItem("access_token"),X=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/auth/signup-admin`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`},body:JSON.stringify({email:N.email.trim(),password:N.password,firstName:N.firstName.trim(),lastName:N.lastName.trim(),role:N.role,creatorToken:xe})}),fe=await X.json();if(!X.ok)throw new Error(fe.error||"  ");p(` ${N.firstName} ${N.lastName}  !`),c(!1),j({email:"",password:"",firstName:"",lastName:"",role:"support"}),U()}catch(xe){console.error("Create admin error:",xe),h(xe instanceof Error?xe.message:" ")}finally{o(!1)}},V=async ee=>{try{o(!0);const xe=localStorage.getItem("access_token"),X=await fetch(`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/auth/delete-admin`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rt}`},body:JSON.stringify({adminId:ee,creatorToken:xe})}),fe=await X.json();if(!X.ok)throw new Error(fe.error||"  ");Q.success("  !"),U()}catch(xe){console.error("Delete admin error:",xe),Q.error(xe instanceof Error?xe.message:" ")}finally{o(!1)}},re=ee=>{A(ee),D(""),k(!0)},ce=()=>{q||(k(!1),A(""),D(""))},me=async()=>{if(!_||!T.trim()){Q.error("  ");return}const ee=T.trim();if(ee.length<2){Q.error("ID    2 ");return}if(!/^[a-zA-Z0-9_-]+$/.test(ee)){Q.error("ID     , ,   ");return}const xe=t.find(fe=>fe.id===_);if(!xe){Q.error("  ");return}const X=` ,    ID ?

${xe.} ${xe.}
${_}  ${ee}

       .`;if(confirm(X)){K(!0);try{const fe=await A_(_,ee);fe.success?(Q.success(`ID  : ${_}  ${ee}`),_===e.id?(E_(ee),Q.info(" ID . ..."),setTimeout(()=>{window.location.reload()},1500)):(ce(),U(),R())):Q.error(fe.error||"   ID")}catch(fe){console.error("Error changing ID:",fe),Q.error(fe.message||"   ID")}finally{K(!1)}}},ae=ee=>{B(ee),z(ee.role),H(!0)},ue=()=>{P||(H(!1),B(null),z(""))},pe=async()=>{if(!W||!M){Q.error("  ");return}const ee=` ,     ?

${W.} ${W.}
${W.role}  ${M}

       .`;if(confirm(ee)){C(!0);try{if(!localStorage.getItem("access_token")){Q.error("   . ,    .");return}const X=await N9(W.id,M);X.success?(Q.success(`  : ${W.role}  ${M}`),ue(),U(),R()):Q.error(X.error||"   ")}catch(xe){console.error("Error changing role:",xe),Q.error(xe.message||"   ")}finally{C(!1)}}};return L?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl flex items-center justify-center",children:s.jsx(kn,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),s.jsx("p",{className:"text-gray-600",children:"     "})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:async()=>{if(confirm("  ?      user:id:     admin:id:"))try{o(!0);const ee=await x9();ee.migratedAdmins>0||ee.deletedDuplicates>0?Q.success(` ${ee.message}
: ${ee.migratedAdmins}
 : ${ee.deletedDuplicates}`,{duration:5e3}):Q.info("   .      .",{duration:4e3}),ee.log&&ee.log.length>0&&console.log("   :",ee.log),U()}catch(ee){console.error("   :",ee),Q.error(ee.message||" ")}finally{o(!1)}},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",disabled:a,children:[s.jsx(rs,{className:"w-5 h-5"}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:l?s.jsxs(s.Fragment,{children:[s.jsx(Mr,{className:"w-5 h-5"}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"w-5 h-5"}),s.jsx("span",{children:" "})]})})]})]}),m&&s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3",children:[s.jsx(Br,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-700 font-semibold",children:"!"}),s.jsx("p",{className:"text-green-600 text-sm",children:m})]})]}),d&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(ks,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-red-700 font-semibold",children:""}),s.jsx("p",{className:"text-red-600 text-sm",children:d})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{const ee=localStorage.getItem("access_token"),xe=localStorage.getItem("userId");console.log("   :",{hasAccessToken:!!ee,accessTokenLength:ee?.length||0,hasUserId:!!xe,userId:xe||"N/A",preview:ee?`${ee.substring(0,30)}...`:"N/A"}),ee?(alert(`  !

: ${ee.length}
: ${ee.substring(0,40)}...

  .`),h(null),U(),R()):alert(`     localStorage.

   .`)},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors",children:"  "}),(d.includes("")||d.includes(""))&&s.jsx("button",{onClick:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("userId"),window.location.reload()},className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors",children:" "})]})]}),l&&s.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"  "}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),s.jsx("input",{type:"text",value:N.firstName,onChange:ee=>j({...N,firstName:ee.target.value}),placeholder:": ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),s.jsx("input",{type:"text",value:N.lastName,onChange:ee=>j({...N,lastName:ee.target.value}),placeholder:": ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:a})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:N.email,onChange:ee=>j({...N,email:ee.target.value}),placeholder:"admin@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),s.jsx("input",{type:"password",value:N.password,onChange:ee=>j({...N,password:ee.target.value}),placeholder:" 6 ",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:a})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:""}),s.jsx("select",{value:N.role,onChange:ee=>j({...N,role:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:a,children:Object.entries(FS).map(([ee,xe])=>ee!=="ceo"&&s.jsx("option",{value:ee,children:xe},ee))}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:k$[N.role]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"...":" "})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),s.jsxs("h3",{className:"font-semibold text-gray-900",children:["  (",t.length,")"]})]})}),a&&t.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"..."})]}):t.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(kn,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"   "}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"  "})]}):s.jsx("div",{className:"divide-y divide-gray-200",children:t.map(ee=>s.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${ee.role==="ceo"?"bg-gradient-to-br from-purple-500 to-purple-700":ee.role==="finance"?"bg-gradient-to-br from-green-500 to-green-700":ee.role==="warehouse"?"bg-gradient-to-br from-blue-500 to-blue-700":ee.role==="manager"?"bg-gradient-to-br from-orange-500 to-orange-700":"bg-gradient-to-br from-gray-500 to-gray-700"}`,children:s.jsx(kn,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:[ee.," ",ee.]}),ee.role==="ceo"&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-semibold rounded",children:" CEO"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ee.email}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsx("span",{className:"text-sm text-gray-700 font-medium",children:FS[ee.role]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",ee.id]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[": ",new Date(ee.created).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ee.createdBy&&`  : ${ee.createdBy}`]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>re(ee.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm hover:shadow-md",children:[s.jsx(mf,{className:"w-4 h-4"}),s.jsx("span",{children:" ID"})]}),s.jsxs("button",{onClick:()=>ae(ee),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm hover:shadow-md",children:[s.jsx(mf,{className:"w-4 h-4"}),s.jsx("span",{children:" "})]}),s.jsxs("button",{onClick:()=>V(ee.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors shadow-sm hover:shadow-md",children:[s.jsx(Un,{className:"w-4 h-4"}),s.jsx("span",{children:""})]})]})]}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:(ee.permissions||[]).map(xe=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:xe.replace("_"," ")},xe))})]},ee.id))})]}),s.jsx(Er,{open:E,onOpenChange:ce,children:s.jsxs(vr,{className:"sm:max-w-[500px]",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:" ID "}),s.jsx(kr,{children:(()=>{const ee=t.find(xe=>xe.id===_);return ee?`${ee.} ${ee.} (${ee.email})`:" "})()})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs(Uo,{className:"bg-blue-50 border-blue-200",children:[s.jsx(rs,{className:"w-4 h-4 text-blue-600"}),s.jsxs(Vo,{className:"text-blue-800",children:[s.jsx("strong",{children:":"}),"   ID     (, , )   ."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-900",children:" ID"}),s.jsx(Ie,{value:_,disabled:!0,className:"bg-gray-50 font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-900",children:[" ID ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ie,{value:T,onChange:ee=>D(ee.target.value),placeholder:"  ID (: CEO, admin, director)",className:"font-mono",disabled:q}),s.jsx("p",{className:"text-xs text-gray-600",children:"  , ,   .  2 ."})]}),_===e?.id&&s.jsxs(Uo,{className:"bg-yellow-50 border-yellow-200",children:[s.jsx(rs,{className:"w-4 h-4 text-yellow-600"}),s.jsx(Vo,{className:"text-yellow-800",children:"     ID.    ,        ID."})]})]}),s.jsxs(_s,{children:[s.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:ce,disabled:q,children:""}),s.jsx("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:from-blue-700 hover:to-blue-800 sm:ml-3 sm:w-auto disabled:opacity-50",onClick:me,disabled:!T.trim()||q,children:q?"...":" ID"})]})]})}),s.jsx(Er,{open:$,onOpenChange:ue,children:s.jsxs(vr,{className:"sm:max-w-[500px]",children:[s.jsxs(_r,{children:[s.jsx(yr,{children:"  "}),s.jsx(kr,{children:(()=>{const ee=W;return ee?`${ee.} ${ee.} (${ee.email})`:" "})()})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs(Uo,{className:"bg-blue-50 border-blue-200",children:[s.jsx(rs,{className:"w-4 h-4 text-blue-600"}),s.jsxs(Vo,{className:"text-blue-800",children:[s.jsx("strong",{children:":"}),"         ."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-900",children:" "}),s.jsx(Ie,{value:W?.role||"",disabled:!0,className:"bg-gray-50 font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-900",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:M,onChange:ee=>z(ee.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",disabled:P,children:Object.entries(FS).map(([ee,xe])=>ee!=="ceo"&&s.jsx("option",{value:ee,children:xe},ee))}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:k$[M]})]}),W?.id===e?.id&&s.jsxs(Uo,{className:"bg-yellow-50 border-yellow-200",children:[s.jsx(rs,{className:"w-4 h-4 text-yellow-600"}),s.jsx(Vo,{className:"text-yellow-800",children:"     .      ."})]})]}),s.jsxs(_s,{children:[s.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:ue,disabled:P,children:""}),s.jsx("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:from-blue-700 hover:to-blue-800 sm:ml-3 sm:w-auto disabled:opacity-50",onClick:pe,disabled:!M||P,children:P?"...":" "})]})]})})]}):s.jsx("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ks,{className:"w-6 h-6 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-semibold",children:" "}),s.jsx("p",{className:"text-red-600 text-sm",children:" CEO   "})]})]})})}function U4e({authScreen:e,setAuthScreen:t}){const[r,n]=w.useState(null),[i,a]=w.useState(null),[o,l]=w.useState(""),[c,d]=w.useState(!0),[h,m]=w.useState(0),[p,x]=w.useState(!1),[b,y]=w.useState(!0),[v,N]=w.useState(!0),j=()=>{m(A=>A+1)},E=()=>{console.log(" Logging out..."),localStorage.removeItem("userId"),localStorage.removeItem("access_token"),Lg(),n(null),a(null),l(""),window.location.reload()};w.useEffect(()=>{console.log(" MainApp useEffect triggered. userId:",r,"refreshTrigger:",h),(async()=>{if(!r){console.log(" MainApp: No userId, clearing currentUser"),a(null),d(!1);return}try{console.log(" MainApp: Loading user data for:",r);const T=await __(r);console.log(" MainApp: getUser response:",T),T.success&&T.user?(console.log(" MainApp: User data loaded:",T.user),a(T.user)):(console.error(" MainApp: Failed to load user data:",T),n(null),Lg())}catch(T){console.error(" MainApp: Error loading user data:",T),n(null),Lg()}finally{d(!1)}})()},[r,h]),w.useEffect(()=>{if(!r||!i)return;const A=async()=>{try{const{projectId:D,publicAnonKey:q}=await vi(async()=>{const{projectId:H,publicAnonKey:W}=await Promise.resolve().then(()=>xm);return{projectId:H,publicAnonKey:W}},void 0),K=await fetch(`https://${D}.supabase.co/functions/v1/make-server-05aa3c8a/user/activity`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({userId:r})});if(!K.ok){const H=await K.text();console.error(" Activity update failed:",K.status,H);return}const $=await K.json()}catch(D){console.error(" Failed to update activity:",D)}};A();const T=setInterval(A,60*1e3);return()=>clearInterval(T)},[r,i]),w.useEffect(()=>{const A=window.location.pathname,D=new URLSearchParams(window.location.search).get("ref");D?(console.log(" MainApp: Referral code detected:",D,"switching to register screen"),t("register")):A==="/register"?(console.log(" MainApp: URL is /register, switching to register screen"),t("register")):(A==="/login"||A==="/")&&(console.log(" MainApp: URL is /login or /, switching to login screen"),t("login"))},[t]),w.useEffect(()=>{console.log(" MainApp: Checking auth status...");const A=Pd();console.log(" MainApp: Token from storage:",A?"EXISTS":"NULL"),A?(n(A),localStorage.setItem("userId",A),console.log(" MainApp: User is authenticated, userId:",A)):console.log(" MainApp: No auth token, showing login"),d(!1)},[]);const k=A=>{console.log(" MainApp: Authentication successful, userId:",A),n(A),localStorage.setItem("userId",A),console.log(" Saved userId to localStorage:",A)};if(c)return s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#39B7FF] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})});if(!r||!i)return r?s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#39B7FF] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"  ..."})]})}):e==="register"?(console.log(" MainApp: Rendering RegistrationRu"),s.jsx(JJ,{onSwitchToLogin:()=>{console.log(" MainApp: Switching to login"),t("login")}})):(console.log(" MainApp: Rendering LoginRu"),s.jsx(QJ,{onSwitchToRegister:()=>{console.log(" MainApp: Switching to register"),t("register")},onLogin:A=>{console.log(" MainApp: User logged in, calling handleAuth"),k(A)}}));console.log(" MainApp: User authenticated, showing main app. Active section:",o);const _=()=>{switch(o){case"":case"dashboard":return s.jsxs("div",{children:[s.jsxs("div",{className:"bg-white border-b border-[#E6E9EE] px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"14px"},children:" :"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>N(!1),className:`px-4 py-2 rounded-lg transition-all ${v?"bg-gray-100 text-[#666] hover:bg-gray-200":"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white shadow-sm"}`,style:{fontSize:"13px",fontWeight:"600"},children:""}),s.jsx("button",{onClick:()=>N(!0),className:`px-4 py-2 rounded-lg transition-all ${v?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white shadow-sm":"bg-gray-100 text-[#666] hover:bg-gray-200"}`,style:{fontSize:"13px",fontWeight:"600"},children:" "})]})]}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"12px"},children:v?" React Query  +  CSV (< 200ms)":"   (2-3 )"})]}),v?s.jsx(n2e,{currentUser:i,onRefresh:j,refreshTrigger:h}):s.jsx(lF,{currentUser:i,onNavigate:l,onRefresh:j,refreshTrigger:h})]});case"":case"structure":return s.jsx(Y_e,{currentUser:i,refreshTrigger:h});case"":case"users":return s.jsxs("div",{children:[s.jsxs("div",{className:"bg-white border-b border-[#E6E9EE] px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-[#666]",style:{fontSize:"14px"},children:":"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>y(!1),className:`px-4 py-2 rounded-lg transition-all ${b?"bg-gray-100 text-[#666] hover:bg-gray-200":"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white shadow-sm"}`,style:{fontSize:"13px",fontWeight:"600"},children:""}),s.jsx("button",{onClick:()=>y(!0),className:`px-4 py-2 rounded-lg transition-all ${b?"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white shadow-sm":"bg-gray-100 text-[#666] hover:bg-gray-200"}`,style:{fontSize:"13px",fontWeight:"600"},children:" "})]})]}),s.jsx("p",{className:"text-[#999]",style:{fontSize:"12px"},children:b?"    (1000+ )":"  "})]}),b?s.jsx(V_e,{currentUser:i,onRefresh:j}):s.jsx(s_e,{currentUser:i,onRefresh:j})]});case"":case"orders":return s.jsx(o2e,{currentUser:i,refreshTrigger:h});case"":case"incomes":case"earnings":return s.jsx(a6e,{currentUser:i,refreshTrigger:h});case"":case"balance":return s.jsx(l2e,{currentUser:i,onRefresh:j,refreshTrigger:h});case"":case"catalog":return s.jsx(FEe,{currentUser:i,onOrderCreated:j});case"":case"marketing":return s.jsx(e6e,{currentUser:i});case"":case"training":return s.jsx(X_e,{currentUser:i});case"":case"achievements":return s.jsx(YOe,{});case"":case"notifications":return s.jsx(GOe,{});case"":case"profile":return s.jsx(qOe,{currentUser:i,onUpdate:j,onLogout:E});case"":case"settings":return s.jsx(KOe,{currentUser:i,onUpdate:j,onLogout:E});case"":case"admin":return s.jsx(p6e,{currentUser:i});case"-":case"admin-management":return s.jsx(W4e,{currentUser:i});default:return s.jsx(lF,{currentUser:i,onNavigate:l,onRefresh:j,refreshTrigger:h})}};return s.jsxs("div",{className:"flex h-screen bg-[#F7FAFC] overflow-hidden",children:[s.jsx($ee,{:o,:A=>{l(A),x(!1)},currentUser:i,mobileMenuOpen:p,setMobileMenuOpen:x}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"lg:hidden bg-white border-b border-[#E6E9EE] px-4 py-3 flex items-center justify-between",children:[s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>x(!0),className:"text-[#666]",children:s.jsx(kQ,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-[#39B7FF] font-bold",children:"H "}),s.jsx("div",{className:"w-9"})," "]}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto w-full",children:_()})})]})]})}class sK extends Z.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error(" Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}handleReload=()=>{window.location.reload()};handleClearData=()=>{confirm("      ?")&&(localStorage.clear(),window.location.reload())};render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(rs,{className:"w-10 h-10 text-red-500"})}),s.jsx("h1",{className:"text-[#1E1E1E] text-center mb-4",style:{fontSize:"24px",fontWeight:"700"},children:" "}),s.jsx("p",{className:"text-[#666] text-center mb-6",style:{fontSize:"16px"},children:"    .      ."}),this.state.error&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:[s.jsx("p",{className:"text-red-800 mb-2",style:{fontSize:"14px",fontWeight:"600"},children:" :"}),s.jsx("p",{className:"text-red-700 text-sm font-mono break-all",children:this.state.error.toString()}),this.state.errorInfo&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-red-700 text-sm cursor-pointer hover:text-red-800",children:"  "}),s.jsx("pre",{className:"mt-2 text-xs text-red-600 overflow-x-auto whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:this.handleReload,className:"flex-1 py-3 px-6 bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-2",style:{fontWeight:"600"},children:[s.jsx(Hu,{className:"w-5 h-5"}),s.jsx("span",{children:" "})]}),s.jsx("button",{onClick:this.handleClearData,className:"flex-1 py-3 px-6 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",style:{fontWeight:"600"},children:" "})]}),s.jsx("p",{className:"text-[#999] text-center mt-6",style:{fontSize:"13px"},children:"  ,    (F12)     ."})]})}):this.props.children}}function V4e(){const[e,t]=w.useState(""),[r,n]=w.useState(null),[i,a]=w.useState(!1),[o,l]=w.useState(""),c=async()=>{if(!e.trim()){l(" email");return}a(!0),l(""),n(null);try{const d=`https://${Tt}.supabase.co/functions/v1/make-server-05aa3c8a/diagnostic/check-email/${encodeURIComponent(e)}`;console.log(" Checking email:",d);const h=await fetch(d,{headers:{Authorization:`Bearer ${Rt}`}});if(!h.ok)throw new Error(`HTTP ${h.status}`);const m=await h.json();console.log(" Diagnostic result:",m),n(m)}catch(d){console.error("Error checking email:",d),l(d.message||" ")}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-[#F7FAFC] p-4 lg:p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mb-6",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E] flex items-center gap-2",children:[s.jsx(Qs,{className:"w-6 h-6 text-[#39B7FF]"})," Email"]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ie,{type:"email",value:e,onChange:d=>t(d.target.value),placeholder:" email  ",className:"flex-1",onKeyDown:d=>d.key==="Enter"&&c()}),s.jsx(ie,{onClick:c,disabled:i,className:"bg-gradient-to-r from-[#39B7FF] to-[#12C9B6] text-white",children:i?"...":""})]}),o&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[s.jsx(ks,{className:"w-4 h-4 inline mr-2"}),o]})]})]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white mb-6",children:[s.jsx(He,{children:s.jsxs(Ge,{className:"text-[#1E1E1E]",children:["  : ",r.email]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold",children:"1.  admin:email"}),r.searchResults.adminEmailIndex.found?s.jsxs(Qe,{className:"bg-green-100 text-green-700",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(Qe,{className:"bg-gray-100 text-gray-700",children:[s.jsx(Wa,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsx("code",{className:"text-xs bg-gray-100 p-2 rounded block",children:r.searchResults.adminEmailIndex.key}),r.searchResults.adminEmailIndex.found&&s.jsx("pre",{className:"text-xs bg-blue-50 p-2 rounded mt-2 overflow-auto",children:JSON.stringify(r.searchResults.adminEmailIndex.data,null,2)})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold",children:"2.  user:email"}),r.searchResults.userEmailIndex.found?s.jsxs(Qe,{className:"bg-green-100 text-green-700",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(Qe,{className:"bg-gray-100 text-gray-700",children:[s.jsx(Wa,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsx("code",{className:"text-xs bg-gray-100 p-2 rounded block",children:r.searchResults.userEmailIndex.key}),r.searchResults.userEmailIndex.found&&s.jsx("pre",{className:"text-xs bg-blue-50 p-2 rounded mt-2 overflow-auto",children:JSON.stringify(r.searchResults.userEmailIndex.data,null,2)})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold",children:"3.   "}),r.searchResults.scanAllUsers.foundByEmail?s.jsxs(Qe,{className:"bg-green-100 text-green-700",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(Qe,{className:"bg-gray-100 text-gray-700",children:[s.jsx(Wa,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" : ",r.searchResults.scanAllUsers.totalUsers]}),r.searchResults.scanAllUsers.foundByEmail&&s.jsx("pre",{className:"text-xs bg-green-50 p-2 rounded overflow-auto",children:JSON.stringify(r.searchResults.scanAllUsers.userData,null,2)})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold",children:"4.   "}),r.searchResults.scanAllAdmins.foundByEmail?s.jsxs(Qe,{className:"bg-green-100 text-green-700",children:[s.jsx(Br,{className:"w-3 h-3 mr-1"}),""]}):s.jsxs(Qe,{className:"bg-gray-100 text-gray-700",children:[s.jsx(Wa,{className:"w-3 h-3 mr-1"})," "]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[" : ",r.searchResults.scanAllAdmins.totalAdmins]}),r.searchResults.scanAllAdmins.foundByEmail&&s.jsx("pre",{className:"text-xs bg-green-50 p-2 rounded overflow-auto",children:JSON.stringify(r.searchResults.scanAllAdmins.adminData,null,2)})]})]})]}),r.sampleUsers&&r.sampleUsers.length>0&&s.jsxs(Se,{className:"border-[#E6E9EE] rounded-2xl shadow-sm bg-white",children:[s.jsx(He,{children:s.jsx(Ge,{className:"text-[#1E1E1E]",children:"    ( 10)"})}),s.jsx(Ee,{children:s.jsx("div",{className:"space-y-2",children:r.sampleUsers.map((d,h)=>s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[d.," ",d.]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["ID: ",d.id," | Email: ",d.email]})]}),d.isAdmin&&s.jsx(Qe,{className:"bg-red-100 text-red-700",children:""})]})},h))})})]})]})]})})}const q4e=({...e})=>s.jsx(pNe,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-900 group-[.toaster]:border-gray-200 group-[.toaster]:shadow-lg",description:"group-[.toast]:text-gray-600",actionButton:"group-[.toast]:bg-[#39B7FF] group-[.toast]:text-white",cancelButton:"group-[.toast]:bg-gray-100 group-[.toast]:text-gray-600",closeButton:"group-[.toast]:bg-white group-[.toast]:border-gray-200 group-[.toast]:text-gray-600 group-[.toast]:hover:bg-gray-100"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e});function H4e(){const e=window.location.pathname;console.log(" AppRu rendering, pathname:",e),console.log(" Full URL:",window.location.href);const[t,r]=w.useState("login");return console.log(" AppRu: authScreen state =",t),e==="/email-diagnostic"?s.jsx(V4e,{}):e==="/partner-id-demo"?s.jsx(LJ,{}):e==="/refcode-demo"?s.jsx(MJ,{}):e==="/test-widget"?s.jsx(BJ,{}):e==="/diagnostic"?s.jsx(zJ,{}):e==="/auth-diagnostic"?s.jsx(UJ,{}):e==="/health-check"?s.jsx($J,{}):e==="/login-diagnostic"?s.jsx(FJ,{}):e==="/reset-password"&&window.location.hash.includes("type=recovery")?s.jsx(VJ,{}):(console.log(" Rendering MainApp with ErrorBoundary"),s.jsxs(s.Fragment,{children:[s.jsx(sK,{children:s.jsx(U4e,{authScreen:t,setAuthScreen:r})}),s.jsx(q4e,{position:"bottom-right",richColors:!0,closeButton:!0,expand:!0})]}))}const K4e=new OSe({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function G4e(){return w.useEffect(()=>{const e=i=>{console.error(" GLOBAL ERROR:",i.error),console.error(" Error message:",i.message),console.error(" Error stack:",i.error?.stack)},t=i=>{console.error(" UNHANDLED PROMISE REJECTION:",i.reason)};window.addEventListener("error",e),window.addEventListener("unhandledrejection",t);const r=localStorage.getItem("access_token"),n=localStorage.getItem("userId");return console.log(" App startup - Auth status:",{hasAccessToken:!!r,accessTokenLength:r?.length||0,hasUserId:!!n,userId:n||"N/A"}),console.log(" App mounted, global error handlers installed"),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},[]),s.jsx(TSe,{client:K4e,children:s.jsx(sK,{children:s.jsx(H4e,{})})})}HG.createRoot(document.getElementById("root")).render(s.jsx(G4e,{}));export{vi as _,Yp as c,rr as g};
