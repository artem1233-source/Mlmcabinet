ПРОСЬБА: ТОЛЬКО АНАЛИЗ КОДА, БЕЗ ИЗМЕНЕНИЙ ФАЙЛОВ

Важно: сейчас ничего не переписывай и не сохраняй. Никаких автоправок, только анализ и текстовый отчёт.

Контекст проекта:
	•	Это MLM-кабинет для партнёров.
	•	Истинный источник правды по комиссиям должен быть:
	•	product.commission (тип ProductCommission),
	•	функция getProductCommissions,
	•	функция calcOrder из mlm.ts,
	•	и далее order.payouts + earnings.
	•	В демо-режиме уже есть более-менее правильная связка:
	•	demoCreateOrder → calcOrder → order.payouts,
	•	processOrderCommissions распределяет выплаты по order.payouts.

Хочу, чтобы ты ПРОАНАЛИЗИРОВАЛ проект и ответил только текстом.

Сделай, пожалуйста, следующее:
	1.	Найди во всём репозитории все места, где:
	•	встречаются жёсткие суммы комиссий: 1600, 900, 500, 200 (как минимум);
	•	используются DEFAULT_COMMISSIONS напрямую, без product.commission;
	•	вручную обновляются балансы и доходы пользователей (например, прямые операции с полями баланс, доступныйБаланс, earnings и т.п.), без использования данных из order.payouts.
	2.	Для каждого найденного места:
	•	укажи путь к файлу и строки/фрагмент, где происходит расчёт комиссий или обновление баланса;
	•	кратко опиши, какую именно логику комиссия/дохода этот кусок реализует (например: “здесь считается розничная скидка L0”, “здесь админ пересчитывает суммы в отчёте” и т.д.);
	•	укажи, завязано ли это на:
	•	product.commission / getProductCommissions / calcOrder / order.payouts
или это отдельная старая математика.
	3.	Отдельно посмотри:
	•	edge-функции Supabase / серверные обработчики заказов и выплат;
	•	экраны:
	•	“Доходы”,
	•	“Баланс”,
	•	админские отчёты (статистика, сводки);
и напиши:
	•	Какие из них уже используют earnings и order.payouts;
	•	Какие ещё тянут старые поля вроде d0/d1/d2/d3 или свои ручные формулы.
	4.	В конце сделай сводку:
	•	Список файлов, где:
	•	А) всё уже корректно завязано на calcOrder + product.commission + order.payouts;
	•	Б) остались куски старой логики (хардкоды, свои формулы, ручные изменения баланса).
	•	Не предлагай сразу всё переписывать, просто опиши, что именно потенциально конфликтует с новой моделью.

Ещё раз: никаких изменений в коде, только анализ и текстовый отчёт по пунктам.